{"version":3,"file":"framework.lib.js","sources":["../../src/js/imports/core/settings.js","../../src/js/imports/util/validation.js","../../src/js/imports/classes/data-helper.js","../../src/js/imports/data-helper/dom.js","../../src/js/imports/data-helper/string.js","../../src/js/imports/util/ui.js","../../src/js/imports/core/initiator.js","../../src/js/imports/data-helper/event.js","../../src/js/imports/util/datahandler.js","../../src/js/imports/classes/component.js","../../src/js/imports/util/breakpoint.js","../../src/js/imports/accordion.js","../../src/js/imports/alert.js","../../src/js/imports/button.js","../../src/js/imports/dropdown.js","../../src/js/imports/data-helper/date.js","../../src/js/imports/form/form-calendar.js","../../src/js/imports/util/modifiers.js","../../src/js/imports/data-helper/array.js","../../src/js/imports/form/form-tags.js","../../src/js/imports/form.js","../../src/js/imports/lazy.js","../../src/js/imports/list-group.js","../../src/js/imports/modal.js","../../src/js/imports/module-grid.js","../../src/js/imports/switch.js","../../src/js/imports/tabs.js","../../src/js/imports/tooltip.js","../../src/js/imports/zone.js","../../src/js/framework.lib.js"],"sourcesContent":["const CORE_SETTINGS = {};\n\tCORE_SETTINGS.prefix = 'fw';\n\tCORE_SETTINGS.lazyLoad = true;\n\tCORE_SETTINGS.initializeModal = true;\n\tCORE_SETTINGS.initializeAccordion = true;\n\tCORE_SETTINGS.dynamicHash = true;\n\tCORE_SETTINGS.uiClass = `${CORE_SETTINGS.prefix}-ui`; //for styles\n\tCORE_SETTINGS.uiJsClass = CORE_SETTINGS.uiClass.replace('-','_'); // for scripting events and shit\n\nclass Settings {\n\n\tstatic modify(key,value){\n\t\tif(this.hasOwnProperty(key)){\n\t\t\tCORE_SETTINGS[key] = value;\n\t\t}\n\t}\n\n\tstatic get(key){\n\t\tconst toReturn = {\n\t\t\tprefix: CORE_SETTINGS.prefix,\n\t\t\tlazyLoad: CORE_SETTINGS.lazyLoad,\n\t\t\tinitializeModal: CORE_SETTINGS.initializeModal,\n\t\t\tinitializeAccordion: CORE_SETTINGS.initializeAccordion,\n\t\t\tdynamicHash: CORE_SETTINGS.dynamicHash,\n\t\t\tuiClass: CORE_SETTINGS.uiClass,\n\t\t\tuiJsClass: CORE_SETTINGS.uiJsClass,\n\t\t}\n\n\t\tif(key){\n\t\t\treturn toReturn[key];\n\t\t}else{\n\t\t\treturn toReturn;\n\t\t}\n\t}\n}\n\n\nexport default Settings;","//valid shits\nexport const DisableClasses = [\n\t'table-row-disabled',\n\t'tab-disabled',\n\t'btn-disabled',\n\t'input-disabled',\n\t'disabled'\n];\n\n// @TODO push instead of hard coding to arrays because\n\nexport const lookupResetToParentClass = [\n\t'input-group',\n\t'btn-group',\n];\n\nexport const lookupResetFromClosestComponent = [\n\t'dropdown',\n\t'modal',\n\t'modal-board',\n\t'switch',\n\t'alert',\n];\n\nexport const lookupResetFromClosestComponentUi = [\n\t//root component name, subcomponent mods\n\t'modal',\n\t'modal-board',\n\t'input-calendar',\n\t'input-tags',\n];\n\n\nexport const DateTimePreset = {\n\tHumanDate: {\n\t\tplaceholder: 'mm/dd/yyyy',\n\t\tpattern: /^\\d{2}\\/\\d{2}\\/\\d{4}$/,\n\t\ttemplate: 'mm/dd/yy'\n\t},\n\tHumanTime24: {\n\t\tplaceholder:\"hh:mm\",\n\t\tpattern:\"\",\n\t\ttemplate:\"HH:MM\"\n\t},\n\tHumanTime12: {\n\t\tplaceholder:\"hh:mm\",\n\t\tpattern:\"\",\n\t\ttemplate:\"HH:MM\"\n\t},\n\tValue: {\n\t\tplaceholder: 'yyyy-mm-dd',\n\t\tpattern: /^\\d{4}[-]\\d{2}[-]\\d{2}$/,\n\t\ttemplate: 'yy-mm-dd'\n\t},\n\tValueDateTimePreset:{\n\t\tplaceholder:\"yy-mm-ddThh:gg\",\n\t\tpattern:\"\",\n\t\ttemplate:\"yy-mm-ddThh:gg\"\n\t}\n};\n\nexport const dayNames = [\n\t'Sunday',\n\t'Monday',\n\t'Tuesday',\n\t'Wednesday',\n\t'Thursday',\n\t'Friday',\n\t'Saturday'\n];\n\nexport const dayNamesShort = [\n\t'Sun',\n\t'Mon',\n\t'Tue',\n\t'Wed',\n\t'Thu',\n\t'Fri',\n\t'Sat'\n];\n\nexport const dayNamesShorter = [\n\t'Su',\n\t'Mo',\n\t'Tu',\n\t'We',\n\t'Th',\n\t'Fr',\n\t'Sa'\n];\n\nexport const monthNames = [\n\t'January',\n\t'February',\n\t'March',\n\t'April',\n\t'May',\n\t'June',\n\t'July',\n\t'August',\n\t'September',\n\t'October',\n\t'November',\n\t'December'\n];\n\nexport const monthNamesShort = [\n\t'Jan',\n\t'Feb',\n\t'Mar',\n\t'Apr',\n\t'May',\n\t'Jun',\n\t'Jul',\n\t'Aug',\n\t'Sep',\n\t'Oct',\n\t'Nov',\n\t'Dec'\n];\n\n\n\t\n\n\nexport const Palette = [\n\t'base',\n\t'primary',\n\t'secondary',\n\t'accent',\n\t'neutral',\n\t'error',\n\t'caution',\n\t'success'\n];\n\n\n\n","class FwDataHelper {\n\tconstructor(data,dataParser){\n\t\tif (!data) {\n\t\t\treturn;\n\t\t}\n\n\t\tdataParser = dataParser || function(dat){\n\t\t\treturn dat;\n\t\t}\n\n\t\tthis._FwData = dataParser(data);\n\n\t\treturn this.getData();\n\t}\n\n\tgetData() {\n\t\treturn this._FwData;\n\t}\n}\n\nexport default FwDataHelper;","import FwDataHelper from './../classes/data-helper.js';\n\n\nclass FwDom extends FwDataHelper {\n\n\tconstructor(data){\n\n\t\tsuper(\n\t\t\tdata,\n\t\t\t(dat) => {\n\t\t\t\t\n\t\t\t\tlet toReturn;\n\t\t\t\n\t\t\t\tif(typeof dat === 'string'){\n\t\t\t\t\t// console.log('looks like a selector');\n\t\t\t\t\tconst selection = document.querySelectorAll(dat);\n\t\t\n\t\t\t\t\tif(selection.length > 1){\n\t\t\t\t\t\ttoReturn = selection;\n\t\t\t\t\t}else{\n\t\t\t\t\t\ttoReturn = document.querySelector(dat);\n\t\t\t\t\t}\n\t\t\t\t}else{\n\t\t\t\t\t// console.log('looks like a dom obj');\n\t\t\t\t\ttoReturn = dat;\n\t\t\t\t}\n\t\n\t\t\t\treturn toReturn;\n\t\t\t}\n\t\t);\n\t\t\n\t}\n\n\t\n\n\tstatic slideDown(elem){\n\t\telem = elem || super.getData();\n\t\telem && (elem.style.display = 'block');\n\n\t\treturn elem\n\t}\n\n\tstatic slideUp(elem){\n\t\telem = elem || super.getData();\n\t\telem && (elem.style.display = 'none');\n\n\t\treturn elem\n\t}\n\n\tstatic getSiblings(elem){\n\t\telem = elem || super.getData();\n\t\treturn Array.prototype.filter.call(\n\t\t\telem.parentNode.children,\n\t\t\t(child)=>{\n\t\t\t\treturn child !== elem;\n\t\t\t}\n\t\t);\n\t}\n\t\n\tstatic isDescendant(parent, child) {\n\t\tvar node = child.parentNode;\n\t\twhile (node != null) {\n\t\t\tif (node == parent) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\tnode = node.parentNode;\n\t\t}\n\t\treturn false;\n   }\n\n\tstatic getAncestors(elem,selector){\n\t\telem = elem || super.getData();\n\t\tconst parents = [];\n\n\t\tlet firstChar;\n\n\t\tif (selector) {\n\t\t\tfirstChar = selector.charAt(0);\n\t\t}\n\n\t\t// Get matches\n\t\tfor (; elem && elem !== document; elem = elem.parentNode) {\n\n\t\t\tif (selector) {\n\t\t\t\t// If selector is a class\n\t\t\t\tif (firstChar === '.') {\n\t\t\t\t\tif (elem.classList.contains(selector.substr(1))) {\n\t\t\t\t\t\tparents.push(elem);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// If selector is an ID\n\t\t\t\tif (firstChar === '#') {\n\t\t\t\t\tif (elem.id === selector.substr(1)) {\n\t\t\t\t\t\tparents.push(elem);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// If selector is a data attribute\n\t\t\t\tif (firstChar === '[') {\n\t\t\t\t\tif (\n\t\t\t\t\t\telem.hasAttribute(selector.substr(1, selector.length - 1))\n\t\t\t\t\t) {\n\t\t\t\t\t\tparents.push(elem);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// If selector is a tag\n\t\t\t\tif (elem.tagName.toLowerCase() === selector) {\n\t\t\t\t\tparents.push(elem);\n\t\t\t\t}\n\n\t\t\t} else {\n\t\t\t\tparents.push(elem);\n\t\t\t}\n\n\t\t}\n\t\t// Return parents if any exist\n\t\tif (parents.length === 0) {\n\t\t\treturn null;\n\t\t} else {\n\t\t\treturn parents;\n\t\t}\n\t}\n\n\tstatic moveContents(elem,elementToMoveContentsTo){\n\t\telem = elem || super.getData();\n\t\tconst oldParent = elem;\n\t\tconst newParent = new FwDom(elementToMoveContentsTo);\n\n\t\tif(!elem && !elementToMoveContentsTo){\n\t\t\treturn\n\t\t}\n\t\t\n\t\tif (\n\t\t\tnewParent\n\t\t\t&& newParent !== oldParent) {\n\t\t\twhile (oldParent.childNodes.length > 0) {\n\t\t\t\tnewParent.appendChild(oldParent.childNodes[0]); \n\t\t\t}\n\t\t}\n\n\t\treturn elem;\n\t}\n\n\tstatic scrollToElem(elem,ToScrollTo,direction){\n\t\telem = elem || super.getData();\n\t\tif(!ToScrollTo){\n\t\t\treturn;\n\t\t}\n\n\t\tdirection = direction || 'y';\n\n\t\t\tconst methods =\n\t\t\t\tdirection == 'x'\n\t\t\t\t\t? ['scrollLeft', 'left']\n\t\t\t\t\t: ['scrollTop', 'top'];\n\n\t\t\tconst scrollOpts = {};\n\n\t\t\tscrollOpts[methods[1]] =\n\t\t\t\telem[methods[0]]\n\t\t\t\t- elem.getBoundingClientRect()[methods[1]]\n\t\t\t\t+ ToScrollTo.getBoundingClientRect()[methods[1]]\n\n\t\t\telem.scrollTo(scrollOpts);\n\n\t\t\treturn elem;\n\t}\n\n\tstatic RunFnForChildren(ancestorElem,selector,parentSelector,fn) { //@TODO wtf\n\n\t\tif(\n\t\t\tancestorElem\n\t\t\t&& selector\n\t\t\t&& parentSelector\n\t\t\t&& fn\t\n\t\t){\n\t\t\tlet children = ancestorElem.querySelectorAll(selector);\n\t\n\t\t\tchildren.forEach((child) => {\n\t\n\t\t\t\tif(\n\t\t\t\t\tchild.closest(parentSelector)\n\t\t\t\t\t&& (ancestorElem.isSameNode(child.closest(parentSelector)))\n\t\t\t\t){\n\t\t\t\t\tfn(child);\n\t\t\t\t}\n\t\t\t})\n\n\t\t\treturn ancestorElem;\n\t\t}\n\t}\n\t\n}\n\nexport default FwDom;","import FwDataHelper from './../classes/data-helper.js';\n\nclass FwString extends FwDataHelper {\n\tconstructor(data){\n\t\tsuper(data);\n\t}\n\tstatic GetFileExtension (str) {\n\t\tstr = str.toString();\n\t\treturn str.split('.').pop();\n\t}\n\tstatic ToCamelCase (str) {\n\t\tstr = str.toString();\n\t\n\t\treturn str\n\t\t\t.replace(/(?:^\\w|[A-Z]|\\b\\w)/g, (word, index) => {\n\t\t\t\treturn index == 0\n\t\t\t\t\t? word.toLowerCase()\n\t\t\t\t\t: word.toUpperCase();\n\t\t\t})\n\t\t\t.replace(/-|\\s/g, '');\n\t}\n\t\n\n\tstatic ToDashed(str) {\n\t\tstr = str.toString();\n\n\t\treturn FwString.ToCamelCase(str).replace( /([a-z]|[0-9])([A-Z])/g, '$1-$2' ).toLowerCase();\n\t}\n}\n\nexport default FwString;","\nimport Settings from './../core/settings.js';\nimport {lookupResetToParentClass,lookupResetFromClosestComponent,lookupResetFromClosestComponentUi} from './validation.js';\nimport FwDom from './../data-helper/dom.js';\nimport FwString from './../data-helper/string.js';\n\nexport const UIPrefix = (componentName) => {\n\treturn `${componentName}-ui`;\n}\n\nexport const UIDynamicClass = `${Settings.get('uiJsClass')}_internal_toggle`;\n\nexport const UIBodyClass = {\n\tnoScroll: `body-no-scroll`,\n\tonDrag: `body-on-drag`,\n\tloading: `body-loading`,\n\tloaded: `body-loaded`,\n}\n//convert toggler if it's a dynamic chu so no sadness\nexport const UITriggerer = (triggerer,isGroupable) => {\n\ttriggerer = triggerer || false;\n\tisGroupable = isGroupable || false;\n\n\tlet toReturn;\n\n\tif (triggerer) {\n\t\tif ( isGroupable ){\n\t\t\treturn;\n\t\t} else if ( //calendar fix\n\t\t\ttriggerer\n\t\t\t\t.closest(`.${Settings.get('uiJsClass')}`)\n\t\t\t&& !triggerer\n\t\t\t\t.closest(`.${UIDynamicClass}`)\n\t\t) {\n\t\t\ttoReturn = triggerer\n\t\t\t\t.closest(`.${Settings.get('uiJsClass')}`);\n\n\t\t} else {\n\t\t\ttoReturn = triggerer;\n\t\t}\n\n\t\treturn toReturn;\n\t}\n}\n\n// case 'dropdown':\n// \tcase 'modal':\n// \tcase 'board':\n// \tcase 'switch':\n// \tcase 'alert-close':\n\nexport const UIToggled = (toggleMode,triggerer,selector) => {\n\ttriggerer = triggerer || false;\n\ttoggleMode = toggleMode || false;\n\tselector = selector || false;\n\n\tconst componentClass = `${FwString.ToDashed(\n\t\ttoggleMode\n\t\t\t.replace('-open', '')\n\t\t\t.replace('-close', '')\n\t)}`;\n\n\tif(!toggleMode){\n\t\treturn\n\t}\n\n\tconst selectorToMatch = selector\n\t\t? selector\n\t\t: `.${componentClass}`;\n\t\t// lookup_reset_to_parent\n\t\t// lookup_from_closest\n\n\n\tlet toReturn = null;\n\n\tif (triggerer) {\n\t\t//lookup by href\n\t\tif (\n\t\t\ttriggerer.hasAttribute('href')\n\t\t\t&& triggerer.getAttribute('href').startsWith('#')\n\t\t\t&& triggerer.getAttribute('href') !== '#'\n\t\t\t&& (\n\t\t\t\tdocument.querySelector(\n\t\t\t\t\ttriggerer.getAttribute('href')\n\t\t\t\t)\n\t\t\t\t&& document.querySelector(\n\t\t\t\t\ttriggerer.getAttribute('href')\n\t\t\t\t).matches(selectorToMatch)\n\t\t\t)\n\t\t) {\n\t\t\t// console.warn('toggle found by href');\n\t\t\ttoReturn = document.querySelector(triggerer.getAttribute('href'));\n\n\t\t//lookup by data-href\n\t\t} else if (\n\t\t\ttriggerer.hasAttribute('data-href')\n\t\t\t&& triggerer.getAttribute('data-href').startsWith('#')\n\t\t\t&& triggerer.getAttribute('data-href') !== '#'\n\t\t\t&& (\n\t\t\t\tdocument.querySelector(\n\t\t\t\t\ttriggerer.getAttribute('data-href')\n\t\t\t\t)\n\t\t\t\t&& document.querySelector(\n\t\t\t\t\ttriggerer.getAttribute('data-href')\n\t\t\t\t).matches(selectorToMatch)\n\t\t\t)\n\t\t) {\n\t\t\t// console.warn('toggle found by data-href');\n\t\t\ttoReturn = document.querySelector(triggerer.getAttribute('data-href'));\n\n\t\t//lookup by closest [data-toggle]\n\t\t} else if (\n\t\t\ttoggleMode\n\t\t\t&& triggerer\n\t\t\t\t.parentNode\n\t\t\t\t.closest(`[data-toggle-${toggleMode}]`)\n\t\t) {\n\t\t\t// console.warn('toggle searching closest data-toggle');\n\t\t\ttoReturn = UIToggled(\n\t\t\t\ttoggleMode,\n\t\t\t\ttriggerer.parentNode.closest(`[data-toggle-${toggleMode}]`)\n\t\t\t);\n\n\t\t//look up by tag `lookup_reset_to_parent`\n\t\t} else if (\n\t\t\ttoggleMode\n\t\t\t&& lookupResetToParentClass.filter(i => {\n\t\t\t\treturn triggerer.parentNode.matches(`.${i}`)\n\t\t\t}).length > 0\n\t\t) {\n\t\t\t// console.warn('toggle trigger was in group');\n\t\t\ttoReturn = UIToggled(\n\t\t\t\ttoggleMode,\n\t\t\t\ttriggerer.parentNode\n\t\t\t);\n\t\t} else {\n\t\t\tlet possibleSiblings = triggerer.nextElementSibling;\n\t\t\t\n\t\t\twhile (possibleSiblings) {\n\t\t\t\tif (possibleSiblings.matches(selectorToMatch)) {\n\t\t\t\t\t// console.warn('toggle trigger anybody whos a sibling');\n\t\t\t\t\treturn possibleSiblings;\n\t\t\t\t}\n\t\t\t\tpossibleSiblings =\n\t\t\t\t\tpossibleSiblings.nextElementSibling;\n\t\t\t}\n\t\t\ttoReturn = possibleSiblings;\n\t\t}\n\t} else {\n\t\t\n\t\tif (\n\t\t\twindow.location.hash !== ''\n\t\t\t&& document.querySelector(window.location.hash)\n\t\t\t&& document\n\t\t\t\t.querySelector(window.location.hash)\n\t\t\t\t.matches(selectorToMatch)\n\t\t) {\n\t\t\t// console.warn('no trigger but found the hash is a matching toggle');\n\t\t\ttoReturn = document.querySelector(window.location.hash);\n\t\t}\n\t}\n\n\tif (\n\t\t!toReturn\n\t\t&& lookupResetFromClosestComponent.filter((i)=> {\n\t\t\treturn i == componentClass\n\t\t})\n\t) {\n\t\t//look if theres an ancestor it can toggle. last prioroty\n\t\t// console.warn('has a ttrigger, looking for closest compopnent');\n\n\n\t\tif (\n\t\t\ttriggerer\n\t\t\t&& toggleMode\n\t\t\t&& (\n\t\t\t\tlookupResetFromClosestComponentUi.filter(i => {\n\t\t\t\t\treturn triggerer.parentNode.matches(`.${i}`)\n\t\t\t\t}).length > 0\n\t\t\t\t&& triggerer.parentNode.closest(`.${UIPrefix(componentClass)}`)\n\t\t\t)\n\t\t){\n\t\t\t// console.warn('found for a ui ancestor');\n\t\t\ttoReturn = triggerer.parentNode.closest(`.${componentClass}`);\n\t\t}else if(\n\t\t\ttriggerer\n\t\t\t&& toggleMode\n\t\t\t&& triggerer.parentNode.closest(selectorToMatch)\n\t\t){\n\t\t\t// console.warn('found for an ancestor');\n\t\t\ttoReturn = triggerer.parentNode.closest(selectorToMatch);\n\t\t}\n\t}\n\n\treturn toReturn;\n}\n\nexport const UIChangeHash = (id) => {\n\tid = id || '';\n\n\tif (Settings.get('dynamicHash')) {\n\t\tconst idToGoTo = (id !== '' ? `#${id}` : null);\n\t\tif (idToGoTo) {\n\t\t\tif (window.history.pushState) {\n\t\t\t\twindow.history.pushState(\n\t\t\t\t\tnull,\n\t\t\t\t\tnull,idToGoTo\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\twindow.location.hash = idToGoTo;\n\t\t\t}\n\n\t\t} else {\n\t\t\tlet scrollV, scrollH;\n\t\t\tif (window.history.pushState)\n\t\t\t\twindow.history.pushState(\n\t\t\t\t\t\"\",\n\t\t\t\t\tdocument.title,\n\t\t\t\t\twindow.location.pathname + window.location.search\n\t\t\t\t);\n\t\t\telse {\n\t\t\t\t// Prevent scrolling by storing the page's current scroll offset\n\t\t\t\tscrollV = document.body.scrollTop;\n\t\t\t\tscrollH = document.body.scrollLeft;\n\n\t\t\t\twindow.location.hash = \"\";\n\n\t\t\t\t// Restore the scroll offset, should be flicker free\n\t\t\t\tdocument.body.scrollTop = scrollV;\n\t\t\t\tdocument.body.scrollLeft = scrollH;\n\t\t\t}\n\t\t}\n\t}\n};\n\nexport const UIToggleGroup = (element, prefix, activatedClass, siblingSelector, resetterClass, noActiveClass,multipleClass) => {\n\tprefix = prefix || false;\n\n\tif(!prefix){\n\t\treturn;\n\t}\n\tsiblingSelector = siblingSelector || `.${prefix}`;\n\tactivatedClass = activatedClass || 'active';\n\tresetterClass = resetterClass || `${prefix}-group-toggle-reset`;\n\tnoActiveClass = noActiveClass || `${prefix}-group-toggle-allow-no-active`;\n\tmultipleClass = multipleClass || `${prefix}-group-toggle-multiple`;\n\n\tif(\n\t\telement.closest(siblingSelector)\n\t\t&& !element.classList.contains(prefix)\n\t){\n\t\telement = element.closest(siblingSelector);\n\t}\n\n\tif(!element) {\n\t\treturn;\n\t}\n\n\tconsole.log(element,\n\t\tnoActiveClass);\n\n\t//reset da resetti\n\tconst resetter = FwDom\n\t\t.getSiblings(element)\n\t\t.filter((butt) => {\n\t\t\treturn butt.classList.contains(resetterClass);\n\t\t});\n\tresetter.forEach((butt) => {\n\t\tbutt.classList.remove(activatedClass);\n\t});\n\n\t//dem siblongs\n\tconst selectorSiblings = FwDom\n\t\t.getSiblings(element)\n\t\t.filter((sibling) => {\n\t\t\treturn sibling.matches(siblingSelector);\n\t\t});\n\n\tif (\n\t\t!element.closest(`.${multipleClass}`)\n\t\t|| element.classList.contains(resetterClass)\n\t) {\n\t\tselectorSiblings.forEach((sibling) => {\n\t\t\tsibling.classList.remove(activatedClass);\n\t\t});\n\t}\n\n\tif (\n\t\t(\n\t\t\telement.closest(`.${multipleClass}`)\n\t\t\t&& selectorSiblings\n\t\t\t\t.filter((butt) => {\n\t\t\t\t\treturn butt.classList.contains(activatedClass);\n\t\t\t\t})\n\t\t\t\t.length > 0\n\t\t)\n\t\t|| element\n\t\t\t.closest(`.${noActiveClass}`)\n\t) {\n\t\telement.classList.toggle(activatedClass);\n\n\t} else {0\n\t\telement.classList.add(activatedClass);\n\t}\n}\n\nexport const UIPurge = (exempted,selector,callback) => {\n\t\n\tdocument.querySelectorAll(selector).forEach((elem) => {\n\n\t\tif (\n\t\t\t!exempted\n\t\t\t|| (\n\t\t\t\texempted\n\t\t\t\t&& elem !== exempted\n\t\t\t\t&& !elem.contains(exempted)\n\t\t\t )\n\t\t) {\n\t\t\tcallback(elem);\n\t\t}else{\n\t\t\t// console.log('exepmted',exempted);\n\t\t}\n\t});\n}","\nimport { UIBodyClass } from '../util/ui.js';\n\n\n class FwQueue {\n\tconstructor(){\n\t\tthis._on_load = [];\n\t\tthis._on_ready = [];\n\t\tthis._on_resize = [];\n\t\tthis._on_scroll = [];\n\t\tthis._on_rightAway = [];\n\t\tthis._on_init = [];\n\t}\n\n\tget on_load(){\n\t\treturn this._on_load;\n\t}\n\tget on_ready(){\n\t\treturn this._on_ready;\n\t}\n\tget on_resize(){\n\t\treturn this._on_resize;\n\t}\n\tget on_scroll(){\n\t\treturn this._on_scroll;\n\t}\n\tget on_rightAway(){\n\t\treturn this._on_rightAway;\n\t}\n\tget on_init(){\n\t\treturn this._on_init;\n\t}\n\tset on_load(fn){\n\t\tthis._on_load.push(fn);\n\t}\n\tset on_ready(fn){\n\t\tthis._on_ready.push(fn);\n\t}\n\tset on_resize(fn){\n\t\tthis._on_resize.push(fn);\n\t}\n\tset on_scroll(fn){\n\t\tthis._on_scroll.push(fn);\n\t}\n\tset on_rightAway(fn){\n\t\tthis._on_rightAway.push(fn);\n\t}\n\tset on_init(fn){\n\t\tthis._on_init.push(fn);\n\t}\n}\n\nconst INITIATOR_QUEUE = new FwQueue();\n\nlet is_started = false;\n\nclass Initiator {\n\t\n\tconstructor(){\n\t\tthis.resizeTimerInternal = null;\n\t\tthis.scrollTimerInternal = null;\n\t}\n\n\tstatic get isStarted(){\n\t\treturn is_started;\n\t}\n\n\tstatic set isStarted(val){\n\t\tis_started = val;\n\t}\n\n\tstatic get Q(){\n\t\treturn INITIATOR_QUEUE;\n\t}\n\n\t#execqt(fnsArray){\n\t\tfnsArray.forEach((fn) => {\n\t\t\tfn(); \n\t\t});\n\t}\n\n\tstatic isDocReady(fn){\n\t\tif (document.readyState != 'loading') {\n\t\t\tfn();\n\t\t} else {\n\t\t\tdocument.addEventListener('DOMContentLoaded', fn);\n\t\t}\n\t}\n\n\t#runRightAway(){\n\t\tthis.#execqt(Initiator.Q.on_rightAway);\n\t}\n\t\n\t#runReady(){\n\t\tthis.#execqt(Initiator.Q.on_ready);\n\t}\n\t\n\t#runLoad(){\n\t\tthis.#execqt(Initiator.Q.on_load);\n\t}\n\n\t#runResize() {\n\t\tconst ini = this;\n\t\tclearTimeout(ini.resizeTimerInternal);\n\t\tini.resizeTimerInternal = setTimeout(() => {\n\t\t\tini.#execqt(Initiator.Q.on_resize);\n\t\t}, 100);\n\t}\n\t\n\t#runScroll() {\n\t\tconst ini = this;\n\t\tclearTimeout(ini.scrollTimerInternal);\n\t\tini.scrollTimerInternal = setTimeout(() => {\n\t\t\tini.#execqt(Initiator.Q.on_scroll);\n\t\t}, 100);\n\t}\n\n\tstatic setState(mode) {\n\t\tmode = mode || 'complete';\n\n\t\tconst body = document.querySelector('body');\n\n\t\tswitch(mode){\n\t\t\tcase 'loading':\n\t\t\t\tbody\n\t\t\t\t\t.classList\n\t\t\t\t\t.remove(UIBodyClass.loaded);\n\t\t\t\tbody\n\t\t\t\t\t.classList\n\t\t\t\t\t.add(UIBodyClass.loading);\n\t\t\t\tbreak;\n\t\t\tcase 'complete':\n\t\t\tdefault:\n\t\t\t\tsetTimeout(()=>{ \n\t\t\t\t\tbody\n\t\t\t\t\t\t.classList\n\t\t\t\t\t\t.remove(UIBodyClass.loading);\n\t\t\t\t\tbody\n\t\t\t\t\t\t.classList\n\t\t\t\t\t\t.add(UIBodyClass.loaded);\n\t\t\t\t},100);\n\t\t\t\tbreak;\n\t\t}\n\n\t}\n\n\tstatic setLoadingState(){\n\t\tInitiator.setState('loading');\n\t}\n\n\tstatic setCompleteState(){\n\t\tInitiator.setState('complete');\n\t}\n\n\tstatic start(){\n\t\t//component events\n\t\tconst ini = new Initiator();\n\n\t\t\tInitiator.isStarted = true;\n\n\t\t\tini.#execqt(Initiator.Q.on_init);\n\n\t\t\tini.#runRightAway();\n\n\t\t\tInitiator.isDocReady(()=>{\n\t\t\t\tini.#runReady();\n\t\t\t\tInitiator.setCompleteState();\n\t\t\t});\n\n\t\t\twindow.addEventListener('load', () => {\n\t\t\t\tini.#runLoad()\n\t\t\t});\n\t\t\twindow.addEventListener('resize', () => {\n\t\t\t\tini.#runResize()\n\t\t\t});\n\t\t\twindow.addEventListener('scroll', () => {\n\t\t\t\tini.#runScroll()\n\t\t\t});\n\t}\n\n\tstatic restart(){\n\t\tconsole.warn('frameWork restarted');\n\t\tif(!Initiator.isStarted){\n\t\t\treturn;\n\t\t}\n\t\tconst ini = new Initiator();\n\n\t\tInitiator.setLoadingState();\n\t\tini.#runRightAway();\n\t\tini.#runReady();\n\t\tInitiator.setCompleteState();\n\t\tini.#runLoad();\n\t}\n\n}\n\nInitiator.start();\n\nexport default Initiator;\n","\nimport Settings from './../core/settings.js';\nimport FwDataHelper from './../classes/data-helper.js';\n// const customEvents = [];\nconst NativeEvents = [\n\t'click',\n\t'dblclick',\n\t'mouseup',\n\t'mousedown',\n\t'contextmenu',\n\t'mousewheel',\n\t'DOMMouseScroll',\n\t'mouseover',\n\t'mouseout',\n\t'mousemove',\n\t'selectstart',\n\t'selectend',\n\t'keydown',\n\t'keypress',\n\t'keyup',\n\t'paste',\n\t'orientationchange',\n\t'touchstart',\n\t'touchmove',\n\t'touchend',\n\t'touchcancel',\n\t'pointerdown',\n\t'pointermove',\n\t'pointerup',\n\t'pointerleave',\n\t'pointercancel',\n\t'gesturestart',\n\t'gesturechange',\n\t'gestureend',\n\t'focus',\n\t'blur',\n\t'change',\n\t'reset',\n\t'select',\n\t'submit',\n\t'focusin',\n\t'focusout',\n\t'load',\n\t'unload',\n\t'beforeunload',\n\t'resize',\n\t'move',\n\t'DOMContentLoaded',\n\t'readystatechange',\n\t'error',\n\t'abort',\n\t'scroll'\n  ];\n  \n\nclass FwEvent extends FwDataHelper {\n\t\n\n\tstatic get cusEventOptsDef () {\n\t\treturn {\n\t\t\tbubbles: true,\n\t\t\tcancelable: true,\n\t\t}\n\t}\n\n\tstatic classNester(selector){\n\t\tif(selector === '*' || typeof selector !== 'string'){\n\t\t\treturn selector;\n\t\t}else{\n\t\t\tconst selArr = selector.split(',');\n\t\t\tlet toReturn  = selector;\n\t\t\tselArr.forEach(sel => {\n\n\t\t\t\t\n\t\t\t\ttoReturn += `, ${sel} *`;\n\t\t\t});\n\t\n\t\t\treturn toReturn;\n\t\t}\n\t}\n\n\tstatic addListener(parent, evt, selectorOrParentFallback, handler){\n\t\tparent = parent || false;\n\t\t\n\t\t// runNative = runNative !== false || runNative == true; //no apipipi\n\n\t\tconst elemToAddTo = parent || selectorOrParentFallback;\n\t\tconst evtNoApi = evt.split(`.${Settings.get('prefix')}`)[0];\n\t\tconst isNative = NativeEvents.includes(evt);\n\n\t\tif(!isNative){\n\t\t\telemToAddTo.addEventListener(\n\t\t\t\tevtNoApi,\n\t\t\t\t(event)=>{\n\t\t\t\t\tif(\n\t\t\t\t\t\t!parent\n\t\t\t\t\t\t|| (\n\t\t\t\t\t\t\tparent\n\t\t\t\t\t\t\t&& event.target.matches(FwEvent.classNester(selectorOrParentFallback))\n\t\t\t\t\t\t\t// && event.target.closest(selectorOrParentFallback)\n\t\t\t\t\t\t)\n\t\t\t\t\t){\n\t\t\t\t\t\tFwEvent.trigger(\n\t\t\t\t\t\t\tevent.target,\n\t\t\t\t\t\t\tevt,\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tdetail: {\n\t\t\t\t\t\t\t\t\tnativeEvt:event,\n\t\t\t\t\t\t\t\t\t_selection: FwEvent.classNester(selectorOrParentFallback)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\ttrue\n\t\t\t);\n\t\t}\n\n\t\telemToAddTo.addEventListener(\n\t\t\tevt,\n\t\t\t(event) => {\n\t\t\t\tif (\n\t\t\t\t\t!parent\n\t\t\t\t\t|| (\n\t\t\t\t\t\tparent\n\t\t\t\t\t\t// && event.target.matches(FwEvent.classNester(selectorOrParentFallback))\n\t\t\t\t\t\t&& event.target.closest(selectorOrParentFallback)\n\t\t\t\t\t)\n\t\t\t\t) {\n\t\t\t\t\tif(!isNative){\n\t\t\t\t\t\thandler(event.detail.nativeEvt);\n\t\t\t\t\t}else{\n\t\t\t\t\t\thandler(event);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\ttrue\n\t\t);\n\n\t\t\n\t\t// //stable no api\n\t\t// elemToAddTo.addEventListener(\n\t\t// \tevtNoApi,\n\t\t// \t(event)=>{\n\t\t// \t\tif(\n\t\t// \t\t\t!parent\n\t\t// \t\t\t|| (\n\t\t// \t\t\t\tparent\n\t\t// \t\t\t\t&& event.target.matches(FwEvent.classNester(selectorOrParentFallback))\n\t\t// \t\t\t\t// && event.target.closest(selectorOrParentFallback)\n\t\t// \t\t\t)\n\t\t// \t\t){\n\t\t// \t\t\thandler(event);\n\t\t// \t\t}\n\t\t// \t},\n\t\t// \ttrue\n\t\t// );\t\n\t}\n\t\n\n\n\tstatic translateToNative(event){\n\n\t}\n\n\tstatic trigger(el, evt, customEventOpts) {\n\t\tlet event;\n\t\tel = el || document;\n\t\tif (NativeEvents.includes(evt)) {\n\t\t\tevent = document.createEvent('HTMLEvents');\n\t\t\tevent.initEvent(evt, true, false);\n\t\t} else {\n\t\t\tcustomEventOpts = customEventOpts || false;\n\t\t\tif(customEventOpts) {\n\t\t\t\tevent = new CustomEvent(evt, customEventOpts);\n\t\t\t}else{\n\t\t\t\tevent = new CustomEvent(evt)\n\t\t\t}\n\t\t}\n\t\tel.dispatchEvent(event);\n\t\n\t\t// return event;\n\t}\n\n\n}\n\nexport default FwEvent;\n\n","\n\nconst _dataobj = (() => {\n\tconst storage = {};\n\tlet id = 1;\n\treturn {\n\t\t_set(element, key, data) {\n\t\t\tif (typeof element.fwKeys === 'undefined') {\n\t\t\telement.fwKeys = {\n\t\t\t\tkey,\n\t\t\t\tid\n\t\t\t}\n\t\t\tid++\n\t\t\t}\n\n\t\t\tstorage[element.fwKeys.id] = data\n\t\t},\n\t\t_get(element, key) {\n\t\t\tif (!element || typeof element.fwKeys === 'undefined') {\n\t\t\treturn null\n\t\t\t}\n\n\t\t\tconst keyProperties = element.fwKeys\n\t\t\tif (keyProperties.key === key) {\n\t\t\treturn storage[keyProperties.id]\n\t\t\t}\n\n\t\t\treturn null\n\t\t},\n\t\t_remove(element, key) {\n\t\t\tif (typeof element.fwKeys === 'undefined') {\n\t\t\treturn\n\t\t\t}\n\n\t\t\tconst keyProperties = element.fwKeys\n\t\t\tif (keyProperties.key === key) {\n\t\t\tdelete storage[keyProperties.id]\n\t\t\tdelete element.fwKeys\n\t\t\t}\n\t\t}\n\t}\n})()\n\nconst DataHandler = {\n\tset(elm, key, data) {\n\t_dataobj._set(elm, key, data)\n\t},\n\tget(elm, key) {\n\treturn _dataobj._get(elm, key)\n\t},\n\tremove(elm, key) {\n\t_dataobj._remove(elm, key)\n\t}\n}\n\n\nexport default DataHandler;","import DataHandler from '../util/datahandler.js';\nimport { DisableClasses } from '../util/validation.js';\nimport { UIDynamicClass } from '../util/ui.js';\n\n/*\nNAME\nTOGGLE_MODE\nDATA_KEY\nCONTAINED_BY_NAME\n\n\tcase 'dropdown':\n\tcase 'modal':\n\tcase 'board':\n\tcase 'switch':\n\tcase 'alert-close':\n\nFwToggleMode\n\n*/\n\nclass FwComponent {\n\tconstructor(element,props) {\n\t\tif (!element) {\n\t\t\treturn\n\t\t}\n\n\t\tDataHandler.set(element, this.constructor.DATA_KEY, this);\n\t\tthis.element = element;\n\n\t\tif(\n\t\t\ttypeof props === 'object'){\n\t\t\tfor (let key in props) {\n\t\t\t\tthis[key] = props[key];\n\t\t\t}\n\t\t}\n\t\n\t}\n\n\tdispose() {\n\t\tDataHandler.delete(this.element, this.constructor.DATA_KEY, this);\n\t\tthis.element = null;\n\t}\n\n\tstatic getInstance(element) {\n\t\treturn DataHandler.get(element, this.DATA_KEY);\n\t}\n\n\tUIEl(elem){\n\t\tif(elem){\n\t\t\tthis._resetUIEl(elem);\n\t\t}\n\t\treturn this.element;\n\t}\n\n\t_resetUIEl(element){\n\t\tif(element){\n\t\t\tthis.element = element\n\t\t}else{\n\t\t\tthrow new Error('Needs a valid element to reset component UI root element');\n\t\t}\n\t}\n\n\t_runFn (callback) {\n\t\tif (callback) {\n\t\t\tlet fn;\n\t\t\ttry {\n\t\t\t\tfn = eval(/^[^(]+/.exec(callback)[0]);\n\t\t\t} catch (err) {\n\t\t\t\tconsole.error(err);\n\t\t\t}\n\t\t\tif (typeof fn === 'function') {\n\t\t\t\teval(callback);\n\t\t\t}\n\t\t}\n\t}\n\n\t_setInitState(beforeEvent,happeningEvent,afterEvent,callback){\n\t\t\n\t\tcallback = callback || false;\n\n\t\tif(callback){\n\t\t\tFwEvent.trigger(element,beforeEvent);\n\t\t\tFwEvent.trigger(element,happeningEvent);\n\t\t\t\n\t\t\tcallback(this.element);\n\n\t\t\tFwEvent.trigger(element,afterEvent);\n\t\t}\n\t}\n\n\tstatic _parseArgs (arr, defaults) {\n\n\t\tconst args = {};\n\t\n\t\tfor (let prop in defaults) {\n\t\t\tif(\n\t\t\t\t(\n\t\t\t\t\ttypeof defaults[prop] === 'object'\n\t\t\t\t\t&& defaults[prop] !== null\n\t\t\t\t\t&& arr[prop] !== ''\n\t\t\t\t)\n\t\t\t\t&& defaults[prop].hasOwnProperty('value')\n\t\t\t){\n\t\t\t\targs[prop] = defaults[prop].value;\n\t\t\t}else{\n\t\t\t\targs[prop] = defaults[prop];\n\t\t\t}\n\t\t}\n\t\n\t\tfor (let prop in arr) {\n\t\t\tif (\n\t\t\t\tarr.hasOwnProperty(prop)\n\t\t\t\t&& arr[prop] !== undefined\n\t\t\t\t&& arr[prop] !== null\n\t\t\t\t&& arr[prop] !== ''\n\t\t\t) {\n\t\t\t\t// Push each value from `obj` into `extended`\n\t\t\t\tif(\n\t\t\t\t\t(\n\t\t\t\t\t\ttypeof defaults[prop] === 'object'\n\t\t\t\t\t\t&& defaults[prop] !== null\n\t\t\t\t\t)\n\t\t\t\t\t&& defaults[prop].hasOwnProperty('value')\n\t\t\t\t\t&& defaults[prop].hasOwnProperty('parser')\n\t\t\t\t){\n\t\t\t\t\targs[prop] = defaults[prop].parser(arr[prop]);\n\t\t\t\t}else{\n\t\t\t\t\targs[prop] = arr[prop];\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t// catch boolean\n\t\t\t\tif (args[prop] == 'false' || args[prop] == 'true') {\n\t\t\t\t\targs[prop] = args[prop] == 'true' ? true : false;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\n\t\treturn args;\n\t}\n\n\tstatic isDisabled (elem){\n\t\tif(!elem){\n\t\t\treturn;\n\t\t}\n\t\t\n\t\tlet toReturn = false;\n\n\t\tif (elem.closest('[disabled]') || elem.matches(':disabled')) {\n\t\t\ttoReturn = true;\n\t\t}\n\n\t\tDisableClasses.forEach((classString) => {\n\t\t\tif (elem.closest(`.${classString}`) && !toReturn) {\n\t\t\t\ttoReturn = true;\n\t\t\t}\n\t\t});\n\n\t\treturn toReturn;\n\t}\n\tstatic isDynamic(elem){\t\n\t\treturn elem.classList.contains(UIDynamicClass)\n\t} \n\n\t\n}\n\nexport default FwComponent;","export const BrValue = {\n\txxs: 0,\n\txs:\n\t\tparseFloat(\n\t\t\tgetComputedStyle(\n\t\t\t\tdocument.documentElement\n\t\t\t).getPropertyValue('--fw-br-xs')\n\t\t)\n\t\t|| 600,\n\tsm:\n\t\tparseFloat(\n\t\t\tgetComputedStyle(\n\t\t\t\tdocument.documentElement\n\t\t\t).getPropertyValue('--fw-br-sm')\n\t\t)\n\t\t|| 1200,\n\tmd:\n\t\tparseFloat(\n\t\t\tgetComputedStyle(\n\t\t\t\tdocument.documentElement\n\t\t\t).getPropertyValue('--fw-br-md')\n\t\t)\n\t\t|| 1600,\n\tlg:\n\t\tparseFloat(\n\t\t\tgetComputedStyle(\n\t\t\t\tdocument.documentElement\n\t\t\t).getPropertyValue('--fw-br-lg')\n\t\t)\n\t\t|| 1800,\n\txl: 9999999\n};\n\nexport const BrTag = Object.keys(BrValue);\n// Br_to_loop =  ['xs','sm','md','lg'];\n\nexport const BrMobileMax =\nparseFloat(\n\tgetComputedStyle(\n\t\tdocument.documentElement\n\t).getPropertyValue('--fw-br-mobile-max')\n)\n|| 'sm';\n\nexport const ValidateBr = (breakpoint, mode) => {\n\tmode = mode || 'below'; //below,within,above\n\tconst currIndex = BrTag.indexOf(breakpoint);\n\n\tswitch (mode) {\n\t\tcase 'below': //max-width\n\t\t\treturn (\n\t\t\t\tdocument.documentElement.clientWidth\n\t\t\t\t\t<= BrValue[breakpoint]\n\t\t\t);\n\n\t\tcase 'within':\n\t\t\treturn (\n\t\t\t\tdocument.documentElement.clientWidth\n\t\t\t\t\t<=BrValue[breakpoint]\n\t\t\t\t&& document.documentElement.clientWidth\n\t\t\t\t\t> BrValue[BrTag[currIndex - 1]]\n\t\t\t);\n\n\t\tcase 'above':\n\t\t\treturn currIndex > 0\n\t\t\t\t? document.documentElement.clientWidth\n\t\t\t\t\t> BrValue[BrTag[currIndex - 1]]\n\t\t\t\t: document.documentElement.clientWidth\n\t\t\t\t\t> BrValue[BrTag[currIndex]];\n\t}\n};","import Initiator from './core/initiator.js';\nimport Settings from './core/settings.js';\n\nimport FwEvent from './data-helper/event.js';\nimport FwDom from './data-helper/dom.js';\nimport FwString from './data-helper/string.js';\n\nimport FwComponent from './classes/component.js';\nimport { UIToggled,UIChangeHash } from './util/ui.js';\nimport {BrMobileMax,ValidateBr} from './util/breakpoint.js';\n\n\nconst NAME = 'accordion';\nconst ARG_ATTRIBUTE_NAME = `${NAME}`;\nconst TOGGLE_MODE = `${NAME}`;\nconst COMPONENT_CLASS = `${FwString.ToDashed(NAME)}`;\nconst ACTIVATED_CLASS = `open`;\n\nconst DATA_KEY = `${Settings.get('prefix')}.${NAME}`;\n\n\nconst EVENT_KEY = `.${DATA_KEY}`;\nconst EVENT_CLICK = `click${EVENT_KEY}`;\nconst EVENT_HASHCHANGE = `hashchange${EVENT_KEY}`;\n\n\tconst EVENT_BEFORE_CLOSE = `before_close${EVENT_KEY}`;\n\tconst EVENT_CLOSE = `close${EVENT_KEY}`;\n\tconst EVENT_AFTER_CLOSE = `after_close${EVENT_KEY}`;\n\n\tconst EVENT_BEFORE_OPEN = `before_open${EVENT_KEY}`;\n\tconst EVENT_OPEN = `open${EVENT_KEY}`;\n\tconst EVENT_AFTER_OPEN = `after_open${EVENT_KEY}`;\n\nclass Accordion extends FwComponent {\n\t\n\tconstructor(element,triggerer,args){\n\t\telement = element || UIToggled(TOGGLE_MODE) || false;\n\t\tsuper(\n\t\t\telement,\n\t\t\t{\n\t\t\t\ttriggerer:(\n\t\t\t\t\ttriggerer\n\t\t\t\t\t\t? new FwDom(triggerer)\n\t\t\t\t\t: false\n\t\t\t\t),\n\t\t\t\t_customArgs: args\n\t\t\t\t\t|| false\n\t\t\t}\n\t\t);\n\t}\n\n\tdispose() {\n\t\tsuper.dispose();\n\t\tthis.triggerer = null;\n\t\tthis._customArgs = null;\n\t}\n\n\tstatic get DATA_KEY(){\n\t\treturn DATA_KEY;\n\n\t}\n\n\tstatic get configDefaults(){\n\t\treturn {\n\t\t\tchangeHash: 'true',\n\t\t}\n\t}\n\n\tget args () {\n\t\treturn FwComponent._parseArgs(\n\t\t\t(this._customArgs\n\t\t\t\t? this._customArgs\n\t\t\t\t: {\n\t\t\t\t\tchangeHash:\n\t\t\t\t\t\t(\n\t\t\t\t\t\t\tthis.triggerer\n\t\t\t\t\t\t\t&& this.triggerer\n\t\t\t\t\t\t\t\t.getAttribute(`data-${ARG_ATTRIBUTE_NAME}-change-hash`)\n\t\t\t\t\t\t)\n\t\t\t\t\t\t|| super.UIEl()\n\t\t\t\t\t\t\t.getAttribute(`data-${ARG_ATTRIBUTE_NAME}-change-hash`)\n\t\t\t\t}\n\t\t\t),\n\t\t\tAccordion.configDefaults\n\t\t);\n\t}\n\n\tget _isValidWithinQuery() {\n\t\treturn !(\n\t\t\tsuper.UIEl().classList.contains(`${NAME}-mobile`)\n\t\t\t&& !ValidateBr(BrMobileMax, 'above')\n\t\t)\n\t}\n\n\tget _isWithinGroupMultiple () {\n\t\treturn this.UIGroot && this.UIGroot.classList.contains(`${NAME}-group-multiple`)\n\t}\n\n\tget _isWithinAllowNoActive() {\n\t\treturn this.UIGroot && this.UIGroot.classList.contains(`${NAME}-group-allow-no-active`)\n\t}\n\n\tget _probablyToggle() {\n\t\tlet toReturn = [];\n\n\t\tconst selection = document.querySelectorAll(\n\t\t\t`[data-toggle-${TOGGLE_MODE}][href=\"#${this._id}\"],\n\t\t\t[data-toggle-${TOGGLE_MODE}][data-href=\"#${this._id}\"]`\n\t\t);\n\n\t\tif(selection.length) {\n\t\t\ttoReturn = selection;\n\t\t}\n\n\t\treturn toReturn;\n\n\t}\n\n\tget _id(){\n\t\treturn super.UIEl().hasAttribute('id')\n\t\t\t? super.UIEl().getAttribute('id')\n\t\t: false;\n\t}\n\n\t_siblicide(){\n\n\t\tif ( !this._isWithinGroupMultiple ) {\n\t\t\tFwDom.RunFnForChildren(\n\t\t\t\tthis.UIGroot,\n\t\t\t\t`[data-toggle-${TOGGLE_MODE}],.${COMPONENT_CLASS}`,\n\t\t\t\t`.${COMPONENT_CLASS}-group`,\n\t\t\t\t(accBbies)=>{\n\t\t\t\t\tif(\n\t\t\t\t\t\t(\n\t\t\t\t\t\t\tthis.triggerer\n\t\t\t\t\t\t\t&& (accBbies !== this.triggerer)\n\t\t\t\t\t\t\t&& (accBbies !== super.UIEl())\n\t\t\t\t\t\t)\n\t\t\t\t\t\t|| (\n\t\t\t\t\t\t\t!this.triggerer\n\t\t\t\t\t\t\t&& (accBbies !== super.UIEl())\n\t\t\t\t\t\t)\n\t\t\t\t\t){\n\t\t\t\t\t\taccBbies.classList.remove(ACTIVATED_CLASS)\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t)\n\t\t}\n\t}\n\n\t//which came first the accordion-gruoup or the accordiiinbsbob?? the actual bitch none of that accordion-group shit\n\tget UIGroot () {\n\t\t\tlet toReturn = super.UIEl().parentNode.closest(`.${COMPONENT_CLASS},.${COMPONENT_CLASS}-group`);\n\n\t\t\t//has to actually be accordion-group closest before accordion\n\t\t\tif(\n\t\t\t\t!toReturn\n\t\t\t\t|| (\n\t\t\t\t\ttoReturn\n\t\t\t\t\t&& !toReturn.matches(`.${COMPONENT_CLASS}-group`) //***\n\t\t\t\t)\n\t\t\t) {\n\t\t\t\ttoReturn = false;\n\t\t\t}\n\n\t\t\treturn toReturn;\n\t}\t\n\n\tclose(elem,hashChangeOverride){\n\t\tconst element = elem ?\n\t\t\tsuper.UIEl(elem)\n\t\t\t: super.UIEl();\n\n\t\tif(!element){\n\t\t\treturn;\n\t\t}\n\n\t\thashChangeOverride = hashChangeOverride || this.args.changeHash;\n\n\t\tif( this._isValidWithinQuery ) {\n\n\t\t\tFwEvent.trigger(element,EVENT_BEFORE_CLOSE);\n\t\t\t//is not within an accordion group that needs one of them open \n\t\t\tif ( !this.UIGroot || this._isWithinAllowNoActive ) {\n\n\t\t\t\t\n\t\t\t\tthis.triggerer && this.triggerer.classList.remove(ACTIVATED_CLASS);\n\t\t\t\tthis._probablyToggle.forEach((toggle) => {\n\t\t\t\t\ttoggle.classList.remove(ACTIVATED_CLASS);\n\t\t\t\t});\n\n\t\t\t\tFwEvent.trigger(element,EVENT_CLOSE);\n\n\t\t\t\telement.classList.remove(ACTIVATED_CLASS);\n\n\t\t\t\tif (this.args.changeHash && this._id) {\n\t\t\t\t\tUIChangeHash('');\n\t\t\t\t}\n\n\t\t\t\tFwEvent.trigger(element,EVENT_AFTER_CLOSE);\n\t\t\t}\n\t\t}\n\t}\n\n\topen(elem){\n\t\tconst element = elem ?\n\t\t\tsuper.UIEl(elem)\n\t\t\t: super.UIEl();\n\n\t\tif(!element){\n\t\t\treturn;\n\t\t}\n\n\n\t\tthis._siblicide();\n\n\t\tif( this._isValidWithinQuery ) {\n\n\t\t\tFwEvent.trigger(element,EVENT_BEFORE_OPEN);\n\t\t\t\n\t\t\t\tthis.triggerer && this.triggerer.classList.add(ACTIVATED_CLASS);\n\t\t\t\tthis._probablyToggle.forEach((toggle) => {\n\t\t\t\t\ttoggle.classList.add(ACTIVATED_CLASS);\n\t\t\t\t});\n\t\t\t\t\n\t\t\t\n\t\t\tFwEvent.trigger(element,EVENT_OPEN);\n\n\t\t\telement.classList.add(ACTIVATED_CLASS);\n\n\t\t\tif (this.args.changeHash && this._id) {\n\t\t\t\tUIChangeHash(this._id);\n\t\t\t}\n\n\t\t\tFwEvent.trigger(element,EVENT_AFTER_OPEN);\n\t\t}\n\t\t\n\t}\n\n\n\n\ttoggle(elem,hashChangeOverride){\n\t\tconst element = elem ?\n\t\t\tsuper.UIEl(elem)\n\t\t\t: super.UIEl();\n\n\t\tif(!element){\n\t\t\treturn;\n\t\t}\n\n\t\tif(element.classList.contains(ACTIVATED_CLASS)){\n\t\t\tthis.close(elem,hashChangeOverride);\n\t\t}else{\n\t\t\tthis.open(elem,hashChangeOverride);\n\t\t}\n\t}\n\n\tstatic handleToggler() {\n\t\treturn (e) => {\n\t\t\te.preventDefault();\n\n\t\t\tif(!FwComponent.isDisabled(e.target)){\n\t\t\t\tconst accordion = new Accordion(\n\t\t\t\t\tUIToggled(TOGGLE_MODE,e.target),\n\t\t\t\t\te.target\n\t\t\t\t);\n\n\t\t\t\taccordion.toggle();\n\t\t\t}\n\t\t}\n\t}\n\n\tstatic handleHash() {\n\t\treturn () => {\n\t\t\tif(Settings.get('initializeAccordion')){\n\t\t\t\tconst accordion = new Accordion();\n\t\t\t\taccordion.open();\n\t\t\t};\n\t\t}\n\t}\n\n\tstatic initListeners() {\n\t\t\n\t\tFwEvent.addListener(\n\t\t\tdocument.documentElement,\n\t\t\tEVENT_CLICK,\n\t\t\t`*[data-toggle-${TOGGLE_MODE}]`,\n\t\t\tAccordion.handleToggler()\n\t\t);\n\n\t\tFwEvent.addListener(\n\t\t\tnull,\n\t\t\tEVENT_HASHCHANGE,\n\t\t\twindow,\n\t\t\tAccordion.handleHash()\n\t\t);\n\n\t\tInitiator.Q.on_ready = Accordion.handleHash();\n\t}\n\t\n}\n\nexport default Accordion;\n\nAccordion.initListeners();\n\n","import Settings from './core/settings.js';\n\nimport FwEvent from './data-helper/event.js';\nimport FwString from './data-helper/string.js';\n\nimport FwComponent from './classes/component.js';\nimport { UIToggled } from './util/ui.js';\n\n\nconst NAME = 'alert';\nconst TOGGLE_MODE = `${NAME}-close`;\nconst COMPONENT_CLASS = `${FwString.ToDashed(NAME)}`;\n\nconst DATA_KEY = `${Settings.get('prefix')}.${NAME}`;\n\nconst EVENT_KEY = `.${DATA_KEY}`;\nconst EVENT_CLICK = `click${EVENT_KEY}`;\n\n\tconst EVENT_BEFORE_CLOSE = `before_close${EVENT_KEY}`;\n\tconst EVENT_CLOSE = `close${EVENT_KEY}`;\n\tconst EVENT_AFTER_CLOSE = `after_close${EVENT_KEY}`;\n\n\nclass Alert extends FwComponent {\n\n\tstatic get DATA_KEY(){\n\t\treturn DATA_KEY;\n\n\t}\n\n\tclose(elem){\n\t\tconst element = elem ?\n\t\t\tsuper.UIEl(elem)\n\t\t\t: this.element;\n\n\t\t\n\t\tif(!element){\n\t\t\treturn;\n\t\t}\n\t\t\n\t\tFwEvent.trigger(element,EVENT_BEFORE_CLOSE);\n\n\t\tFwEvent.trigger(element,EVENT_CLOSE);\n\t\telement.parentNode.removeChild(element);\n\n\t\tFwEvent.trigger(element,EVENT_AFTER_CLOSE);\n\t}\n\n\tstatic closeAll(){\n\t\tconst selector = document.querySelectorAll(`.${COMPONENT_CLASS}`);\n\n\t\tif (selector.length) {\n\t\t\tselector.forEach((instance) => {\n\t\t\t\tif (\n\t\t\t\t\tinstance.querySelectorAll('[data-toggle-alert-close]').length\n\t\t\t\t\t|| instance.classList.contains(`${NAME}-closeable`)\n\t\t\t\t) {\n\t\t\t\t\tconst alertInstance = new Alert(instance);\n\t\t\t\t\talertInstance.close();\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t}\n\n\tstatic handleClose() {\n\t\treturn (e) => {\n\t\t\te.preventDefault();\n\n\t\t\tif(!FwComponent.isDisabled(e.target)){\n\t\t\t\tconst alert = new Alert( UIToggled(TOGGLE_MODE,e.target) );\n\t\t\t\talert.close();\n\t\t\t}\n\t\t}\n\t}\n\n\tstatic handleCloseAll() {\n\t\treturn (e) => {\n\t\n\t\t\te.preventDefault();\n\t\n\t\t\tif (!FwComponent.isDisabled(e.target)) {\n\t\t\t\tAlert.closeAll()\n\t\t\t}\n\t\t}\n\t}\n\n\tstatic initListeners(){\n\t\t\n\t\tFwEvent.addListener(\n\t\t\tdocument.documentElement,\n\t\t\tEVENT_CLICK,\n\t\t\t`*[data-toggle-${TOGGLE_MODE}]`,\n\t\t\tAlert.handleClose()\n\t\t);\n\t\t\n\t\tFwEvent.addListener(\n\t\t\tdocument.documentElement,\n\t\t\tEVENT_CLICK,\n\t\t\t`*[data-toggle-${TOGGLE_MODE}-all]`,\n\t\t\tAlert.handleCloseAll()\n\t\t);\n\t}\n}\n\nexport default Alert;\n\nAlert.initListeners();","import Settings from './core/settings.js';\n\nimport FwEvent from './data-helper/event.js';\nimport FwString from './data-helper/string.js';\n\nimport FwComponent from './classes/component.js';\nimport { UIToggleGroup } from './util/ui.js';\n\n\nconst NAME = 'btn';\nconst COMPONENT_CLASS = `${FwString.ToDashed(NAME)}`;\n\nconst DATA_KEY = `${Settings.get('prefix')}.${NAME}`;\n\nconst EVENT_KEY = `.${DATA_KEY}`;\nconst EVENT_CLICK = `click${EVENT_KEY}`;\n\n\tconst EVENT_BEFORE_TOGGLE = `before_toggle${EVENT_KEY}`;\n\tconst EVENT_TOGGLE = `toggle${EVENT_KEY}`;\n\tconst EVENT_AFTER_TOGGLE = `after_toggle${EVENT_KEY}`;\n\n\nclass Button extends FwComponent {\n\n\tstatic get DATA_KEY(){\n\t\treturn DATA_KEY;\n\n\t}\n\n\ttoggle(elem){\n\t\tconst element = elem ?\n\t\t\tsuper.UIEl(elem)\n\t\t\t: this.element;\n\n\t\tif(!element){\n\t\t\treturn;\n\t\t}\n\n\t\tFwEvent.trigger(element,EVENT_BEFORE_TOGGLE);\n\t\tFwEvent.trigger(element,EVENT_TOGGLE);\n\t\tUIToggleGroup(element, NAME);\n\t\tFwEvent.trigger(element,EVENT_AFTER_TOGGLE);\n\t}\n\n\n\tstatic handleToggle() {\n\t\treturn (e) => {\n\t\n\t\t\te.preventDefault();\n\t\n\t\t\tif (!FwComponent.isDisabled(e.target)) {\n\t\t\t\t\n\t\t\t\tconst button = new Button( e.target );\n\t\t\t\tbutton.toggle();\n\t\t\t}\n\t\t}\n\t}\n\n\tstatic initListeners(){\n\t\t\n\t\tFwEvent.addListener(\n\t\t\tdocument.documentElement,\n\t\t\tEVENT_CLICK,\n\t\t\t`.${COMPONENT_CLASS}-group-toggle > .${COMPONENT_CLASS}`,\t\n\t\t\tButton.handleToggle()\n\t\t);\n\t}\n}\n\n\n\nexport default Button;\n\nButton.initListeners();","import Settings from './core/settings.js';\n\nimport FwEvent from './data-helper/event.js';\nimport FwString from './data-helper/string.js';\nimport FwDom from './data-helper/dom.js';\n\nimport FwComponent from './classes/component.js';\nimport { UIToggled,UITriggerer,UIPurge, UIDynamicClass } from './util/ui.js';\n\nconst NAME = 'dropdown';\nconst ARG_ATTRIBUTE_NAME = `${NAME}`;\nconst TOGGLE_MODE = `${NAME}`;\nconst COMPONENT_CLASS = `${FwString.ToDashed(NAME)}`;\nconst COMPONENT_PURGER_CLASS = `${COMPONENT_CLASS}-purger`;\nconst ACTIVATED_CLASS = `open`;\n\nconst NAV_ANCESTOR = `li, .nav-item`;\n\nconst DATA_KEY = `${Settings.get('prefix')}.${NAME}`;\n\nconst EVENT_KEY = `.${DATA_KEY}`;\nconst EVENT_CLICK = `click${EVENT_KEY}`;\n\tconst EVENT_CLICK_PURGE = `click${EVENT_KEY}.purge`;\nconst EVENT_FOCUS = `focus${EVENT_KEY}`;\nconst EVENT_BLUR = `blur${EVENT_KEY}`;\n\n\tconst EVENT_BEFORE_CLOSE = `before_close${EVENT_KEY}`;\n\tconst EVENT_CLOSE = `close${EVENT_KEY}`;\n\tconst EVENT_AFTER_CLOSE = `after_close${EVENT_KEY}`;\n\n\tconst EVENT_BEFORE_OPEN = `before_open${EVENT_KEY}`;\n\tconst EVENT_OPEN = `open${EVENT_KEY}`;\n\tconst EVENT_AFTER_OPEN = `after_open${EVENT_KEY}`;\n\nclass Dropdown extends FwComponent {\n\t\n\tconstructor(element,triggerer,args){\n\t\tsuper(\n\t\t\telement,\n\t\t\t{\n\t\t\t\ttriggerer:(\n\t\t\t\t\ttriggerer\n\t\t\t\t\t\t? new FwDom(triggerer)\n\t\t\t\t\t: false\n\t\t\t\t),\n\t\t\t\t_customArgs: args\n\t\t\t\t\t|| false\n\t\t\t}\n\t\t);\n\t}\n\n\tdispose() {\n\t\tsuper.dispose();\n\t\tthis.triggerer = null;\n\t\tthis._customArgs = null;\n\t}\n\n\tstatic get configDefaults(){\n\t\treturn {\n\t\t\twidth: null,\n\t\t\tmaxHeight: null\n\t\t}\n\t}\n\n\tget args () {\n\t\treturn FwComponent._parseArgs(\n\t\t\t(this._customArgs\n\t\t\t\t? this._customArgs\n\t\t\t\t: {\n\t\t\t\t\twidth:(\n\t\t\t\t\t\t(\n\t\t\t\t\t\t\tthis.triggerer\n\t\t\t\t\t\t\t&& this.triggerer\n\t\t\t\t\t\t\t\t.getAttribute(`data-${ARG_ATTRIBUTE_NAME}-width`)\n\t\t\t\t\t\t) || this.element.\n\t\t\t\t\t\t\tgetAttribute(`data-${ARG_ATTRIBUTE_NAME}-width`)\n\t\t\t\t\t),\n\t\t\t\t\tmaxHeight:(\n\t\t\t\t\t\t(\n\t\t\t\t\t\t\tthis.triggerer\n\t\t\t\t\t\t\t&& this.triggerer\n\t\t\t\t\t\t\t\t.getAttribute(`data-${ARG_ATTRIBUTE_NAME}-max-height`)\n\t\t\t\t\t\t) || this.element.\n\t\t\t\t\t\t\tgetAttribute(`data-${ARG_ATTRIBUTE_NAME}-max-height`)\n\t\t\t\t\t),\n\t\t\t\t}\n\t\t\t),\n\t\t\tDropdown.configDefaults\n\t\t);\n\t}\n\n\tstatic get DATA_KEY(){\n\t\treturn DATA_KEY;\n\t}\n\n\tget UIElNavcestor() {\n\t\treturn this.element.closest(NAV_ANCESTOR);\n\t}\n\n\tget UIElUncles() {\n\t\tif(this.UIElNavcestor){\n\t\t\treturn FwDom.getSiblings(this.UIElNavcestor)\n\t\t\t\t.filter((sibling) => {\n\t\t\t\t\treturn sibling.matches(\n\t\t\t\t\t\tNAV_ANCESTOR\n\t\t\t\t\t);\n\t\t\t\t});\n\t\t}\n\t}\n\t\n\n\tclose(elem,triggerer){\n\t\tconst element = elem ?\n\t\t\tsuper.UIEl(elem)\n\t\t\t: this.element;\n\n\t\tif(element){\n\t\t\ttriggerer = triggerer || this.triggerer;\n\n\t\t\tFwEvent.trigger(element,EVENT_BEFORE_CLOSE);\n\t\n\t\t\tthis.setDimensions(\n\t\t\t\tnull,\n\t\t\t\tDropdown.configDefaults\n\t\t\t);\n\t\t\n\t\t\tFwEvent.trigger(element,EVENT_CLOSE);\n\t\t\telement.classList.remove(ACTIVATED_CLASS);\n\t\t\ttriggerer\n\t\t\t\t&& triggerer.classList.remove(ACTIVATED_CLASS);\n\t\t\tthis.UIElNavcestor\n\t\t\t\t&& this.UIElNavcestor.classList.remove(ACTIVATED_CLASS);\n\t\t\t\t\n\t\t\tFwEvent.trigger(element,EVENT_AFTER_CLOSE);\n\t\t}\n\t}\n\n\topen(elem,triggerer){\n\t\tconst element = elem ?\n\t\t\tsuper.UIEl(elem)\n\t\t\t: this.element;\n\n\t\tif(!element){\n\t\t\treturn;\n\t\t}\n\n\t\t\n\t\ttriggerer = triggerer || this.triggerer;\n\n\t\tFwEvent.trigger(element,EVENT_BEFORE_OPEN);\n\t\t\n\t\tDropdown.purge(element);\n\t\n\t\tFwEvent.trigger(element,EVENT_OPEN);\n\n\t\tthis.setDimensions();\n\n\t\telement.classList.add(ACTIVATED_CLASS);\n\n\t\ttriggerer\n\t\t\t&& triggerer.classList.add(ACTIVATED_CLASS);\n\n\t\t// if(this.UIElUncles){\n\t\t// \tthis.UIElUncles.forEach((uncle) => {\n\t\t// \t\tuncle.classList.remove(ACTIVATED_CLASS);\n\t\t// \t});\n\t\t// }\n\n\n\n\t\tFwEvent.trigger(element,EVENT_AFTER_OPEN);\n\t}\n\n\ttoggle(elem,triggerer){\n\t\tconst element = elem ?\n\t\t\tsuper.UIEl(elem)\n\t\t\t: this.element;\n\n\t\t\n\t\tif(!element){\n\t\t\treturn;\n\t\t}\n\t\ttriggerer = triggerer || this.triggerer;\n\n\t\ttriggerer\n\t\t\t\t.closest(`.${Settings.get('uiJsClass')}`)\n\t\t\t&& !triggerer\n\t\t\t\t.closest(`.${UIDynamicClass}`)\n\n\t\tif(element.classList.contains(ACTIVATED_CLASS)){\n\t\t\tthis.close(element,triggerer);\n\t\t}else{\n\t\t\tthis.open(element,triggerer);\n\t\t}\n\t}\n\t\n\n\tsetDimensions(elem,args){\n\n\t\tconst element = elem ?\n\t\t\tsuper.UIEl(elem)\n\t\t\t: this.element;\n\n\t\t\n\t\tif(!element){\n\t\t\treturn;\n\t\t}\n\t\t\n\t\targs = args || this.args;\n\n\t\tif (args.width) {\n\t\t\telement.style.width = args.width;\n\t\t}\n\n\t\tif (args.maxHeight) {\n\t\t\telement.style.maxHeight = args.maxHeight;\n\t\t}\n\t}\n\n\tstatic purge(exemptedDropdown) {\n\t\tUIPurge(\n\t\t\texemptedDropdown,\n\t\t\t`.${COMPONENT_CLASS}`,\n\t\t\t(elem) => {\n\t\t\t\tnew Dropdown(elem).close();\n\t\t\t}\n\t\t);\n\t}\n\n\n\n\tstatic handleToggle() {\n\t\treturn (e) => {\n\t\t\te.preventDefault();\n\t\t\tif(!FwComponent.isDisabled(e.target)){\n\n\t\t\t\tconst dropdown = new Dropdown(\n\t\t\t\t\tUIToggled(\n\t\t\t\t\t\tTOGGLE_MODE,\n\t\t\t\t\t\tUITriggerer(e.target)\n\t\t\t\t\t),\n\t\t\t\t\tUITriggerer(e.target)\n\t\t\t\t);\n\t\t\t\tdropdown.toggle();\n\t\t\t}\n\t\t}\n\t}\n\tstatic handleFocusOpen(i) {\n\t\treturn (e) => {\n\t\t\tif (FwComponent.isDisabled(e.target)) {\n\t\t\t\te.target.blur();\n\t\t\t}else{\n\t\t\t\tconst dropdown = new Dropdown(\n\t\t\t\t\tUIToggled(\n\t\t\t\t\t\tTOGGLE_MODE,\n\t\t\t\t\t\tUITriggerer(e.target)\n\t\t\t\t\t),\n\t\t\t\t\tUITriggerer(e.target)\n\t\t\t\t);\n\n\t\t\t\tdropdown.open();\n\t\t\t\ttriggerer.classList.add('focus');\n\t\t\t}\n\t\t\t\n\t\t}\n\t}\n\tstatic handleBlurClose() {\n\t\treturn (e) => {\n\n\t\t\tif(!FwComponent.isDisabled(e.target)){\n\t\t\t\tconst dropdown = new Dropdown(\n\t\t\t\t\tUIToggled(\n\t\t\t\t\t\tTOGGLE_MODE,\n\t\t\t\t\t\tUITriggerer(e.target)\n\t\t\t\t\t),\n\t\t\t\t\tUITriggerer(e.target)\n\t\t\t\t);\n\t\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tdropdown.close();\n\t\t\t\t}, 200);\n\t\t\t\ttriggerer.classList.remove('focus');\n\t\t\t}\n\t\t\t\n\t\t}\n\t}\n\n\tstatic handleUniversalPurge(isPurger) {\n\t\tisPurger = isPurger || false;\n\t\t\n\n\t\treturn (e) => {\n\n\t\t\tif (FwComponent.isDisabled(e.target)) {\n\t\t\t\te.preventDefault();\n\t\t\t} else if(!FwComponent.isDynamic(e.target)) {\n\t\t\t\tif (\n\t\t\t\t\tisPurger\n\t\t\t\t\t|| (\n\t\t\t\t\t\t!isPurger\n\t\t\t\t\t\t&& !e.target.closest(`[data-toggle-${TOGGLE_MODE}]`)\n\t\t\t\t\t\t&& !e.target.closest(`.${COMPONENT_CLASS}`)\n\t\t\t\t\t)\n\t\t\t\t) {\n\t\t\t\t\tDropdown.purge();\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t}\n\t}\n\n\tstatic initListeners(){\n\t\t\n\t\tFwEvent.addListener(\n\t\t\tdocument.documentElement,\n\t\t\tEVENT_CLICK,\n\t\t\t`*[data-toggle-${TOGGLE_MODE}]:not(input):not([contenteditable]):not(.${Settings.get('uiJsClass')})`,\n\t\t\tDropdown.handleToggle()\n\t\t);\n\n\n\t\tFwEvent.addListener(\n\t\t\tdocument.documentElement,\n\t\t\tEVENT_FOCUS,\n\t\t\t`input[data-toggle-${TOGGLE_MODE}], *[contenteditable][data-toggle-${TOGGLE_MODE}], .${Settings.get('uiJsClass')}[data-toggle-${TOGGLE_MODE}] [contenteditable]`,\n\t\t\tDropdown.handleFocusOpen()\n\t\t);\n\n\t\tFwEvent.addListener(\n\t\t\tdocument.documentElement,\n\t\t\tEVENT_BLUR,\n\t\t\t`input[data-toggle-${TOGGLE_MODE}], *[contenteditable][data-toggle-${TOGGLE_MODE}], .${Settings.get('uiJsClass')}[data-toggle-${TOGGLE_MODE}] [contenteditable]`,\n\t\t\tDropdown.handleBlurClose()\n\t\t);\n\n\t\tFwEvent.addListener(\n\t\t\tdocument.documentElement,\n\t\t\tEVENT_CLICK_PURGE,\n\t\t\t`*, *.${COMPONENT_PURGER_CLASS}`,\n\t\t\tDropdown.handleUniversalPurge()\n\t\t);\n\t}\n}\n\n\nexport default Dropdown;\n\nDropdown.initListeners();","import FwDataHelper from './../classes/data-helper.js';\nimport { \n\tDateTimePreset,\n\tdayNames,\n\tdayNamesShort,\n\tmonthNames,\n\tmonthNamesShort,\n} from '../util/validation';\n\nclass FwDate extends FwDataHelper {\n\n\tstatic toParsed (d){\n\t\n\t\tif (d) {\n\n\t\t\tlet yr,\n\t\t\t\tmo,\n\t\t\t\tdy,\n\t\t\t\thr,\n\t\t\t\tmn,\n\t\t\t\tdateArr = [],\n\t\t\t\ttimeArr = [];\n\t\t\t\n\t\t\tif (Object.prototype.toString.call(d) === '[object Date]') {\n\t\t\t\t//make a new date out of its methods because js will think u are referring to the same date everythere and ur math becomes a hellhole... dont.. hOE\n\t\t\t\tyr = d.getFullYear() || null;\n\t\t\t\tmo = d.getMonth() || null;\n\t\t\t\tdy = d.getDate() || null;\n\t\t\t\thr = d.getHours() || null;\n\t\t\t\tmn = d.getMinutes() || null;\n\t\t\t\t\n\t\t\t} else {\n\t\n\t\t\t\tconst pattern = new RegExp(\n\t\t\t\t\tDateTimePreset.Value.pattern\n\t\t\t\t);\n\t\t\t\tconst isValid = pattern.test(d);\n\t\n\t\t\t\tif (isValid) {\n\t\t\t\t\tlet DateTimePresetArr = d.split('T') || [];\n\t\n\t\t\t\t\t//date\n\t\t\t\t\tif (DateTimePresetArr[0]) {\n\t\t\t\t\t\tdateArr = DateTimePresetArr[0].split('-');\n\t\t\t\t\t}\n\t\n\t\t\t\t\t//time\n\t\t\t\t\tif (DateTimePresetArr[1]) {\n\t\t\t\t\t\ttimeArr = DateTimePresetArr[1].split(':');\n\t\t\t\t\t}\n\t\n\t\t\t\t\tyr = parseInt(dateArr[0]) || null;\n\t\t\t\t\tmo = parseInt(dateArr[1] - 1) || null;\n\t\t\t\t\tdy = parseInt(dateArr[2]) || null;\n\t\t\t\t\thr = parseInt(timeArr[0]) || null;\n\t\t\t\t\tmn = parseInt(timeArr[1]) || null;\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\tlet toReturn = false;\n\t\n\t\t\tif (\n\t\t\t\tObject.prototype.toString.call(\n\t\t\t\t\tnew Date(yr, mo, dy, hr, mn)\n\t\t\t\t) == '[object Date]'\n\t\t\t) {\n\t\t\t\ttoReturn = new Date(yr, mo, dy, hr, mn);\n\t\t\t}\n\t\n\t\t\treturn toReturn;\n\t\t}\n\t}\n\t\n\tstatic toHuman (date,format) {\n\t\tconst d = FwDate.toParsed(date);\n\t\tformat = format || DateTimePreset.HumanDate.template;\n\t\n\t\tif (d) {\n\t\t\tlet iFormat,\n\t\t\t\toutput = '',\n\t\t\t\tliteral = false;\n\t\n\t\t\t// Check whether a format character is doubled\n\t\t\tconst lookAhead = (match) => {\n\t\t\t\t\tlet matches =\n\t\t\t\t\t\tiFormat + 1 < format.length\n\t\t\t\t\t\t&& format.charAt(iFormat + 1) === match;\n\t\t\t\t\tif (matches) {\n\t\t\t\t\t\tiFormat++;\n\t\t\t\t\t}\n\t\t\t\t\treturn matches;\n\t\t\t\t},\n\t\n\t\t\t\t// Format a number, with leading zero if necessary\n\t\t\t\tformatNumber = (match, value, len) => {\n\t\t\t\t\tlet num = '' + value;\n\t\t\t\t\tif (lookAhead(match)) {\n\t\t\t\t\t\twhile (num.length < len) {\n\t\t\t\t\t\t\tnum = '0' + num;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\treturn num;\n\t\t\t\t},\n\t\n\t\t\t\t// Format a name, short or long as requested\n\t\t\t\tformatName = (match, value, shortNames, longNames) => {\n\t\t\t\t\treturn lookAhead(match)\n\t\t\t\t\t\t? longNames[value]\n\t\t\t\t\t\t: shortNames[value];\n\t\t\t\t};\n\t\t\t\t\n\t\t\tfor (iFormat = 0; iFormat < format.length; iFormat++) {\n\n\t\t\t\tif (literal) {\n\t\t\t\t\tif (\n\t\t\t\t\t\tformat.charAt(iFormat) === \"'\" && !lookAhead(\"'\")\n\t\t\t\t\t) {\n\t\t\t\t\t\tliteral = false;\n\n\t\t\t\t\t} else {\n\t\t\t\t\t\toutput += format.charAt(iFormat);\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\t\t\t\t\tswitch (format.charAt(iFormat)) {\n\t\t\t\t\t\tcase 'd': //date number\n\t\t\t\t\t\t\toutput += formatNumber(\n\t\t\t\t\t\t\t\t'd',\n\t\t\t\t\t\t\t\td.getDate(),\n\t\t\t\t\t\t\t\t2\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase 'D': //day of the week\n\t\t\t\t\t\t\toutput += formatName(\n\t\t\t\t\t\t\t\t'D',\n\t\t\t\t\t\t\t\td.getDay(),\n\t\t\t\t\t\t\t\tdayNamesShort,\n\t\t\t\t\t\t\t\tdayNames\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase 'o': //day of year hmm\n\t\t\t\t\t\t\toutput += formatNumber(\n\t\t\t\t\t\t\t\t'o',\n\t\t\t\t\t\t\t\tMath.round(\n\t\t\t\t\t\t\t\t\t(\n\t\t\t\t\t\t\t\t\t\tnew Date(\n\t\t\t\t\t\t\t\t\t\t\td.getFullYear(),\n\t\t\t\t\t\t\t\t\t\t\td.getMonth(),\n\t\t\t\t\t\t\t\t\t\t\td.getDate()\n\t\t\t\t\t\t\t\t\t\t).getTime()\n\t\t\t\t\t\t\t\t\t\t- new Date(\n\t\t\t\t\t\t\t\t\t\t\t\td.getFullYear(),\n\t\t\t\t\t\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\t\t\t\t\t\t0\n\t\t\t\t\t\t\t\t\t\t).getTime()\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t/ 86400000\n\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t3\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase 'm': //month\n\t\t\t\t\t\t\toutput += formatNumber(\n\t\t\t\t\t\t\t\t'm',\n\t\t\t\t\t\t\t\td.getMonth() + 1,\n\t\t\t\t\t\t\t\t2\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase 'M': //month but name\n\t\t\t\t\t\t\toutput += formatName(\n\t\t\t\t\t\t\t\t'M',\n\t\t\t\t\t\t\t\td.getMonth(),\n\t\t\t\t\t\t\t\tmonthNamesShort,\n\t\t\t\t\t\t\t\tmonthNames\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase 'y': //year\n\t\t\t\t\t\t\toutput += lookAhead('y')\n\t\t\t\t\t\t\t\t? d.getFullYear()\n\t\t\t\t\t\t\t\t: (d.getFullYear() % 100 < 10\n\t\t\t\t\t\t\t\t\t\t? '0'\n\t\t\t\t\t\t\t\t\t\t: '') +\n\t\t\t\t\t\t\t\t(d.getFullYear() % 100);\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase 'H': //12 hour\n\t\t\t\t\t\t\toutput += formatNumber(\n\t\t\t\t\t\t\t\t'H',\n\t\t\t\t\t\t\t\td.getHours() % 12 || 12,\n\t\t\t\t\t\t\t\t2\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase 'h': //24 hour\n\t\t\t\t\t\t\toutput += formatNumber(\n\t\t\t\t\t\t\t\t'h',\n\t\t\t\t\t\t\t\td.getHours(),\n\t\t\t\t\t\t\t\t2\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase 'i': //minute\n\t\t\t\t\t\t\toutput += formatNumber(\n\t\t\t\t\t\t\t\t'i',\n\t\t\t\t\t\t\t\td.getMinutes(),\n\t\t\t\t\t\t\t\t2\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase 'a': //am /pm\n\t\t\t\t\t\t\toutput +=\n\t\t\t\t\t\t\t\td.getHours() >= 12 ? 'pm' : 'am';\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase 'A': //AM/PM\n\t\t\t\t\t\t\toutput +=\n\t\t\t\t\t\t\t\td.getHours() >= 12 ? 'PM' : 'AM';\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase \"'\":\n\t\t\t\t\t\t\tif (lookAhead(\"'\")) {\n\t\t\t\t\t\t\t\toutput += \"'\";\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tliteral = true;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\toutput += format.charAt(iFormat);\n\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\treturn output;\n\t\n\t\t} else {\n\t\t\treturn false;\n\t\t}\n\t}\n\n\tstatic toVal(date) {\n\t\tconst d = FwDate.toParsed(date);\n\t\n\t\tif (d) {\n\t\t\treturn this.toHuman(\n\t\t\t\td,\n\t\t\t\tDateTimePreset.Value.template\n\t\t\t);\n\t\t}\n\t}\n\n\tstatic adjacentMonth (date,offsetByMonth, dateOverride) {\n\t\tlet d = FwDate.toParsed(date);\n\t\n\t\tif (d) {\n\t\t\tdateOverride = dateOverride || null;\n\t\n\t\t\tconst currMonth = d.getMonth(),\n\t\t\t\tcurrYear = d.getFullYear(),\n\t\t\t\tnewMonth = (() => {\n\t\t\t\t\tlet toReturn;\n\t\t\t\t\tif (\n\t\t\t\t\t\t(currMonth + offsetByMonth) % 12 > 12\n\t\t\t\t\t) {\n\t\t\t\t\t\ttoReturn = ((currMonth + offsetByMonth) % 12) - 12;\n\t\n\t\t\t\t\t} else if (\n\t\t\t\t\t\t(currMonth + offsetByMonth) % 12 < 0\n\t\t\t\t\t) {\n\t\t\t\t\t\ttoReturn = ((currMonth + offsetByMonth) % 12) + 12;\n\t\n\t\t\t\t\t} else {\n\t\t\t\t\t\ttoReturn = (currMonth + offsetByMonth) % 12;\n\t\t\t\t\t}\n\t\n\t\t\t\t\treturn toReturn;\n\t\t\t\t})(),\n\t\n\t\t\t\tnewYear = (() => {\n\t\t\t\t\tconst defOffset = parseInt(offsetByMonth / 12);\n\t\t\t\t\tlet toReturn = currYear + defOffset;\n\t\n\t\t\t\t\t//offset to adjacent year\n\t\t\t\t\tif (\n\t\t\t\t\t\toffsetByMonth < 0\n\t\t\t\t\t\t&& currMonth + (offsetByMonth % 12) < 0\n\t\t\t\t\t) {\n\t\t\t\t\t\ttoReturn -= 1;\n\t\n\t\t\t\t\t} else if (\n\t\t\t\t\t\toffsetByMonth > 0\n\t\t\t\t\t\t&& currMonth + (offsetByMonth % 12) > 11\n\t\t\t\t\t) {\n\t\t\t\t\t\ttoReturn += 1;\n\t\t\t\t\t}\n\t\n\t\t\t\t\treturn toReturn;\n\t\t\t\t})()\n\t\t\t\t;\n\t\n\t\t\td.setMonth(newMonth);\n\t\t\td.setFullYear(newYear);\n\t\n\t\t\tif (dateOverride) {\n\t\t\t\td.setDate(dateOverride);\n\t\t\t}\n\t\n\t\t\treturn d;\n\t\n\t\t} else {\n\t\t\treturn false;\n\t\t}\n\t}\n}\n\nexport default FwDate;","import Settings from './../core/settings.js';\nimport Initiator from './../core/initiator.js';\n\nimport FwEvent from './../data-helper/event.js';\nimport FwDom from './../data-helper/dom.js';\nimport FwDate from './../data-helper/date.js';\n\nimport FwComponent from './../classes/component.js';\nimport { UIPrefix,UIDynamicClass } from '../util/ui.js';\nimport { DateTimePreset, dayNamesShorter, monthNamesShort } from '../util/validation.js';\n\nimport Dropdown from './../dropdown.js';\n\nconst NAME = 'formCalendar';\nconst ARG_ATTRIBUTE_NAME = 'calendar';\nconst COMPONENT_CLASS = `input-calendar`;\nconst ACTIVATED_CLASS = `active`;\n\nconst DATA_KEY = `${Settings.get('prefix')}.${NAME}`;\n\nconst EVENT_KEY = `.${DATA_KEY}`;\nconst EVENT_CLICK = `click${EVENT_KEY}`;\nconst EVENT_KEYUP = `keyup${EVENT_KEY}`;\nconst EVENT_CHANGE = `change${EVENT_KEY}`;\n\n\tconst EVENT_BEFORE_INIT = `before_init${EVENT_KEY}`;\n\tconst EVENT_INIT = `init${EVENT_KEY}`;\n\tconst EVENT_AFTER_INIT = `after_init${EVENT_KEY}`;\n\n\tconst EVENT_BEFORE_RENDER = `before_render${EVENT_KEY}`;\n\tconst EVENT_RENDER = `render${EVENT_KEY}`;\n\tconst EVENT_AFTER_RENDER = `after_render${EVENT_KEY}`;\n\n\tconst EVENT_BEFORE_UPDATE = `before_update${EVENT_KEY}`;\n\tconst EVENT_UPDATE = `update${EVENT_KEY}`;\n\tconst EVENT_AFTER_UPDATE = `after_update${EVENT_KEY}`;\n\n\nclass Calendar extends FwComponent {\n\t\n\tconstructor(element,valueToRender,args){\n\t\tsuper(\n\t\t\telement,\n\t\t\t{\n\t\t\t\tUIValue: valueToRender\n\t\t\t\t\t|| false,\n\t\t\t\t_customArgs: args\n\t\t\t\t\t|| false\n\t\t\t}\n\t\t);\n\t}\n\n\tdispose() {\n\t\tsuper.dispose();\n\t\tthis.UIValue = null;\n\t\tthis._customArgs = null;\n\t}\n\n\tget theValue() {\n\t\treturn super.UIEl().value\n\t\t\t? FwDate.toVal(super.UIEl().value)\n\t\t\t: false;\n\t}\n\n\tset theValue(theValue) {\n\t\tif(theValue){\n\n\t\t\tsuper.UIEl().setAttribute('value', FwDate.toVal(theValue));\n\t\t\tsuper.UIEl().value = FwDate.toVal(theValue);\n\t\t}\n\t}\n\n\tget renderValue() {\n\t\tconst theRenderDate = this.UIValue\n\t\t\t? this.UIValue\n\t\t: this.theValue\n\t\t\t? this.theValue\n\t\t:  new Date()\n\t\treturn FwDate.toVal(theRenderDate);\n\t}\n\n\tset renderValue(renderDate) {\n\t\tthis.UIValue = renderDate;\n\t}\n\n\tget UIInputValue() {\n\t\treturn this.UIInput && FwDate.toVal(this.UIInput.value)\n\t}\n\n\tset UIInputValue(uiValue) {\n\t\tif(uiValue){\n\t\t\tthis.UIInput.setAttribute('value', FwDate.toHuman(uiValue));\n\t\t\tthis.UIInput.value = FwDate.toHuman(uiValue);\n\t\t}\n\t}\n\n\tget UIRoot () {\n\t\treturn super.UIEl().closest(`.${UIPrefix(COMPONENT_CLASS)}`);\n\t}\n\n\tget UIDates () {\n\t\treturn this.UIRoot && this.UIRoot.querySelectorAll(`.${UIPrefix(COMPONENT_CLASS)}-date`);\n\t}\n\n\tget UIInput(){\n\t\treturn this.UIRoot.querySelector(`.${UIPrefix(COMPONENT_CLASS)}-input input`);\n\t}\n\n\tstatic get configDefaults(){\n\t\treturn {\n\t\t\tclass: '',\n\t\t\tstartDay: {\n\t\t\t\tvalue: 0,\n\t\t\t\tparser: (value)=>{\n\t\t\t\t\treturn parseInt(value) % 7\n\t\t\t\t}\n\t\t\t}, // su,mo,tu,we,th,fr,sa,\n\t\t\tmin: null,\n\t\t\tmax: null,\n\t\t\tyearSpan: {\n\t\t\t\tvalue: 0,\n\t\t\t\tparser: (value)=>{\n\t\t\t\t\tif (parseInt(value) <= 0) {\n\t\t\t\t\t\tvalue = 0;\n\t\t\t\t\t}\n\n\t\t\t\t\treturn value;\n\t\t\t\t}\n\t\t\t},\n\t\t\tdisabledDates: '', //yyyy-mm-dd,weekends,past,future\n\t\t\ttextInput: false,\n\t\t\tmonthSkip: true,\n\t\t\tyearSkip: false,\n\t\t}\n\t}\n\n\tget args () {\n\t\t\n\t\treturn FwComponent._parseArgs(\n\t\t\t(this._customArgs\n\t\t\t\t? this._customArgs\n\t\t\t\t: {\n\t\t\t\t\tclass:\n\t\t\t\t\t\tsuper.UIEl().getAttribute('class'),\n\t\t\t\t\tstartDay:\n\t\t\t\t\t\tsuper.UIEl().getAttribute(`data-${ARG_ATTRIBUTE_NAME}-start-day`), // 0,1,2,3,4,5,6\n\t\t\t\t\tmin:\n\t\t\t\t\t\tsuper.UIEl().getAttribute(`data-${ARG_ATTRIBUTE_NAME}-min`)\n\t\t\t\t\t\t|| super.UIEl().getAttribute('min'),\n\t\t\t\t\tmax:\n\t\t\t\t\t\tsuper.UIEl().getAttribute(`data-${ARG_ATTRIBUTE_NAME}-max`)\n\t\t\t\t\t\t|| super.UIEl().getAttribute('max'),\n\t\t\t\t\tyearSpan:\n\t\t\t\t\t\tsuper.UIEl().getAttribute(`data-${ARG_ATTRIBUTE_NAME}-year-span`),\n\t\t\t\t\tdisabledDates:\n\t\t\t\t\t\tsuper.UIEl().getAttribute(`data-${ARG_ATTRIBUTE_NAME}-disabled-dates`),\n\t\t\t\t\ttextInput:\n\t\t\t\t\t\tsuper.UIEl().getAttribute(`data-${ARG_ATTRIBUTE_NAME}-text-input`),\n\t\t\t\t\tmonthSkip:\n\t\t\t\t\t\tsuper.UIEl().getAttribute(`data-${ARG_ATTRIBUTE_NAME}-month-skip`),\n\t\t\t\t\tyearSkip:\n\t\t\t\t\t\tsuper.UIEl().getAttribute(`data-${ARG_ATTRIBUTE_NAME}-year-skip`),\n\t\t\t\t}\n\t\t\t),\n\t\t\tCalendar.configDefaults\n\t\t);\n\t}\n\n\tstatic get DATA_KEY(){\n\t\treturn DATA_KEY;\n\n\t}\n\n\tupdate(newValue,valueToRender) {\t\t\n\t\tFwEvent.trigger(super.UIEl(),EVENT_BEFORE_UPDATE);\n\n\t\tconst theValue =\n\t\t\tFwDate.toVal(newValue)\n\t\t\t|| this.theValue;\n\t\t\n\t\tconst uiValue =\n\t\t\tFwDate.toVal(valueToRender)\n\t\t\t|| theValue\n\t\t\t|| this.renderValue;\n\t\t\t\n\t\t\n\t\tFwEvent.trigger(super.UIEl(),EVENT_UPDATE);\n\t\t//set up calendar\n\t\tif (this.validates(theValue) || !theValue) {\n\t\t\tthis.theValue = FwDate.toVal(theValue, false);\n\t\t\tthis.renderValue = uiValue;\n\n\t\t\tthis._renderUI();\n\t\t}\n\t\n\t\t//user visual feedback if it has a valid bitch\n\t\tif (this.validates(theValue)) {\n\t\t\tthis.UIRoot\n\t\t\t\t.classList.remove('input-error');\n\t\t} else {\n\t\t\tthis.UIRoot\n\t\t\t\t.classList.add('input-error');\n\t\t}\n\t\n\t\tif (this.theValue) {\n\t\n\t\t\tthis.UIDates.forEach((date) => {\n\t\t\t\tif (\n\t\t\t\t\tdate.getAttribute('data-value') == theValue\n\t\t\t\t) {\n\t\t\t\t\tdate.classList.add(ACTIVATED_CLASS);\n\t\t\t\t} else {\n\t\t\t\t\tdate.classList.remove(ACTIVATED_CLASS);\n\t\t\t\t}\n\t\t\t});\n\t\n\t\n\t\t\tif (this.UIInput) {\n\t\t\t\tthis.UIInputValue = theValue;\n\t\t\t}\n\t\t}\n\t\tFwEvent.trigger(super.UIEl(),EVENT_AFTER_UPDATE);\n\t}\n\n\t\n\tvalidates(date,rangeOnly) {\n\n\t\tdate = date || this.theValue;\n\t\trangeOnly = rangeOnly || false; //range,spot\n\t\n\t\tconst d = FwDate.toParsed(date),\n\t\t\tcheckAgainst = this.args.disabledDates.split(',');\n\t\n\t\tlet toReturn = true;\n\t\n\t\tif (!rangeOnly) {\n\t\t\t//if in disabled dates\n\t\t\tif (checkAgainst.includes(FwDate.toVal(d))) {\n\t\t\t\t// console.warn('value is declared disabled specifically || ',FwDate.toVal(d));\n\t\t\t\ttoReturn = false;\n\t\t\t}\n\t\n\t\t\t//weekend\n\t\t\tif (\n\t\t\t\tcheckAgainst.includes('weekends')\n\t\t\t\t&& (d.getDay() == 0 || d.getDay() == 6)\n\t\t\t) {\n\t\t\t\t// console.warn('value was a weekend || ',FwDate.toVal(d),FwDate.toVal(d));\n\t\t\t\ttoReturn = false;\n\t\t\t}\n\t\t}\n\t\n\t\t//in the past\n\t\tlet dateNow = new Date();\n\t\tdateNow.setHours(0, 0, 0, 0);\n\t\tif (\n\t\t\tcheckAgainst.includes('past')\n\t\t\t&& d < dateNow\n\t\t) {\n\t\t\t// console.warn('value was in the past || ',FwDate.toVal(d),'\\nversus ',FwDate.toVal(dateNow));\n\t\t\ttoReturn = false;\n\t\t}\n\t\n\t\tif (\n\t\t\tcheckAgainst.includes('future')\n\t\t\t&& d > dateNow\n\t\t) {\n\t\t\t// console.warn('value was in the future || ',FwDate.toVal(date),'\\nversus ',FwDate.toVal(dateNow));\n\t\t\ttoReturn = false;\n\t\t}\n\t\n\t\t//if  in range of min or max\n\t\tif (\n\t\t\t(\n\t\t\t\tFwDate.toParsed(this.args.max)\n\t\t\t\t&& FwDate.toParsed(this.args.max) < d\n\t\t\t)\n\t\t\t|| (\n\t\t\t\tFwDate.toParsed(this.args.min)\n\t\t\t\t&& d < FwDate.toParsed(this.args.min)\n\t\t\t)\n\t\t) {\n\t\t\t// console.warn('value not in max and width || ',FwDate.toVal(d));;\n\t\t\ttoReturn = false;\n\t\t}\n\n\t\t//check if values are actually legit dates\n\t\t\t//month\n\t\t\t//date\n\n\t\n\t\treturn toReturn;\n\t}\n\n\tget _calendar() {\n\t\tconst renderDate = this.renderValue;\n\n\t\tconst toReturn = {\n\t\t\tyear: FwDate.toParsed(renderDate).getFullYear(),\n\t\t\tmonth: FwDate.toParsed(renderDate).getMonth(),\n\t\t}\n\t\ttoReturn.startDate = new Date(toReturn.year, toReturn.month, 1);\n\n\t\ttoReturn.lastDate = new Date(toReturn.year, toReturn.month + 1, 0);\n\n\t\ttoReturn.prevDate = new Date(toReturn.year, toReturn.month, 0);\n\t\ttoReturn.prevDay = toReturn.prevDate.getDay();\n\n\t\treturn toReturn;\n\t}\n\n\t_arrowHtml = (buttonClass) => {\n\t\tlet symbolClass, arrowDate, disValid,arrowClass;\n\t\t//set a new date with no date because fuck that boi\n\t\t// console.warn(buttonClass,'hello i fucked up','\\n',FwDate.toParsed(uiValue),'\\n',this._calendar.startDate,'\\n', new Date(this._calendar.year,this._calendar.month));\n\t\tswitch (buttonClass) {\n\t\t\tcase 'prev-month':\n\t\t\t\tsymbolClass = 'symbol-arrow-left';\n\t\t\t\tarrowClass = 'month';\n\t\t\t\tarrowDate = FwDate.toVal(\n\t\t\t\t\tFwDate.adjacentMonth(this._calendar.startDate, -1)\n\t\t\t\t);\n\t\t\t\tdisValid = this.validates(\n\t\t\t\t\tnew Date(this._calendar.year, this._calendar.month, 0),\n\t\t\t\t\ttrue\n\t\t\t\t);\n\t\t\t\tbreak;\n\n\t\t\tcase 'prev-year':\n\t\t\t\tsymbolClass = 'symbol-arrow-double-left';\n\t\t\t\tarrowClass = 'year';\n\t\t\t\tarrowDate = FwDate.toVal(\n\t\t\t\t\tFwDate.adjacentMonth(this._calendar.startDate, -12)\n\t\t\t\t);\n\t\t\t\tdisValid = this.validates(\n\t\t\t\t\tnew Date(this._calendar.year - 1, this._calendar.month, 0),\n\t\t\t\t\ttrue\n\t\t\t\t);\n\t\t\t\tbreak;\n\n\t\t\tcase 'next-month':\n\t\t\t\tsymbolClass = 'symbol-arrow-right';\n\t\t\t\tarrowClass = 'month';\n\t\t\t\tarrowDate = FwDate.toVal(\n\t\t\t\t\tFwDate.adjacentMonth(this._calendar.startDate, 1)\n\t\t\t\t);\n\t\t\t\tdisValid = this.validates(\n\t\t\t\t\tnew Date(this._calendar.year, this._calendar.month + 1, 1),\n\t\t\t\t\ttrue\n\t\t\t\t);\n\t\t\t\tbreak;\n\n\t\t\tcase 'next-year':\n\t\t\t\tsymbolClass = 'symbol-arrow-double-right';\n\t\t\t\tarrowClass = 'year';\n\t\t\t\tarrowDate = FwDate.toVal(\n\t\t\t\t\tFwDate.adjacentMonth(this._calendar.startDate, 12)\n\t\t\t\t);\n\t\t\t\tdisValid = this.validates(\n\t\t\t\t\tnew Date(this._calendar.year + 1, this._calendar.month, 1),\n\t\t\t\t\ttrue\n\t\t\t\t);\n\t\t\t\tbreak;\n\n\t\t}\n\n\t\t//kung yung at least yung last day nang prev or first day ng next man lang ay valid pwidi sya ipindoot\n\t\tlet htmlString = `<button type=\"button\" \n\t\t\tclass=\"\n\t\t\t\t${!disValid ? `disabled ` : ''}\n\t\t\t\t${UIPrefix(COMPONENT_CLASS)}-navigation\n\t\t\t\t${UIPrefix(COMPONENT_CLASS)}-button\n\t\t\t\t${UIPrefix(COMPONENT_CLASS)}-${arrowClass}\n\t\t\t\t${UIPrefix(COMPONENT_CLASS)}-${buttonClass}\" data-value=\"${arrowDate}\"\n\t\t\t>\n\t\t\t\t<i class=\"${UIPrefix(COMPONENT_CLASS)}symbol symbol ${symbolClass}\"></i>\n\t\t\t</button>`;\n\n\t\treturn htmlString;\n\t}\n\n\t_blockHtml = (date, customClass) => {\n\t\tcustomClass = customClass || '';\n\t\treturn `<button type=\"button\" data-value=\"${FwDate.toVal(date)}\"\n\t\t\t\tclass=\"\n\t\t\t\t${UIPrefix(COMPONENT_CLASS)}-block\n\t\t\t\t${UIPrefix(COMPONENT_CLASS)}-button\n\t\t\t\t${UIPrefix(COMPONENT_CLASS)}-date\n\t\t\t\t${customClass}\n\t\t\t\">\n\t\t\t\t<span>${date.getDate()}</span>\n\t\t\t</button>`;\n\t}\n\n\t_renderUI(elem,uiValue) {\n\n\t\tconst element = elem ?\n\t\t\tsuper.UIEl(elem)\n\t\t\t: super.UIEl();\n\n\t\tFwEvent.trigger(element,EVENT_BEFORE_RENDER);\n\n\t\tuiValue =\n\t\t\tuiValue\n\t\t\t|| this.renderValue;\n\n\t\tthis.renderValue = uiValue;\n\n\t\tconst theUI = {};\n\n\t\tFwEvent.trigger(element,EVENT_RENDER);\n\n\t\ttheUI.container = this.UIRoot;\n\t\t\t\n\t\tif (!theUI.container) {\n\t\t\ttheUI.container = document.createElement('div');\n\t\t\telement.parentNode.insertBefore(\n\t\t\t\ttheUI.container,\n\t\t\t\telement\n\t\t\t);\n\t\t\ttheUI.container.appendChild(element);\n\t\t\ttheUI.container.setAttribute(\n\t\t\t\t'class',\n\t\t\t\t`${Settings.get('uiClass')}\n\t\t\t\t${Settings.get('uiJsClass')}\n\t\t\t\t${element.getAttribute('class')\n\t\t\t\t\t.toString()\n\t\t\t\t\t.replace(\n\t\t\t\t\t\tCOMPONENT_CLASS,\n\t\t\t\t\t\tUIPrefix(COMPONENT_CLASS)\n\t\t\t\t\t)\n\t\t\t\t}`\n\t\t\t);\n\t\t}\n\n\t\ttheUI.inputWrapper = theUI.container\n\t\t\t.querySelector(`.${UIPrefix(COMPONENT_CLASS)}-input`);\n\n\t\tconst components = FwDom.getSiblings(element);\n\t\tcomponents.forEach((component) => {\n\t\t\tif (component !== theUI.inputWrapper) {\n\t\t\t\tcomponent.parentNode.removeChild(component);\n\t\t\t}\n\t\t});\n\n\t\t//input\n\t\tif (this.args.textInput) {\n\t\t\tif (!theUI.inputWrapper) {\n\t\t\t\ttheUI.inputWrapper = document.createElement('div');\n\t\t\t\ttheUI.container.appendChild(theUI.inputWrapper);\n\t\t\t\ttheUI.inputWrapper.setAttribute(\n\t\t\t\t\t'class',\n\t\t\t\t\t`${UIPrefix(COMPONENT_CLASS)}-input`\n\t\t\t\t);\n\t\t\t\ttheUI.inputWrapper.innerHTML =\n\t\t\t\t\t'<input class=\"input input-single-line\" type=\"text\" maxlength=\"10\" placeholder=\"MM/DD/YYYY\" />';\n\t\t\t}\n\t\t}\n\n\t\t//date 4 u\n\n\t\t//heading\n\t\t\ttheUI.heading = document.createElement('div');\n\t\t\ttheUI.container.appendChild(theUI.heading);\n\t\t\ttheUI.heading.setAttribute(\n\t\t\t\t'class',\n\t\t\t\t`${UIPrefix(COMPONENT_CLASS)}-heading`\n\t\t\t);\n\n\t\t//arrowz\n\n\t\t\tconst butts = [\n\t\t\t\t'prev-year',\n\t\t\t\t'prev-month',\n\t\t\t\t'next-month',\n\t\t\t\t'next-year',\n\t\t\t];\n\n\t\t\tbutts.forEach((butt) => {\n\t\t\t\tif (\n\t\t\t\t\t(\n\t\t\t\t\t\tthis.args.yearSkip\n\t\t\t\t\t\t&& (\n\t\t\t\t\t\t\tbutt == 'prev-year'\n\t\t\t\t\t\t\t|| butt == 'next-year'\n\t\t\t\t\t\t)\n\t\t\t\t\t)\n\t\t\t\t\t|| (\n\t\t\t\t\t\tthis.args.monthSkip\n\t\t\t\t\t\t&& (\n\t\t\t\t\t\t\tbutt == 'prev-month'\n\t\t\t\t\t\t\t|| butt == 'next-month'\n\t\t\t\t\t\t)\n\t\t\t\t\t)\n\t\t\t\t) {\n\t\t\t\t\ttheUI.heading.innerHTML += this._arrowHtml(butt);\n\t\t\t\t}\n\t\t\t});\n\n\t\t//title\n\t\t\ttheUI.title = document.createElement('div');\n\t\t\ttheUI.heading.appendChild(theUI.title);\n\t\t\ttheUI.title.setAttribute(\n\t\t\t\t'class',\n\t\t\t\t`${UIPrefix(COMPONENT_CLASS)}-title ${UIPrefix(COMPONENT_CLASS)}-dropdown-toggle\n\t\t\t\t${UIDynamicClass}` //NEED THIS AT ALL TIMES IF U DONT WANNA DIE\n\t\t\t);\n\t\t\ttheUI.title.setAttribute('data-toggle', 'dropdown');\n\t\t\ttheUI.title.innerHTML = `<span\n\t\t\t\tclass=\"${UIPrefix(COMPONENT_CLASS)}-month-text\">\n\t\t\t\t\t${monthNamesShort[this._calendar.month]}\n\t\t\t\t</span>\n\t\t\t\t<span class=\"${UIPrefix(COMPONENT_CLASS)}-year-text\">\n\t\t\t\t\t${this._calendar.year}\n\t\t\t\t</span>\n\t\t\t\t<i class=\"${UIPrefix(COMPONENT_CLASS)}-symbol symbol symbol-caret-down no-margin-x\"></i>`;\n\n\t\t//dropdown\n\t\t\tconst dropdown = document.createElement('ul');\n\t\t\ttheUI.heading.appendChild(dropdown);\n\t\t\tdropdown.setAttribute('data-dropdown-width', '100%');\n\t\t\tdropdown.setAttribute(\n\t\t\t\t'class',\n\t\t\t\t`${UIPrefix(COMPONENT_CLASS)}-dropdown dropdown dropdown-center-x dropdown-top-flush text-align-center`\n\t\t\t);\n\t\t\tdropdown.innerHTML += `<li \n\t\t\t\t\tclass=\"${UIPrefix(COMPONENT_CLASS)}-current-month-year active\"\n\t\t\t\t>\n\t\t\t\t\t<a href=\"#\"\n\t\t\t\t\t\tclass=\"${UIPrefix(COMPONENT_CLASS)}-month\"\n\t\t\t\t\t\tdata-value=\"${FwDate.toVal(this._calendar.startDate)}\"\n\t\t\t\t\t>\n\t\t\t\t\t\t${monthNamesShort[this._calendar.month]} ${this._calendar.year}\n\t\t\t\t\t</a>\n\t\t\t\t</li>\n\t\t\t\t<li><hr class=\"dropdown-separator\"></li>`;\n\n\t\t\ttheUI.dropdown = new Dropdown(dropdown,theUI.title);\n\n\t\t\tlet dropdownInit, dropdownLimit;\n\n\n\t\t\tif (this.args.yearSpan == 0) {\n\t\t\t\tdropdownInit =   this._calendar.startDate.getMonth() * -1;\n\t\t\t\tdropdownLimit = 11 - this._calendar.startDate.getMonth();\n\t\t\t} else {\n\t\t\t\tdropdownInit = parseInt(\n\t\t\t\t\t-12 * parseInt(this.args.yearSpan)\n\t\t\t\t);\n\t\t\t\tdropdownLimit = parseInt(\n\t\t\t\t\t12 * parseInt(this.args.yearSpan)\n\t\t\t\t);\n\t\t\t}\n\n\t\t\t//update dropdown\n\t\t\tfor (let i = dropdownInit; i <= dropdownLimit; i++) {\n\t\t\t\tconst listItemDate = FwDate.adjacentMonth(\n\t\t\t\t\tthis._calendar.startDate,\n\t\t\t\t\ti\n\t\t\t\t);\n\n\t\t\t\tconst dateForValidation = (() => {\n\t\t\t\t\tlet toReturn;\n\n\t\t\t\t\tif (i >= 0) {\n\t\t\t\t\t\t//first day of month\n\t\t\t\t\t\ttoReturn = new Date(\n\t\t\t\t\t\t\tlistItemDate.getFullYear(),\n\t\t\t\t\t\t\tlistItemDate.getMonth(),\n\t\t\t\t\t\t\t1\n\t\t\t\t\t\t);\n\n\t\t\t\t\t} else {\n\t\t\t\t\t\t//last day of month\n\t\t\t\t\t\ttoReturn = new Date(\n\t\t\t\t\t\t\tlistItemDate.getFullYear(),\n\t\t\t\t\t\t\tlistItemDate.getMonth() + 1,\n\t\t\t\t\t\t\t0\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\n\t\t\t\t\treturn toReturn;\n\t\t\t\t})();\n\n\n\n\t\t\t\tif (this.validates(dateForValidation, true)) {\n\t\t\t\t\t\n\t\t\t\t\tlet currClass = i == 0 ? 'active' : '',\n\t\t\t\t\t\tlistItem = `<li class=\"${currClass}\">\n\t\t\t\t\t\t\t<a href=\"#\"\n\t\t\t\t\t\t\t\tclass=\"${UIPrefix(COMPONENT_CLASS)}-month\"\n\t\t\t\t\t\t\t\tdata-value=\"${FwDate.toVal(listItemDate)}\">\n\t\t\t\t\t\t\t\t\t${\n\t\t\t\t\t\t\t\t\t\tmonthNamesShort[\n\t\t\t\t\t\t\t\t\t\t\tlistItemDate.getMonth()\n\t\t\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t\t\t} ${listItemDate.getFullYear()}\n\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t${listItemDate.getMonth() == 11\n\t\t\t\t\t\t\t&& i !== dropdownLimit\n\t\t\t\t\t\t\t\t? `</li><li><hr class=\"dropdown-separator\">`\n\t\t\t\t\t\t\t\t: ''\n\t\t\t\t\t\t}\n\t\t\t\t\t\t</li>`;\n\t\t\t\t\ttheUI.dropdown.element.innerHTML += listItem;\n\t\t\t\t}\n\t\t\t}\n\n\t\t//generate grid\n\t\t\ttheUI.grid = document.createElement('div');\n\t\t\ttheUI.container.append(theUI.grid);\n\t\t\ttheUI.grid.setAttribute(\n\t\t\t\t'class',\n\t\t\t\t`${UIPrefix(COMPONENT_CLASS)}-grid`\n\t\t\t);\n\n\t\t//days heading\n\t\t\ttheUI.days = document.createElement('div');\n\t\t\ttheUI.grid.append(theUI.days);\n\t\t\ttheUI.days.setAttribute(\n\t\t\t\t'class',\n\t\t\t\t`${UIPrefix(COMPONENT_CLASS)}-days`\n\t\t\t);\n\n\t\t\tlet daysHTML = '',\n\t\t\t\tdayToRetrieve = parseInt(this.args.startDay);\n\n\t\t\tfor (let i = 0; i < 7; i++) {\n\t\t\t\tif (dayToRetrieve > 6) {\n\t\t\t\t\tdayToRetrieve -= 7;\n\t\t\t\t}\n\n\t\t\t\tdaysHTML += `<div\n\t\t\t\t\t\tclass=\"${UIPrefix(COMPONENT_CLASS)}-block\n\t\t\t\t\t\t${UIPrefix(COMPONENT_CLASS)}-day\"\n\t\t\t\t\t>\n\t\t\t\t\t\t${dayNamesShorter[dayToRetrieve]}\n\t\t\t\t\t</div>`;\n\n\t\t\t\tdayToRetrieve++;\n\t\t\t}\n\n\t\t\ttheUI.days.innerHTML = daysHTML;\n\n\t\t//days\n\t\t\ttheUI.dates = document.createElement('div');\n\t\t\ttheUI.grid.append(theUI.dates);\n\t\t\ttheUI.dates.setAttribute(\n\t\t\t\t'class',\n\t\t\t\t`${UIPrefix(COMPONENT_CLASS)}-dates`\n\t\t\t);\n\n\t\t\t//previous month\n\t\t\t\tconst freeGridSpacePrev = \n\t\t\t\t\t\t(\n\t\t\t\t\t\t\tthis._calendar.startDate.getDay()\n\t\t\t\t\t\t\t- parseInt(this.args.startDay)\n\t\t\t\t\t\t\t+ 7\n\t\t\t\t\t\t) % 7,\n\t\t\t\t\tcalendarPrevDayStart =\n\t\t\t\t\t\tthis._calendar.prevDay == 6\n\t\t\t\t\t\t? 0\n\t\t\t\t\t\t: this._calendar.prevDay + 1;\n\n\t\t\t\tif (calendarPrevDayStart !== parseInt(this.args.startDay)) {\n\t\t\t\t\t//if it doenst take its own row of shit\n\n\t\t\t\t\t// i = 0; i <= freeGridSpacePrev; i++\n\t\t\t\t\t// @TODO AAAAAAAAAAAA FIGURE OUT THE MATH\n\t\t\t\t\t// for( dayLoopI = this._calendar.prevDay; dayLoopI >= (parseInt(this.args.startDay)); dayLoopI--){\n\t\t\t\t\t// for(let i = 0; i < 7; i++){\n\t\t\t\t\tfor (let i = 0; i < freeGridSpacePrev; i++) {\n\t\t\t\t\t\tlet offset = this._calendar.prevDate.getDate() - i;\n\n\t\t\t\t\t\tlet loopDatePrev = new Date(\n\t\t\t\t\t\t\tthis._calendar.prevDate.getFullYear(),\n\t\t\t\t\t\t\tthis._calendar.prevDate.getMonth(),\n\t\t\t\t\t\t\toffset\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tlet dateBlockPrev = this._blockHtml(\n\t\t\t\t\t\t\tloopDatePrev,\n\t\t\t\t\t\t\t`${UIPrefix(COMPONENT_CLASS)}-block-adjacent\n\t\t\t\t\t\t\t${(!this.validates(loopDatePrev)\n\t\t\t\t\t\t\t\t? 'disabled'\n\t\t\t\t\t\t\t\t: '')\n\t\t\t\t\t\t\t}`\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\t//prepend because we loopped this bitch in reverse\n\t\t\t\t\t\ttheUI.dates.innerHTML += dateBlockPrev;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t//curr month\n\n\t\t\t\tfor (let i = 1; i <= this._calendar.lastDate.getDate(); i++) {\n\t\t\t\t\tlet dateBlockCurr = this._blockHtml(\n\t\t\t\t\t\tnew Date(this._calendar.year, this._calendar.month, i),\n\t\t\t\t\t\t!this.validates(new Date(this._calendar.year, this._calendar.month, i))\n\t\t\t\t\t\t\t? 'disabled'\n\t\t\t\t\t\t\t: ''\n\t\t\t\t\t);\n\n\t\t\t\t\ttheUI.dates.innerHTML += dateBlockCurr;\n\t\t\t\t}\n\n\t\t\t//next month just fill the shit\n\t\t\tconst currNextFirstDay = new Date(\n\t\t\t\t\tthis._calendar.year,\n\t\t\t\t\tthis._calendar.month + 1,\n\t\t\t\t\t1\n\t\t\t\t).getDay(),\n\t\t\t\tfreeGridSpaceNext =\n\t\t\t\t\t(7 - currNextFirstDay + parseInt(this.args.startDay)) % 7;\n\n\t\t\tif (currNextFirstDay !== parseInt(this.args.startDay)) {\n\t\t\t\tfor (let i = 1; i <= freeGridSpaceNext; i++) {\n\t\t\t\t\tlet loopDateNext = new Date(\n\t\t\t\t\t\tthis._calendar.year,\n\t\t\t\t\t\tthis._calendar.month + 1,\n\t\t\t\t\t\ti\n\t\t\t\t\t);\n\n\t\t\t\t\tlet dateBlockNext = this._blockHtml(\n\t\t\t\t\t\tloopDateNext,\n\t\t\t\t\t\t`${UIPrefix(COMPONENT_CLASS)}-block-adjacent\n\t\t\t\t\t\t${(!this.validates(loopDateNext) ? 'disabled' : '')}`\n\t\t\t\t\t);\n\n\t\t\t\t\ttheUI.dates.innerHTML += dateBlockNext;\n\t\t\t\t}\n\t\t\t}\n\n\n\t\t\n\t\tFwEvent.trigger(element,EVENT_AFTER_RENDER);\n\t}\n\n\tinit(elem){\n\t\tconst element = elem ?\n\t\t\tsuper.UIEl(elem)\n\t\t\t: super.UIEl();\n\t\tthis.update();\n\t}\n\n\tstatic initAll(){\n\n\t\tFwEvent.trigger(document.documentElement,EVENT_BEFORE_INIT);\n\t\tFwEvent.trigger(document.documentElement,EVENT_INIT);\n\n\t\tconst calendars = document.querySelectorAll(`.${COMPONENT_CLASS}`);\n\t\t\n\t\tcalendars.forEach((cal) => {\n\t\t\tconst calendar = new Calendar(cal);\n\t\t\t\n\t\t\tcalendar.init();\n\t\t});\n\n\t\tFwEvent.trigger(document.documentElement,EVENT_AFTER_INIT);\n\t}\n\n\tstatic handleChange() {\n\t\treturn (e) => {\n\t\t\tconst calendar = new Calendar(e.target);\n\t\t\tcalendar.update();\n\t\t}\n\t}\n\n\tstatic handleUpdateKeyup() {\n\t\treturn (e) => {\n\t\t\tif (FwComponent.isDisabled(e.target)){\n\t\t\t\te.preventDefault();\n\t\t\t}else{\n\t\t\t\tconst calendar = new Calendar(e.target\n\t\t\t\t\t.closest(`.${UIPrefix(COMPONENT_CLASS)}`)\n\t\t\t\t\t.querySelector(`.${COMPONENT_CLASS}`));\n\t\n\t\t\t\tconst uiInput = e.target.value;\n\t\t\t\tif (uiInput.match(/^\\d{2}$/) !== null) {\n\t\t\t\t\te.target.value = `${uiInput}/`;\n\t\t\t\t} else if (uiInput.match(/^\\d{2}\\/\\d{2}$/) !== null) {\n\t\t\t\t\te.target.value = `${uiInput}/`;\n\t\t\t\t}\n\t\n\t\t\t\tconst pattern = new RegExp(\n\t\t\t\t\tDateTimePreset.HumanDate.pattern\n\t\t\t\t);\n\t\n\t\t\t\tconst isValid = pattern.test(uiInput);\n\t\n\t\t\t\tif (calendar && isValid) {\n\t\t\t\t\tconst theValue = uiInput.split('/');\n\t\n\t\t\t\t\tconst y = theValue[2] || '';\n\t\t\t\t\tconst m = theValue[0] || '';\n\t\t\t\t\tconst d = theValue[1] || '';\n\t\n\t\t\t\t\tconst preParsedVal = `${y}-${m}-${d}`;\n\n\t\n\t\t\t\t\tcalendar.update(\n\t\t\t\t\t\tpreParsedVal\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t\n\n\tstatic handleUpdateClick() {\n\t\treturn (e) => {\n\t\t\te.preventDefault();\n\t\n\t\t\tif (!FwComponent.isDisabled(e.target)) {\n\t\t\t\t\n\t\t\t\tconst calendar = new Calendar(e.target\n\t\t\t\t\t.closest(`.${UIPrefix(COMPONENT_CLASS)}`)\n\t\t\t\t\t.querySelector(`.${COMPONENT_CLASS}`));\n\n\t\t\t\t\tcalendar.update(\n\t\t\t\t\t\te.target.getAttribute('data-value')\n\t\t\t\t\t);\n\t\t\t}\n\t\t}\n\t}\n\t\n\n\tstatic handleRenderClick() {\n\t\treturn (e) => {\n\t\t\te.preventDefault();\n\t\n\t\t\tif (!FwComponent.isDisabled(e.target)) {\n\t\t\t\t\n\t\t\t\tconst calendar = new Calendar(e.target\n\t\t\t\t\t.closest(`.${UIPrefix(COMPONENT_CLASS)}`)\n\t\t\t\t\t.querySelector(`.${COMPONENT_CLASS}`));\n\n\t\t\t\t\tcalendar.update(\n\t\t\t\t\t\tnull,\n\t\t\t\t\t\te.target.getAttribute('data-value')\n\t\t\t\t\t);\n\t\t\t}\n\t\t}\n\t}\n\t\n\n\tstatic initListeners() {\n\n\t\tFwEvent.addListener(\n\t\t\tdocument.documentElement,\n\t\t\tEVENT_CHANGE,\n\t\t\tCOMPONENT_CLASS,\n\t\t\tCalendar.handleChange()\n\t\t);\n\n\t\tFwEvent.addListener(\n\t\t\tdocument.documentElement,\n\t\t\tEVENT_KEYUP,\n\t\t\t`.${UIPrefix(COMPONENT_CLASS)}-input input`,\n\t\t\tCalendar.handleUpdateKeyup()\n\t\t);\n\t\t\n\t\tFwEvent.addListener(\n\t\t\tdocument.documentElement,\n\t\t\tEVENT_CLICK,\n\t\t\t`.${UIPrefix(COMPONENT_CLASS)}-date`,\n\t\t\tCalendar.handleUpdateClick()\n\t\t);\n\n\t\tFwEvent.addListener(\n\t\t\tdocument.documentElement,\n\t\t\tEVENT_CLICK,\n\t\t\t`.${UIPrefix(COMPONENT_CLASS)}-month, .${UIPrefix(COMPONENT_CLASS)}-year`,\n\t\t\tCalendar.handleRenderClick()\n\t\t);\n\t\tInitiator.Q.on_ready = Calendar.initAll;\n\n\t}\n}\n\nexport default Calendar;\n\nCalendar.initListeners();\n","const Modifiers =  {\n\tkeys: {\n\t\tctrl: false,\n\t\tshift: false,\n\t\talt: false,\n\t\tmeta: false,\n\t},\n\thasActive(key) {\n\t\tkey = key || false;\n\t\n\t\tif (key && this.keys.hasOwnProperty(key)) {\n\t\t\treturn this.keys[key];\n\t\t\t\n\t\t} else {\n\t\t\treturn (\n\t\t\t\tthis.keys.ctrl\n\t\t\t\t|| this.keys.shift\n\t\t\t\t|| this.keys.alt\n\t\t\t\t|| this.keys.meta\n\t\t\t);\n\t\t}\n\t},\n\tupdate(event){\n\t\tthis.keys.shift = event.shiftKey;\n\t\tthis.keys.ctrl = event.ctrlKey;\n\t\tthis.keys.alt = event.altKey;\n\t\tthis.keys.meta = event.metaKey;\n\t}\n\t\n}\n\n//key events\n\tdocument.addEventListener(\n\t\t'keydown',\n\t\t(e) => {\n\t\t\tModifiers.update(e);\n\t\t}\n\t);\n\n\tdocument.addEventListener(\n\t\t'keyup',\n\t\t(e) => {\n\t\t\tsetTimeout(() => {\n\t\t\t\tModifiers.update(e);\n\t\t\t}, 100);\n\t\t}\n\t);\n\nexport default Modifiers","import FwDataHelper from './../classes/data-helper.js';\n\nclass FwArrayay extends FwDataHelper {\n\t\n\tstatic moveItem(arr, oi, ni){\n\n\t\twhile (oi < 0) {\n\t\t\toi += arr.length;\n\t\t}\n\n\t\twhile (ni < 0) {\n\t\t\tni += arr.length;\n\t\t}\n\n\t\tif (ni >= arr.length) {\n\t\t\tlet k = ni - arr.length;\n\t\t\twhile (k-- + 1) {\n\t\t\t\tarr.push(undefined);\n\t\t\t}\n\t\t}\n\n\t\tarr.splice(ni, 0, arr.splice(oi, 1)[0]);\n\n\t\treturn arr;\n\t}\n\n\tstatic reverse(arr) {\n\t\tlet newArray = [];\n\t\tfor (let i = arr.length - 1; i >= 0; i--) {\n\t\t\tnewArray.push(arr[i]);\n\t\t}\n\t\treturn newArray;\n\t}\n}\n\n\nexport default FwArrayay;","import Settings from './../core/settings.js';\nimport Initiator from './../core/initiator.js';\n\nimport Modifiers from './../util/modifiers.js';\n\nimport FwEvent from './../data-helper/event.js';\nimport FwArray from './../data-helper/array.js';\nimport FwDom from './../data-helper/dom.js';\n\nimport FwComponent from './../classes/component.js';\nimport { UIPrefix } from '../util/ui.js';\nimport Form from '../form.js';\n\nconst NAME = 'formTags';\nconst ARG_ATTRIBUTE_NAME = 'tags';\nconst COMPONENT_CLASS = `input-tags`;\nconst FOCUS_CLASS = `focus`;\n\nconst DATA_KEY = `${Settings.get('prefix')}.${NAME}`;\n\nconst EVENT_KEY = `.${DATA_KEY}`;\nconst EVENT_CLICK = `click${EVENT_KEY}`;\nconst EVENT_KEYDOWN = `keydown${EVENT_KEY}`;\nconst EVENT_BLUR = `blur${EVENT_KEY}`;\nconst EVENT_PASTE = `paste${EVENT_KEY}`;\nconst EVENT_CHANGE = `change${EVENT_KEY}`;\n\n\tconst EVENT_BEFORE_INIT = `before_init${EVENT_KEY}`;\n\tconst EVENT_INIT = `init${EVENT_KEY}`;\n\tconst EVENT_AFTER_INIT = `after_init${EVENT_KEY}`;\n\n\tconst EVENT_BEFORE_RENDER = `before_render${EVENT_KEY}`;\n\tconst EVENT_RENDER = `render${EVENT_KEY}`;\n\tconst EVENT_AFTER_RENDER = `after_render${EVENT_KEY}`;\n\n\tconst EVENT_BEFORE_UPDATE = `before_update${EVENT_KEY}`;\n\tconst EVENT_UPDATE = `update${EVENT_KEY}`;\n\tconst EVENT_AFTER_UPDATE = `after_update${EVENT_KEY}`;\n\n\nconst INPUT_STRING = `__fw_input__`;\n\nclass Tags extends FwComponent {\n\n\tconstructor(element,valueToRender,args){\n\t\tsuper(\n\t\t\telement,\n\t\t\t{\n\t\t\t\tUIValue: valueToRender\n\t\t\t\t\t|| false,\n\t\t\t\t_customArgs: args\n\t\t\t\t\t|| false\n\t\t\t}\n\t\t);\n\t}\n\n\tdispose() {\n\t\tsuper.dispose();\n\t\tthis.UIValue = null;\n\t\tthis._customArgs = null;\n\t}\n\n\tstatic get DATA_KEY(){\n\t\treturn DATA_KEY;\n\t}\n\n\tstatic get __is () {\n\t\treturn INPUT_STRING;\n\t}\n\n\tget theValue() {\n\t\treturn super.UIEl().value;;\n\t}\n\n\tset theValue(theValue) {\n\t\tif(theValue){\n\t\t\tsuper.UIEl().setAttribute('value', Tags.toVal(theValue,false));\n\t\t\tsuper.UIEl().value = Tags.toVal(theValue,false);\n\t\t}\n\t}\n\n\tget renderValue() {\n\t\tconst renderTags = this.UIValue\n\t\t\t? this.UIValue\n\t\t: (super.UIEl().hasAttribute('data-value-ui'))\n\t\t\t? super.UIEl().getAttribute('data-value-ui')\n\t\t: this.theValue;\n\t\treturn renderTags;\n\t}\n\n\tset renderValue(renderTags) {\n\t\tthis.UIValue = Tags.toVal(renderTags);\n\t}\n\n\tget UIRoot () {\n\t\treturn super.UIEl().closest(`.${UIPrefix(COMPONENT_CLASS)}`);\n\t}\n\n\tget UIInput(){\n\t\treturn this.UIRoot && this.UIRoot.querySelector(`.${UIPrefix(COMPONENT_CLASS)}-input`);\n\t}\n\n\tget UIInputValue() {\n\t\treturn this.UIInput.innerText;\n\t}\n\n\tset UIInputValue(inputValue) {\n\t\tthis.UIInput.innerText = inputValue.toString().replace(\n\t\t\t/\\n|\\r/g,\n\t\t\t'\\\\n'\n\t\t);\n\t}\n\n\tget UIInputIdx() {\n\t\tlet toReturn = Tags.toArr(this.renderValue).indexOf(Tags.__is);\n\n\n\t\tif(toReturn < 0){\n\t\t\tTags.toArr(this.renderValue).length > 0\n\t\t\t? Tags.toArr(this.renderValue).length - 1\n\t\t\t: 0;\n\t\t}\n\n\t\treturn toReturn;\n\t\t\n\t\t// (\n\t\t// \tthis.UIInput\n\t\t// \t&& parseInt(this.UIInput.getAttribute('data-ui-i'))\n\t\t// )\n\t\t// || Tags.toArr(this.renderValue).indexOf(Tags.__is)\n\t\t// || Tags.toArr(this.theValue).length;\n\t}\n\n\n\t_scrollToUIInput(){\n\t\tif(this.args.multipleLines || !this.UIInput){\n\t\t\treturn\n\t\t}\n\n\t\tif(\n\t\t\t(this.UIRoot.scrollLeft > (this.UIInput.offsetLeft + this.UIInput.offsetWidth))\n\t\t\t|| ((this.UIRoot.scrollLeft + this.UIRoot.clientWidth) < (this.UIInput.offsetLeft + this.UIInput.offsetWidth))\n\t\t){\n\t\t\tFwDom.scrollToElem(this.UIRoot,this.UIInput,'x');\n\t\t\tFwDom.scrollToElem(this.UIRoot,this.UIInput,'y');\n\t\t}\n\t}\n\n\tstatic get configDefaults(){\n\t\treturn {\n\t\t\twidth: null,\n\t\t\tfilter: null,\n\t\t\tonKeyUp: null,\n\t\t\tmultipleLines: false,\n\t\t}\n\t}\n\n\tget args () {\n\t\treturn FwComponent._parseArgs(\n\t\t\t(this._customArgs\n\t\t\t\t? this._customArgs\n\t\t\t\t: {\n\t\t\t\t\twidth:\n\t\t\t\t\t\tsuper.UIEl().getAttribute(`data-${ARG_ATTRIBUTE_NAME}-width`),\n\t\t\t\t\tonKeyUp:\n\t\t\t\t\t\tsuper.UIEl().getAttribute(`data-${ARG_ATTRIBUTE_NAME}-on-keyup`),\n\t\t\t\t\tfilter:\n\t\t\t\t\t\tsuper.UIEl().getAttribute(`data-${ARG_ATTRIBUTE_NAME}-filter`),\n\t\t\t\t\tmultipleLines:\n\t\t\t\t\t\tsuper.UIEl().getAttribute(`data-${ARG_ATTRIBUTE_NAME}-multiple-lines`),\n\t\t\t\t}\n\t\t\t),\n\t\t\tTags.configDefaults\n\t\t);\n\t}\n\n\tstatic toArr (value,returnsWithInput) {\n\t\t\n\t\treturnsWithInput =\n\t\t\treturnsWithInput !== false || returnsWithInput == true;\n\t\n\t\tlet toReturn = Array.isArray(value)\n\t\t\t\t? value\n\t\t\t: typeof value == 'string'\n\t\t\t\t? value.split(',')\n\t\t\t: [];\n\t\n\t\t//remove duplicates\n\t\ttoReturn = toReturn.reduce((acc, tag) => {\n\t\t\tif (!acc.includes(tag)  && tag !== '') {\n\t\t\t\tacc.push(tag);\n\t\t\t}\n\t\n\t\t\treturn acc;\n\t\t}, []);\n\t\n\t\n\t\t//check for ya boi\n\t\ttoReturn.forEach((tag, i) => {\n\t\t\tif (\n\t\t\t\t(!tag || tag == '')\n\t\t\t\t|| (tag === Tags.__is && !returnsWithInput)\n\t\t\t) {\n\t\t\t\ttoReturn.splice(i, 1);\n\t\t\t}\n\t\t});\n\t\n\t\tif (returnsWithInput && toReturn.indexOf(Tags.__is) < 0) {\n\t\t\ttoReturn.push(Tags.__is);\n\t\t}\n\n\t\treturn toReturn;\n\t};\n\n\tstatic toVal (value,returnsWithInput){\n\t\treturn Tags.toArr(value, returnsWithInput).join(',');\n\t}\n\n\tfilterValue(custFn){\n\t\tlet fnToFilter,applyFilter;\n\n\t\ttry {\n\t\t\tfnToFilter = custFn || eval(this.args.filter);\n\t\t} catch (err) {}\n\n\t\tif (typeof fnToFilter === 'function') {\n\t\t\tapplyFilter = (valueToFilter, filterFnName) => {\n\t\t\t\tconst noInputValueToFilter = (() => {\n\t\t\t\t\t\t\treturn Tags.toVal(valueToFilter, false);\n\t\t\t\t\t\t})();\n\n\t\t\t\t// turn to array ya bopi without the input tag string\n\t\t\t\tlet toReturn = Tags.toArr(\n\t\t\t\t\teval(`${filterFnName}(\"${noInputValueToFilter}\")`),\n\t\t\t\t\tfalse\n\t\t\t\t);\n\n\t\t\t\t// console.log(\n\t\t\t\t// \t'index of input\\n',inputIndex,\n\t\t\t\t// \t'\\n\\n\\nfiltered and ready for splice\\n',toReturn,\n\t\t\t\t// \t'\\n\\n\\npassed to the fil;ter\\n'Tags.toVal(valueToFilter,false),\n\t\t\t\t// \t'\\n\\n\\nrar array\\n'Tags.toArr(valueToFilter),\n\t\t\t\t// \t'\\n\\n\\n no input field\\n',noInputValueToFilter,Tags.toVal(valueToFilter,false),\n\t\t\t\t// \t'\\n\\n\\n no input fieldas array\\n'Tags.toArr(valueToFilter,false),\n\t\t\t\t// \t'\\n\\n\\n string for eval\\n', ( filterFnName +'(\"'+ noInputValueToFilter +'\")'),\n\t\t\t\t// \t'\\n\\n\\neval\\n',  eval(filterFnName +'(\"'+ noInputValueToFilter +'\")'),\n\t\t\t\t// \t'whAT ETHE FUCK'\n\t\t\t\t// );\n\n\t\t\t\tif (this.UIInputIdx > -1) {\n\t\t\t\t\ttoReturn.splice(\n\t\t\t\t\t\tthis.UIInputIdx <\n\t\t\t\t\t\t\tTags.toArr(valueToFilter).length - 1\n\t\t\t\t\t\t\t? this.UIInputIdx\n\t\t\t\t\t\t\t: toReturn.length,\n\t\t\t\t\t\t0,\n\t\t\t\t\t\tTags.__is\n\t\t\t\t\t);\n\t\t\t\t}\n\n\t\t\t\treturn Tags.toVal(toReturn);\n\t\t\t};\n\n\t\t\tthis.theValue = applyFilter(\n\t\t\t\tthis.theValue,\n\t\t\t\tthis.args.filter\n\t\t\t);\n\t\t\tthis.renderValue = applyFilter(\n\t\t\t\tthis.renderValue,\n\t\t\t\tthis.args.filter\n\t\t\t);\n\t\t}\n\t}\n\n\tupdate(newValue,allowFilter,valueToRender,inputText) {\n\t\tFwEvent.trigger(super.UIEl(),EVENT_BEFORE_UPDATE);\n\n\t\tlet theValue = newValue\n\t\t\t|| this.theValue\n\t\t\t|| '';\n\t\t\n\t\tlet uiValue = valueToRender\n\t\t\t|| theValue\n\t\t\t|| this.renderValue\n\t\t\t|| '';\n\n\t\tallowFilter = allowFilter != false || allowFilter == true;\n\n\t\tinputText = inputText || false;\n\n\n\t\tFwEvent.trigger(super.UIEl(),EVENT_UPDATE);\n\n\t\tthis.theValue = theValue;\n\t\tthis.renderValue = uiValue;\n\n\t\t\n\t\tif (this.args.filter && allowFilter) {\n\t\t\tthis.filterValue();\n\t\t}\n\n\t\tthis._renderUI();\n\n\t\tif(inputText){\n\t\t\tthis.UIInputValue = inputText;\n\t\t\tthis.focus();\n\t\t}\n\t\t\n\t\tFwEvent.trigger(super.UIEl(),EVENT_AFTER_UPDATE);\n\t}\n\n\t_renderUI(elem) {\n\n\t\tconst element = elem ?\n\t\t\tsuper.UIEl(elem)\n\t\t\t: super.UIEl();\n\n\t\t\tif(!element){\n\t\t\t\treturn\n\t\t\t}\n\n\t\tFwEvent.trigger(element,EVENT_BEFORE_RENDER);\n\n\t\tconst theUI = {};\n\n\n\t\tFwEvent.trigger(element,EVENT_RENDER);\n\t\t\n\t\ttheUI.container = this.UIRoot;\n\t\tif (!theUI.container) {\n\t\t\ttheUI.container = document.createElement('div');\n\t\t\telement.parentNode.insertBefore(\n\t\t\t\ttheUI.container,\n\t\t\t\telement\n\t\t\t);\n\t\t\ttheUI.container.appendChild(element);\n\t\t\ttheUI.container.classList.add('input');\n\t\t\ttheUI.container.setAttribute(\n\t\t\t\t'class',\n\t\t\t\t`${Settings.get('uiClass')}\n\t\t\t\t${Settings.get('uiJsClass')}\n\t\t\t\t${\n\t\t\t\t\telement\n\t\t\t\t\t.getAttribute('class')\n\t\t\t\t\t.toString()\n\t\t\t\t\t.replace(\n\t\t\t\t\t\tCOMPONENT_CLASS,\n\t\t\t\t\t\tUIPrefix(COMPONENT_CLASS)\n\t\t\t\t\t)\n\t\t\t\t}`\n\t\t\t);\n\n\t\t\ttheUI.container.classList.add(\n\t\t\t\tthis.args.multipleLines\n\t\t\t\t\t? `${UIPrefix(COMPONENT_CLASS)}-multiple`\n\t\t\t\t\t: `${UIPrefix(COMPONENT_CLASS)}-single`\n\t\t\t);\n\t\t}\n\n\t\tif (this.args.width) {\n\t\t\ttheUI.container.style = this.args.width;\n\t\t}\n\t\t//idk it never exists on initial so we dont have to do weird div wraping catches here\n\n\t\ttheUI.wrapper = theUI.container.querySelector(`.${UIPrefix(COMPONENT_CLASS)}-wrapper`);\n\n\t\tif (!theUI.wrapper) {\n\t\t\ttheUI.wrapper = document.createElement('div');\n\t\t\ttheUI.container.appendChild(theUI.wrapper);\n\t\t\ttheUI.wrapper.setAttribute(\n\t\t\t\t'class',\n\t\t\t\t`${UIPrefix(COMPONENT_CLASS)}-wrapper`\n\t\t\t);\n\t\t\ttheUI.wrapper = theUI.container.querySelector(`.${UIPrefix(COMPONENT_CLASS)}-wrapper`);\n\t\t}\n\n\t\ttheUI.input = this.UIInput;\n\n\n\t\tif (!theUI.input) {\n\t\t\ttheUI.input = document.createElement('span');\n\t\t\ttheUI.wrapper.appendChild(theUI.input);\n\t\t\ttheUI.input.setAttribute(\n\t\t\t\t'class',\n\t\t\t\t`${UIPrefix(COMPONENT_CLASS)}-input`\n\t\t\t);\n\t\t\ttheUI.input.contentEditable = true;\n\t\t\ttheUI.input = theUI.wrapper.querySelector(`.${UIPrefix(COMPONENT_CLASS)}-input`);\n\n\t\t\tif(element.hasAttribute('placeholder')){\n\t\t\t\ttheUI.input.setAttribute(\n\t\t\t\t\t'data-placeholder',\n\t\t\t\t\telement.getAttribute('placeholder')\n\t\t\t\t);\n\t\t\t}\n\n\t\t\t//nearest fw-ui parent will actually do tgoggl for bby because baby cant stand up on its own\n\t\t\tif (element.hasAttribute('data-toggle')) {\n\t\t\t\ttheUI.input.setAttribute(\n\t\t\t\t\t'data-toggle',\n\t\t\t\t\telement.getAttribute('data-toggle')\n\t\t\t\t);\n\t\t\t}\n\n\t\t\tif (FwComponent.isDisabled(element)) {\n\t\t\t\ttheUI.input.classList.add('disabled');\n\t\t\t}\n\n\t\t\t//bitch\n\t\t\tif (this.args.onKeyUp) {\n\t\t\t\ttheUI.input.addEventListener('keyup', (event)=>{\n\t\t\t\t\tconst keyUpScript = eval(this.args.onKeyUp);\n\t\t\t\t\tif(keyUpScript){\n\t\t\t\t\t\treturn keyUpScript;\n\t\t\t\t\t};\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\t\t//updoot tags\n\t\tconst oldTags = theUI.wrapper.querySelectorAll(`.${UIPrefix(COMPONENT_CLASS)}-tag`);\n\n\t\toldTags.forEach((tag) => {\n\t\t\ttag.parentNode.removeChild(tag);\n\t\t});\n\n\n\t\tlet valArr = Tags.toArr(this.renderValue, true);\n\n\t\ttheUI.input.setAttribute(\n\t\t\t'data-ui-i',\n\t\t\tthis.UIInputIdx\n\t\t);\n\n\t\t//validate tags\n\t\t// valArr = valArr.reduce((acc, tag) => {\n\t\t// \tif (!acc.includes(tag)) {\n\t\t// \t\tacc.push(tag);\n\t\t// \t}\n\t\t// \treturn acc;\n\t\t// }, []);\n\n\t\tvalArr.forEach((tag, i) => {\n\t\t\t//get index of input\n\t\t\tif (tag !== Tags.__is) {\n\t\t\t\tconst tagHtml = document.createElement('span');\n\n\t\t\t\tif(i < this.UIInputIdx){\n\t\t\t\t\ttheUI.input.insertAdjacentElement(\n\t\t\t\t\t\t'beforebegin',\n\t\t\t\t\t\ttagHtml\n\t\t\t\t\t);\n\t\t\t\t}else{\n\t\t\t\t\ttheUI.wrapper.appendChild(tagHtml);\n\t\t\t\t}\n\t\t\t\t\n\n\t\t\t\ttagHtml.setAttribute(\n\t\t\t\t\t'class',\n\t\t\t\t\t`${UIPrefix(COMPONENT_CLASS)}-tag`\n\t\t\t\t);\n\n\t\t\t\ttagHtml.innerHTML = `<button\n\t\t\t\t\t\tdata-ui-i=\"${i}\"\n\t\t\t\t\t\tclass=\"${UIPrefix(COMPONENT_CLASS)}-tag-text ${UIPrefix(COMPONENT_CLASS)}-tag-button\"\n\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t>\n\t\t\t\t\t\t${tag}\n\t\t\t\t\t</button>\n\t\t\t\t\t<button data-ui-i=\"${i}\" class=\"${UIPrefix(COMPONENT_CLASS)}-tag-close ${UIPrefix(COMPONENT_CLASS)}-tag-button\" type=\"button\">\n\t\t\t\t\t\t<i class=\"symbol symbol-close\"></i>\n\t\t\t\t\t</button>`;\n\t\t\t}\n\t\t});\n\n\t\t//attribues\n\t\tfor (let i = 0; i < element.attributes.length; i++) {\n\t\t\tlet attr = element.attributes[i];\n\n\t\t\tif (attr.specified) {\n\t\t\t\tif (\n\t\t\t\t\tattr.name.includes('data')\n\t\t\t\t\t&& !attr.name.includes('data-tags')\n\t\t\t\t\t&& !attr.name.includes('data-toggle')\n\t\t\t\t\t&& !attr.name.includes('data-value-ui')\n\t\t\t\t) {\n\t\t\t\t\ttheUI.container.setAttribute(attr.name, attr.value);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\telement.setAttribute('data-value-ui', this.renderValue);\n\n\t\t//keep that shoit bisibol\n\t\tthis._scrollToUIInput();\n\t\tFwEvent.trigger(element,EVENT_AFTER_RENDER);\n\t}\n\n\tfocus(disableNative){\n\t\tdisableNative = disableNative || false;\n\t\tconst self = this;\n\t\t!disableNative && setTimeout(function() {\n\t\t\t// console.log('poku','naAAANDATAAAOOOO');\n\t\t\tself.UIInput.focus();\n\t\t}, 0);\n\t\tself.UIRoot.classList.add(FOCUS_CLASS);\n\t\tself._scrollToUIInput();\n\t}\n\n\tblur(disableNative){\n\t\tdisableNative = disableNative || false;\n\t\tconst self = this;\n\t\t!disableNative && setTimeout(function() {\n\t\t\t// console.log('bru','naAAANDATAAAOOOO');\n\t\t\tself.UIInput.blur();\n\t\t}, 0);\n\t\tself.UIRoot.classList.remove(FOCUS_CLASS);\n\t}\n\n\tinit(elem){\n\t\tconst element = elem ?\n\t\t\tsuper.UIEl(elem)\n\t\t\t: super.UIEl();\n\n\t\tthis.update();\n\t}\n\n\tstatic initAll(){\n\t\tFwEvent.trigger(document.documentElement,EVENT_BEFORE_INIT);\n\n\t\tFwEvent.trigger(document.documentElement,EVENT_INIT);\n\n\t\tconst tagsInputs = document.querySelectorAll(`.${COMPONENT_CLASS}`);\n\t\t\n\t\ttagsInputs.forEach((poot) => {\n\t\t\tconst tagsInput = new Tags(poot);\n\t\t\t\n\t\t\ttagsInput.init();\n\t\t});\n\n\t\tFwEvent.trigger(document.documentElement,EVENT_AFTER_INIT);\n\t}\n\n\tstatic handleChange() {\n\t\treturn (e) => {\n\t\t\tconst tagsInput = new Tags(e.target);\n\t\t\ttagsInput.update();\n\t\t}\n\t}\n\n\tstatic handleEditablePaste() {\n\t\treturn (e) => {\n\t\t\te.preventDefault();\n\t\t\t\n\t\t\tif (!FwComponent.isDisabled(e.target)) {\n\t\t\t\tconst tagsInput = new Tags(e.target\n\t\t\t\t\t.closest(`.${UIPrefix(COMPONENT_CLASS)}`)\n\t\t\t\t\t.querySelector(`.${COMPONENT_CLASS}`));\n\n\t\t\t\tconst pasted =\n\t\t\t\t\te.clipboardData\n\t\t\t\t\t|| window.clipboardData\n\t\t\t\t\t|| e.originalEvent.clipboardData;\n\t\t\t\t\n\t\t\t\ttagsInput.UIInputValue += pasted.getData('text');\n\n\t\t\t\ttagsInput.blur();\n\t\t\t}\n\t\t}\n\t}\n\n\tstatic handleEditableFocus() {\n\t\treturn (e) => {\n\t\t\te.preventDefault();\n\t\t\tif (!FwComponent.isDisabled(e.target)) {\n\t\t\t\tconst tagsInput = new Tags(e.target);\n\t\t\t\ttagsInput.focus();\n\t\t\t}\n\t\t}\n\t}\n\n\tstatic handleEditableBlur() {\n\t\treturn (e) => {\n\t\n\t\t\tif (!FwComponent.isDisabled(e.target)) {\n\t\t\t\tconst tagsInput = new Tags(e.target\n\t\t\t\t\t.closest(`.${UIPrefix(COMPONENT_CLASS)}`)\n\t\t\t\t\t.querySelector(`.${COMPONENT_CLASS}`));\n\t\t\t\t\t//value para mareset ta kung hain si buloy\n\t\t\t\t\tlet currValue = Tags.toArr(tagsInput.theValue);\n\t\n\t\t\t\tif(\n\t\t\t\t\ttagsInput.UIInputValue\n\t\t\t\t){\n\t\t\t\t\tcurrValue.splice(\n\t\t\t\t\t\ttagsInput.UIInputIdx,\n\t\t\t\t\t\t0,\n\t\t\t\t\t\ttagsInput.UIInputValue.replace(',', '')\n\t\t\t\t\t);\n\t\t\t\t}\n\t\n\t\n\t\t\t\ttagsInput.UIInputValue = '';\n\t\n\t\t\t\ttagsInput.update(\n\t\t\t\t\tTags.toVal(currValue,false),\n\t\t\t\t\ttrue,\n\t\t\t\t);\n\n\t\t\t\ttagsInput.blur(true);\n\t\t\t}\n\t\t}\n\t}\n\n\tstatic handleEditableKeydown() {\n\t\treturn (e) => {\n\t\t\tif (FwComponent.isDisabled(e.target)) {\n\t\t\t\te.preventDefault();\n\t\n\t\t\t} else {\n\t\t\t\tconst tagsInput = new Tags(e.target\n\t\t\t\t\t.closest(`.${UIPrefix(COMPONENT_CLASS)}`)\n\t\t\t\t\t.querySelector(`.${COMPONENT_CLASS}`));\n\t\t\t\tlet currUIValue = Tags.toArr(tagsInput.renderValue),\n\t\t\t\t\tnewValue,\n\t\t\t\t\tallowFilter = false;\n\n\t\t\t\tswitch (e.key) {\n\t\t\t\t\t//enter\n\t\t\t\t\tcase 'Enter':\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\ttagsInput.blur();\n\t\t\t\t\t\tbreak;\n\t\n\t\t\t\t\t//comma\n\t\t\t\t\tcase ',':\n\t\t\t\t\t\tif (!Modifiers.hasActive()) {\n\t\t\t\t\t\t\tallowFilter = true;\n\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\tcurrUIValue.splice(\n\t\t\t\t\t\t\t\ttagsInput.UIInputIdx,\n\t\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\t\ttagsInput.UIInputValue.replace(',', '')\n\t\t\t\t\t\t\t);\n\t\n\t\t\t\t\t\t\ttagsInput.UIInputValue = '';\n\t\t\t\t\t\t\t\n\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// currUIValue.splice()\n\t\t\t\t\t\tbreak;\n\t\n\t\t\t\t\t//left\n\t\t\t\t\tcase 'ArrowLeft':\n\t\t\t\t\t\tif (!tagsInput.UIInputValue) {\n\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\tcurrUIValue = FwArray.moveItem(\n\t\t\t\t\t\t\t\tcurrUIValue,\n\t\t\t\t\t\t\t\ttagsInput.UIInputIdx,\n\t\t\t\t\t\t\t\ttagsInput.UIInputIdx > 0\n\t\t\t\t\t\t\t\t? tagsInput.UIInputIdx - 1\n\t\t\t\t\t\t\t\t: 0\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\tbreak;\n\t\n\t\t\t\t\t//right\n\t\t\t\t\tcase 'ArrowRight':\n\t\t\t\t\t\tif (!tagsInput.UIInputValue) {\n\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\tcurrUIValue = FwArray.moveItem(\n\t\t\t\t\t\t\t\tcurrUIValue,\n\t\t\t\t\t\t\t\ttagsInput.UIInputIdx,\n\t\t\t\t\t\t\t\ttagsInput.UIInputIdx < currUIValue.length\n\t\t\t\t\t\t\t\t\t? tagsInput.UIInputIdx + 1\n\t\t\t\t\t\t\t\t\t: currUIValue.length - 1\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t// tagsInput._scrollToUIInput();\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\n\t\t\t\t\t//up\n\t\t\t\t\tcase 'ArrowUp':\n\t\t\t\t\t\tif (!tagsInput.UIInputValue) {\n\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\tcurrUIValue = FwArray.moveItem(\n\t\t\t\t\t\t\t\tcurrUIValue,\n\t\t\t\t\t\t\t\ttagsInput.UIInputIdx,\n\t\t\t\t\t\t\t\t0\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\tbreak;\n\t\n\t\t\t\t\t//down\n\t\t\t\t\tcase 'ArrowDown':\n\t\t\t\t\t\tif (!tagsInput.UIInputValue) {\n\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\tcurrUIValue = FwArray.moveItem(\n\t\t\t\t\t\t\t\tcurrUIValue,\n\t\t\t\t\t\t\t\ttagsInput.UIInputIdx,\n\t\t\t\t\t\t\t\tcurrUIValue.length - 1\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t// tagsInput._scrollToUIInput();\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\n\t\t\t\t\t//backspace\n\t\t\t\t\tcase 'Backspace':\n\t\t\t\t\t\tif (!tagsInput.UIInputValue) {\n\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\tallowFilter = true;\n\t\t\t\t\t\t\tcurrUIValue.splice(\n\t\t\t\t\t\t\t\ttagsInput.UIInputIdx - 1,\n\t\t\t\t\t\t\t\t1\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\n\t\t\t\t\t//delete\n\t\t\t\t\tcase 'Delete':\n\t\t\t\t\t\tif (!tagsInput.UIInputValue) {\n\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\tallowFilter = true;\n\t\t\t\t\t\t\tcurrUIValue.splice(\n\t\t\t\t\t\t\t\ttagsInput.UIInputIdx + 1,\n\t\t\t\t\t\t\t\t1\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\n\t\t\t\tnewValue = Tags.toVal(currUIValue);\n\t\t\t\t// tagsInput._scrollToUIInput();\n\t\n\t\t\t\ttagsInput.update(\n\t\t\t\t\tnewValue,\n\t\t\t\t\tallowFilter,\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t}\n\t\n\n\tstatic handleDelete() {\n\t\treturn (e) => {\n\t\n\t\t\te.preventDefault();\n\t\n\t\t\tif (!FwComponent.isDisabled(e.target)) {\n\t\n\t\t\t\tconst tagsInput = new Tags(e.target\n\t\t\t\t\t.closest(`.${UIPrefix(COMPONENT_CLASS)}`)\n\t\t\t\t\t.querySelector(`.${COMPONENT_CLASS}`));\n\n\t\t\t\tconst tagToRemove = parseInt(e.target.getAttribute(\n\t\t\t\t\t\t'data-ui-i'\n\t\t\t\t\t));\n\n\t\t\t\tlet currValue = Tags.toArr(tagsInput.theValue);\n\n\t\t\t\tcurrValue.splice(\n\t\t\t\t\tparseInt(tagToRemove),\n\t\t\t\t\t1\n\t\t\t\t);\n\t\n\t\t\t\tconst newValue = Tags.toVal(currValue);\n\t\n\t\t\t\ttagsInput.update(\n\t\t\t\t\tnewValue,\n\t\t\t\t\ttrue,\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t}\n\t\n\n\tstatic handleEdit() {\n\t\treturn (e) => {\n\t\t\tconst triggerer = e.target;\n\t\n\t\t\te.preventDefault();\n\t\n\t\t\tif (!FwComponent.isDisabled(triggerer)) {\n\n\t\t\t\tconst tagsInput = new Tags(e.target\n\t\t\t\t\t.closest(`.${UIPrefix(COMPONENT_CLASS)}`)\n\t\t\t\t\t.querySelector(`.${COMPONENT_CLASS}`));\n\n\t\t\t\tconst tagToEdit = parseInt(e.target.getAttribute(\n\t\t\t\t\t'data-ui-i'\n\t\t\t\t));\n\n\t\t\t\tlet currValue = Tags.toArr(tagsInput.theValue,false);\n\n\t\t\t\tcurrValue.splice(\n\t\t\t\t\ttagToEdit,\n\t\t\t\t\t1,\n\t\t\t\t\tTags.__is\n\t\t\t\t);\n\t\n\t\t\t\tconst newUIValue = Tags.toVal(currValue);\n\t\n\t\t\t\ttagsInput.update(\n\t\t\t\t\tnull,\n\t\t\t\t\tfalse,\n\t\t\t\t\tnewUIValue,\n\t\t\t\t\te.target.innerText\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t}\n\t\n\n\tstatic initListeners() {\n\n\t\tFwEvent.addListener(\n\t\t\tdocument.documentElement,\n\t\t\tEVENT_CHANGE,\n\t\t\tCOMPONENT_CLASS,\n\t\t\tTags.handleChange()\n\t\t);\n\n\t\tFwEvent.addListener(\n\t\t\tdocument.documentElement,\n\t\t\tEVENT_PASTE,\n\t\t\t`.${UIPrefix(COMPONENT_CLASS)} .${UIPrefix(COMPONENT_CLASS)}-input`,\n\t\t\tTags.handleEditablePaste()\n\t\t);\n\n\t\tFwEvent.addListener(\n\t\t\tdocument.documentElement,\n\t\t\tEVENT_CLICK,\n\t\t\t`.${UIPrefix(COMPONENT_CLASS)} .${UIPrefix(COMPONENT_CLASS)}-input`,\n\t\t\tTags.handleEditableFocus()\n\t\t);\n\n\t\tFwEvent.addListener(\n\t\t\tdocument.documentElement,\n\t\t\tEVENT_BLUR,\n\t\t\t`.${UIPrefix(COMPONENT_CLASS)} .${UIPrefix(COMPONENT_CLASS)}-input`,\n\t\t\tTags.handleEditableBlur()\n\t\t);\n\n\t\tFwEvent.addListener(\n\t\t\tdocument.documentElement,\n\t\t\tEVENT_KEYDOWN,\n\t\t\t`.${UIPrefix(COMPONENT_CLASS)} .${UIPrefix(COMPONENT_CLASS)}-input`,\n\t\t\tTags.handleEditableKeydown()\n\t\t);\n\n\t\tFwEvent.addListener(\n\t\t\tdocument.documentElement,\n\t\t\tEVENT_CLICK,\n\t\t\t`.${UIPrefix(COMPONENT_CLASS)} .${UIPrefix(COMPONENT_CLASS)}-tag-close`,\n\t\t\tTags.handleDelete()\n\t\t);\n\n\t\tFwEvent.addListener(\n\t\t\tdocument.documentElement,\n\t\t\tEVENT_CLICK,\n\t\t\t`.${UIPrefix(COMPONENT_CLASS)} .${UIPrefix(COMPONENT_CLASS)}-tag-text`,\n\t\t\tTags.handleEdit()\n\t\t);\n\n\t\tInitiator.Q.on_ready = Tags.initAll;\n\t\tInitiator.Q.on_resize = Tags.initAll;\n\n\t}\n}\n\nexport default Tags;\n\nTags.initListeners();","import Calendar from './form/form-calendar.js';\nimport Tags from './form/form-tags.js';\n\nconst Form = { \n\tCalendar,\n\tTags\n}\n\nexport default Form;","import Initiator from './core/initiator.js';\nimport Settings from './core/settings.js';\n\nimport FwEvent from './data-helper/event.js';\nimport FwString from './data-helper/string.js';\n\nimport FwComponent from './classes/component.js';\nimport { UIToggled,UITriggerer } from './util/ui.js';\n\nconst NAME = 'lazy';\nconst COMPONENT_CLASS = `${FwString.ToDashed(NAME)}`;\nconst COMPONENT_CLASS_SVG = `${COMPONENT_CLASS}-svg`;\nconst ACTIVATED_CLASS = `${NAME}-loaded`;\nconst SVG_REPLACED_CLASS = `${COMPONENT_CLASS}-svg-replacement`;\nconst COMPONENT_SELECTOR = `*[data-src],*[data-srcset],.${COMPONENT_CLASS}`;\n\nconst BODY_LOADING_CLASS = `body-${NAME}-loading`;\nconst BODY_LOADED_CLASS = `body-${NAME}-loaded`;\n\nconst DATA_KEY = `${Settings.get('prefix')}.${NAME}`;\n\nconst EVENT_KEY = `.${DATA_KEY}`;\n\n\tconst EVENT_BEFORE_INIT = `before_init${EVENT_KEY}`;\n\tconst EVENT_INIT = `init${EVENT_KEY}`;\n\tconst EVENT_AFTER_INIT = `after_init${EVENT_KEY}`;\n\n\tconst EVENT_BEFORE_SVGCONVERSION = `before_svgconversion${EVENT_KEY}`;\n\tconst EVENT_SVGCONVERSION = `svgconversion${EVENT_KEY}`;\n\tconst EVENT_AFTER_SVGCONVERSION = `after_svgconversion${EVENT_KEY}`;\n\n\tconst EVENT_BEFORE_LAZYLOAD = `before_lazyload${EVENT_KEY}`;\n\tconst EVENT_LAZYLOAD = `lazyload${EVENT_KEY}`;\n\tconst EVENT_AFTER_LAZYLOAD = `after_lazyload${EVENT_KEY}`;\n\nclass Lazy extends FwComponent {\n\n\tconstructor(element){\n\t\tsuper(\n\t\t\telement,\n\t\t\t{\n\t\t\t\t_ogElement:false \n\t\t\t}\n\t\t);\n\t}\n\n\tdispose() {\n\t\tsuper.dispose();\n\t}\n\n\tstatic get DATA_KEY(){\n\t\treturn DATA_KEY;\n\t}\n\n\tget theSrc(){\n\t\treturn super.UIEl().getAttribute('data-src');\n\t}\n\n\tget theSrcSet(){\n\t\treturn super.UIEl().getAttribute('data-srcset');\n\t}\n\n\tget UIOriginal() {\n\t\treturn this._ogElement || super.UIEl();\n\t}\n\n\tset UIOriginal(elem){\n\t\tthis._ogElement = elem;\n\t}\n\n\treadyLoaded(elem){\n\t\tconst element = elem ?\n\t\t\tsuper.UIEl(elem)\n\t\t\t: super.UIEl();\n\n\t\telement.classList.add(`${ACTIVATED_CLASS}`);\n\t}\n\n\tloadSVG(elem){\n\t\tconst element = elem ?\n\t\t\tsuper.UIEl(elem)\n\t\t\t: super.UIEl();\n\n\t\tFwEvent.trigger(element,EVENT_BEFORE_SVGCONVERSION);\n\n\t\tconst imgID = element.getAttribute('id');\n\t\tconst imgClass = element.getAttribute('class');\n\n\t\tfetch(this.theSrc)\n\t\t\t.then((response) => response.text())\n\t\t\t.then((markup) => {\n\t\t\t\tFwEvent.trigger(element,EVENT_SVGCONVERSION);\n\t\t\t\tconst parser = new DOMParser();\n\t\t\t\tconst dom = parser.parseFromString(markup, 'text/html');\n\t\t\t\t\n\t\t\t\tconst svg = dom.querySelector('svg');\n\n\t\t\t\tif (svg) {\n\t\t\t\t\tif (element.hasAttribute('id')) {\n\t\t\t\t\t\tsvg.setAttribute('id', imgID);\n\t\t\t\t\t}\n\t\t\t\t\tif (element.hasAttribute('class')) {\n\t\t\t\t\t\tsvg.setAttribute(\n\t\t\t\t\t\t\t'class',\n\t\t\t\t\t\t\t`${imgClass} ${SVG_REPLACED_CLASS}`\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\n\t\t\t\t\tsvg.removeAttribute('xmlns:a');\n\t\t\t\t\tthis.UIOriginal = element;\n\t\t\t\t\tsuper._resetUIEl(svg);\n\t\t\t\t\telement.replaceWith(svg);\n\t\t\t\t}\n\t\t\t\tthis.readyLoaded();\n\n\t\t\t\tFwEvent.trigger(element,EVENT_AFTER_SVGCONVERSION);\n\t\t\t});\n\t}\n\n\tload(elem){\n\t\tconst element = elem ?\n\t\t\tsuper.UIEl(elem)\n\t\t\t: super.UIEl();\n\n\t\t\tif(!element){\n\t\t\t\treturn\n\t\t\t}\n\n\t\t\tFwEvent.trigger(element,EVENT_BEFORE_LAZYLOAD);\n\n\n\t\t\tif(element.classList.contains(`${COMPONENT_CLASS}`)){\n\t\t\t\tFwEvent.trigger(element,EVENT_LAZYLOAD);\n\t\t\t\tif (element.matches('img') || element.closest('picture')) {\n\t\t\t\t\t\n\t\t\t\t\tthis.theSrc && element.setAttribute('src', this.theSrc);\n\t\t\t\t\tthis.theSrcSet && element.setAttribute('srcset', this.theSrcSet);\n\n\t\t\t\t\tif(\n\t\t\t\t\t\t(\n\t\t\t\t\t\t\tthis.theSrc\n\t\t\t\t\t\t\t|| this.theSrcSet\n\t\t\t\t\t\t)\n\t\t\t\t\t\t&& FwString.GetFileExtension(this.theSrc) == 'svg'\n\t\t\t\t\t\t&& element.classList.contains(COMPONENT_CLASS_SVG)\n\t\t\t\t\t){\n\t\t\t\t\t\tthis.loadSVG();\n\t\t\t\t\t}else{\n\t\t\t\t\t\tthis.readyLoaded();\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\t\t\t\t\telement.style.backgroundImage = `url(${this.theSrc})`;\n\t\t\t\t\tthis.readyLoaded();\n\t\t\t\t}\n\n\t\t\t\tFwEvent.trigger(element,EVENT_AFTER_LAZYLOAD);\n\t\t\t}\n\n\t}\n\n\tstatic setStatus(status) {\n\t\tstatus = status || 'loaded';\n\n\t\tlet addClass,removeClass;\n\n\t\tswitch(status){\n\t\t\tcase 'loading':\n\t\t\t\taddClass = BODY_LOADING_CLASS;\n\t\t\t\tremoveClass = BODY_LOADED_CLASS;\n\t\t\t\tbreak;\n\t\t\tcase 'loaded':\n\t\t\t\taddClass = BODY_LOADED_CLASS;\n\t\t\t\tremoveClass = BODY_LOADING_CLASS;\n\t\t\t\tbreak;\n\t\t}\n\t\t\n\t\tdocument.body.\n\t\t\tclassList.remove(removeClass);\n\t\tdocument.body.\n\t\t\tclassList.add(addClass);\n\t}\n\n\tstatic loadAll(images){\n\t\t\n\t\tFwEvent.trigger(document.documentElement,EVENT_BEFORE_INIT);\n\t\t\n\t\tFwEvent.trigger(document.documentElement,EVENT_INIT);\n\n\t\tLazy.setStatus('loading');\n\t\timages = images || document.querySelectorAll(COMPONENT_SELECTOR);\n\n\t\timages.forEach((img) => {\n\t\t\tconst lazy = new Lazy(img);\n\t\t\tlazy.load();\n\t\t});\n\t\n\t\tLazy.setStatus('loaded');\n\n\t\tFwEvent.trigger(document.documentElement,EVENT_AFTER_INIT);\n\t}\n\t\n\n\tstatic initListeners(){\n\t\tif(Settings.get('lazyLoad') ){\n\t\t\tInitiator.Q.on_ready = Lazy.loadAll;\n\t\t}\n\t}\n}\n\n\nexport default Lazy;\n\nLazy.initListeners();","import Settings from './core/settings.js';\n\nimport FwEvent from './data-helper/event.js';\nimport FwString from './data-helper/string.js';\nimport FwDom from './data-helper/dom.js';\n\nimport FwComponent from './classes/component.js';\nimport { UIToggleGroup } from './util/ui.js';\n\n\nconst NAME = 'listGroup';\nconst COMPONENT_CLASS = `${FwString.ToDashed(NAME)}-toggle`; //coz toggling shit only work when this class is heeerr\n\nconst CHILD_CLASS = `${FwString.ToDashed(NAME)}-item`;\nconst COMPONENT_TOGGLEGROUP_PREFIX = `list`;\n\nconst DATA_KEY = `${Settings.get('prefix')}.${NAME}`;\n\nconst EVENT_KEY = `.${DATA_KEY}`;\nconst EVENT_CLICK = `click${EVENT_KEY}`;\n\n\tconst EVENT_BEFORE_TOGGLE = `before_toggle${EVENT_KEY}`;\n\tconst EVENT_TOGGLE = `toggle${EVENT_KEY}`;\n\tconst EVENT_AFTER_TOGGLE = `after_toggle${EVENT_KEY}`;\n\n\nclass ListGroup extends FwComponent {\n\n\tconstructor(element,triggeredChild){\n\t\telement = element || false;\n\t\tsuper(\n\t\t\telement,\n\t\t\t{\n\t\t\t\t_triggeredChild:(\n\t\t\t\t\ttriggeredChild\n\t\t\t\t\t\t? new FwDom(triggeredChild)\n\t\t\t\t\t: false\n\t\t\t\t)\n\t\t\t}\n\t\t);\n\t}\n\n\tstatic get DATA_KEY(){\n\t\treturn DATA_KEY;\n\t}\n\n\tget UITriggeredChild(){\n\t\treturn this._triggeredChild\n\t}\n\t\n\tset UITriggeredChild(triggd){\n\t\tif(FwDom.isDescendant(super.UIEl(),triggd)){\n\t\t\tthis._triggeredChild = triggd;\n\t\t}\n\t}\n\n\ttoggle(triggd){\n\t\tconst triggeredChild = triggd ?\n\t\t\ttriggd\n\t\t\t: this.UITriggeredChild;\n\n\t\tthis.UITriggeredChild = triggeredChild;\n\n\t\tif(!triggeredChild || !FwDom.isDescendant(super.UIEl(),triggeredChild)){\n\t\t\treturn;\n\t\t}\n\n\t\tFwEvent.trigger(this.UITriggeredChild,EVENT_BEFORE_TOGGLE);\n\t\tFwEvent.trigger(this.UITriggeredChild,EVENT_TOGGLE);\n\t\tUIToggleGroup(\n\t\t\tthis.UITriggeredChild,\n\t\t\t`${COMPONENT_TOGGLEGROUP_PREFIX}`,\n\t\t\tnull,\n\t\t\t`li, .${CHILD_CLASS}`\n\t\t);\n\t\tFwEvent.trigger(this.UITriggeredChild,EVENT_AFTER_TOGGLE);\n\t}\n\n\n\tstatic handleToggle() {\n\t\treturn (e) => {\n\t\n\t\t\te.preventDefault();\n\t\n\t\t\tif (!FwComponent.isDisabled(e.target)) {\n\t\t\t\t\n\t\t\t\tconst listGroup = new ListGroup(\n\t\t\t\t\te.target.parentNode.closest(`.${COMPONENT_CLASS}`)\n\t\t\t\t);\n\t\t\t\tlistGroup.toggle(e.target);\n\t\t\t}\n\t\t}\n\t}\n\n\tstatic initListeners(){\n\t\t\n\t\tFwEvent.addListener(\n\t\t\tdocument.documentElement,\n\t\t\tEVENT_CLICK,\n\t\t\t`.${COMPONENT_CLASS} > .${CHILD_CLASS}, .${COMPONENT_CLASS} > li`,\t\n\t\t\tListGroup.handleToggle()\n\t\t);\n\t}\n}\n\n\n\nexport default ListGroup;\n\nListGroup.initListeners();\n","import Initiator from './core/initiator.js';\nimport Settings from './core/settings.js';\n\nimport FwEvent from './data-helper/event.js';\nimport FwString from './data-helper/string.js';\nimport FwDom from './data-helper/dom.js';\n\nimport FwComponent from './classes/component.js';\nimport { UIPrefix,UIToggled,UIBodyClass,UIChangeHash } from './util/ui.js';\n\nconst NAME = 'modal';\nconst COMPONENT_CLASS = `${FwString.ToDashed(NAME)}`;\nconst ACTIVATED_CLASS = `active`;\n\nconst ARG_ATTRIBUTE_NAME = `${NAME}`;\nconst TOGGLE_MODE_PREFIX = `${NAME}`;\n\nconst DEFAULT_NAME = `default`;\nconst BOARD_NAME = `board`;\n\nconst DATA_KEY = `${Settings.get('prefix')}.${NAME}`;\n\nconst EVENT_KEY = `.${DATA_KEY}`;\nconst EVENT_CLICK = `click${EVENT_KEY}`;\nconst EVENT_HASHCHANGE = `hashchange${EVENT_KEY}`;\n\n\tconst EVENT_BEFORE_CREATE = `before_create${EVENT_KEY}`;\n\tconst EVENT_CREATE = `create${EVENT_KEY}`;\n\tconst EVENT_AFTER_CREATE = `after_create${EVENT_KEY}`;\n\n\tconst EVENT_BEFORE_DESTROY = `before_destroy${EVENT_KEY}`;\n\tconst EVENT_DESTROY = `destroy${EVENT_KEY}`;\n\tconst EVENT_AFTER_DESTROY = `after_destroy${EVENT_KEY}`;\n\n\tconst EVENT_BEFORE_UPDATE = `before_update${EVENT_KEY}`;\n\tconst EVENT_UPDATE = `update${EVENT_KEY}`;\n\tconst EVENT_AFTER_UPDATE = `after_update${EVENT_KEY}`;\n\n\tconst EVENT_BEFORE_RESIZE = `before_resize${EVENT_KEY}`;\n\tconst EVENT_RESIZE = `resize${EVENT_KEY}`;\n\tconst EVENT_AFTER_RESIZE = `after_resize${EVENT_KEY}`;\n\n\nconst CURRENT_MODAL_INSTANCE = {}\n\nconst VALID_MODAL_MODES = [\n\tBOARD_NAME,\n\tDEFAULT_NAME // default's just named after the component istels fo im not confusion also make it last\n];\n\n\nVALID_MODAL_MODES.forEach(mode=>{\n\tCURRENT_MODAL_INSTANCE[mode] = {\n\t\telement:false,\n\t\targs:false\n\t};\n})\n\nclass Modal extends FwComponent {\n\t\n\tconstructor(element,triggerer,args){\n\t\t//4 on init by hash\n\n\n\t\telement = element || false;\n\t\targs = args || false;\n\n\t\t//get currMode\n\t\tlet currMode = false;\n\n\t\t//look by triggerer first\n\t\tif(triggerer && !element){\n\t\t\t//look for subcom\n\t\t\tVALID_MODAL_MODES.forEach((mode)=>{\n\t\t\t\tif(\n\t\t\t\t\t(\n\t\t\t\t\t\ttriggerer.hasAttribute(`data-toggle-${Modal.#modeToggle(mode)}`)\n\t\t\t\t\t\t|| triggerer.hasAttribute(`data-toggle-${Modal.#modeToggle(mode)}-open`)\n\t\t\t\t\t\t|| triggerer.hasAttribute(`data-toggle-${Modal.#modeToggle(mode)}-close`)\n\t\t\t\t\t)\n\t\t\t\t\t&& !currMode\n\t\t\t\t){\n\t\t\t\t\tcurrMode = mode;\n\t\t\t\t}\n\t\t\t});\n\t\t}else if(element){\n\t\t\t//look for subcom\n\t\t\tVALID_MODAL_MODES.forEach((mode)=>{\n\t\t\t\tif(element.classList.contains(`${COMPONENT_CLASS}-${mode}`) && !currMode){\n\t\t\t\t\tcurrMode = mode;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t//ok default probable\n\t\t\tif(element.classList.contains(COMPONENT_CLASS) && !currMode){\n\t\t\t\tcurrMode = DEFAULT_NAME;\n\t\t\t}\n\t\t}\n\n\t\t//kill if not a valid bode boi\n\t\tif(!currMode){\n\t\t\telement = false;\n\t\t}else{\n\t\t\tif(currMode && !element){\n\t\t\t\telement = Modal.current(currMode).element;\n\t\t\t}\n\t\t}\n\n\n\t\tsuper(\n\t\t\telement,\n\t\t\t{\n\t\t\t\ttriggerer:(\n\t\t\t\t\ttriggerer\n\t\t\t\t\t\t? new FwDom(triggerer)\n\t\t\t\t\t: false\n\t\t\t\t),\n\t\t\t\t_customArgs: args\n\t\t\t\t\t|| false,\n\t\t\t\t_mode: currMode,\n\t\t\t}\n\t\t);\n\t}\n\n\tdispose() {\n\t\tsuper.dispose();\n\t\tthis.triggerer = null;\n\t\tthis._customArgs = null;\n\t}\n\n\tstatic current(mode) {\n\t\treturn mode ? CURRENT_MODAL_INSTANCE[mode] : CURRENT_MODAL_INSTANCE;\n\t}\n\n\tget #current(){\n\t\treturn CURRENT_MODAL_INSTANCE[this.mode];\n\t}\n\n\tset #current(obj){\n\t\tCURRENT_MODAL_INSTANCE[this.mode].element = obj.element;\n\t\tCURRENT_MODAL_INSTANCE[this.mode].args = obj.args;\n\t}\n\n\tget mode(){\n\t\treturn this._mode;\n\n\t}\n\n\tget UIId (){\n\t\treturn `${Settings.get('prefix')}-${NAME}-${this.mode}`\n\t}\n\n\tget UIContentBlock() {\n\t\treturn this.UIRoot.querySelector(`.${UIPrefix(COMPONENT_CLASS)}-popup-content`)\n\t}\n\n\tget UIRoot () {\n\t\treturn document.getElementById(this.UIId);\n\t}\n\tget UIElId (){\n\t\treturn super.UIEl().getAttribute('id');\n\t}\n\n\tstatic #modeToggle(mode){\n\t\tif(!mode || mode == DEFAULT_NAME){\n\t\t\treturn TOGGLE_MODE_PREFIX;\n\t\t}else{\n\t\t\treturn FwString.ToCamelCase(`${TOGGLE_MODE_PREFIX}-${mode}`);\n\t\t}\n\t}\n\n\tget modeToggle(){\n\t\treturn Modal.#modeToggle(this.mode);\n\t}\n\n\tstatic #modeClass(mode){\n\t\treturn FwString.ToDashed(`${TOGGLE_MODE_PREFIX}-${mode}`);\n\t}\n\n\tget modeClass(){\n\t\treturn Modal.#modeClass(this.mode);\n\t}\n\n\tstatic get configDefaults(){\n\t\tconst mode = this.mode;\n\t\treturn {\n\t\t\t\n\t\t\tchangeHash: true,\n\t\t\theader: '',\n\t\t\tclose: true,\n\t\t\tdisableOverlay: true,\n\t\t\twidth: null,\n\t\t\tcallback: null,\n\t\t\tclasses: '',\n\t\t\tcloseClasses: '',\n\t\t\t\n\t\t\t\n\t\t\talign: {\n\t\t\t\tvalue:'left',\n\t\t\t\tparser: (value)=>{\n\t\t\t\t\tif(mode == BOARD_NAME) return value;\n\t\t\t\t}\n\t\t\t},\n\t\t\tresizeClasses: {\n\t\t\t\tvalue:null,\n\t\t\t\tparser: (value)=>{\n\t\t\t\t\tif(mode == BOARD_NAME) return value;\n\t\t\t\t}\n\t\t\t},\n\t\t\tresize: {\n\t\t\t\tvalue:false,\n\t\t\t\tparser: (value)=>{\n\t\t\t\t\tif(mode == BOARD_NAME) return value;\n\t\t\t\t}\n\t\t\t},\n\t\t}\n\t}\n\n\tget args () {\n\t\t\n\t\treturn FwComponent._parseArgs(\n\t\t\t(this._customArgs\n\t\t\t\t? this._customArgs\n\t\t\t\t: {\n\t\t\t\t\tchangeHash:\n\t\t\t\t\t\t(\n\t\t\t\t\t\t\tthis.triggerer\n\t\t\t\t\t\t\t&& this.triggerer.getAttribute(`data-${ARG_ATTRIBUTE_NAME}-change-hash`)\n\t\t\t\t\t\t)\n\t\t\t\t\t\t|| super.UIEl().getAttribute(`data-${ARG_ATTRIBUTE_NAME}-change-hash`),\n\t\t\t\t\theader:\n\t\t\t\t\t\t(\n\t\t\t\t\t\t\tthis.triggerer\n\t\t\t\t\t\t\t&& this.triggerer.getAttribute(`data-${ARG_ATTRIBUTE_NAME}-title`)\n\t\t\t\t\t\t)\n\t\t\t\t\t\t|| super.UIEl().getAttribute(`data-${ARG_ATTRIBUTE_NAME}-title`),\n\t\t\t\t\tdisableOverlay:\n\t\t\t\t\t\t(\n\t\t\t\t\t\t\tthis.triggerer\n\t\t\t\t\t\t\t&& this.triggerer.getAttribute(`data-${ARG_ATTRIBUTE_NAME}-disable-overlay`)\n\t\t\t\t\t\t)\n\t\t\t\t\t\t|| super.UIEl().getAttribute(`data-${ARG_ATTRIBUTE_NAME}-disable-overlay`),\n\t\t\t\t\twidth:\n\t\t\t\t\t\t(\n\t\t\t\t\t\t\tthis.triggerer\n\t\t\t\t\t\t\t&& this.triggerer.getAttribute(`data-${ARG_ATTRIBUTE_NAME}-width`)\n\t\t\t\t\t\t)\n\t\t\t\t\t\t|| super.UIEl().getAttribute(`data-${ARG_ATTRIBUTE_NAME}-width`),\n\t\t\t\t\tcallback:\n\t\t\t\t\t\t(\n\t\t\t\t\t\t\tthis.triggerer\n\t\t\t\t\t\t\t&& this.triggerer.getAttribute(`data-${ARG_ATTRIBUTE_NAME}-callback`)\n\t\t\t\t\t\t)\n\t\t\t\t\t\t|| super.UIEl().getAttribute(`data-${ARG_ATTRIBUTE_NAME}-callback`),\n\t\t\t\t\tclasses:\n\t\t\t\t\t\t(\n\t\t\t\t\t\t\tthis.triggerer\n\t\t\t\t\t\t\t&& this.triggerer.getAttribute(`data-${ARG_ATTRIBUTE_NAME}-classes`)\n\t\t\t\t\t\t)\n\t\t\t\t\t\t|| super.UIEl().getAttribute(`data-${ARG_ATTRIBUTE_NAME}-classes`),\n\t\t\t\t\tclose:\n\t\t\t\t\t\t(\n\t\t\t\t\t\t\tthis.triggerer\n\t\t\t\t\t\t\t&& this.triggerer.getAttribute(`data-${ARG_ATTRIBUTE_NAME}-close`)\n\t\t\t\t\t\t)\n\t\t\t\t\t\t|| super.UIEl().getAttribute(`data-${ARG_ATTRIBUTE_NAME}-close`),\n\t\t\t\t\tcloseClasses:\n\t\t\t\t\t\t(\n\t\t\t\t\t\t\tthis.triggerer\n\t\t\t\t\t\t\t&& this.triggerer.getAttribute(`data-${ARG_ATTRIBUTE_NAME}-close-classes`)\n\t\t\t\t\t\t)\n\t\t\t\t\t\t|| super.UIEl().getAttribute(`data-${ARG_ATTRIBUTE_NAME}-close-classes`),\n\t\t\t\t\tfullscreen: //@TODO program this pityur\n\t\t\t\t\t\t(\n\t\t\t\t\t\t\tthis.triggerer\n\t\t\t\t\t\t\t&& this.triggerer.getAttribute(`data-${ARG_ATTRIBUTE_NAME}-fullscreen`)\n\t\t\t\t\t\t)\n\t\t\t\t\t\t|| super.UIEl().getAttribute(`data-${ARG_ATTRIBUTE_NAME}-fullscreen`),\n\t\t\t\t\tfullscreenClasses:\n\t\t\t\t\t\t(\n\t\t\t\t\t\t\tthis.triggerer\n\t\t\t\t\t\t\t&& this.triggerer.getAttribute(`data-${ARG_ATTRIBUTE_NAME}-fullscreen-classes`)\n\t\t\t\t\t\t)\n\t\t\t\t\t\t|| super.UIEl().getAttribute(`data-${ARG_ATTRIBUTE_NAME}-fullscreen-classes`),\n\n\t\t\t\t\t//board specific\n\t\t\t\t\t\talign:\n\t\t\t\t\t\t\t(\n\t\t\t\t\t\t\t\tthis.triggerer\n\t\t\t\t\t\t\t\t&& this.triggerer.getAttribute(`data-${ARG_ATTRIBUTE_NAME}-align`)\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t|| super.UIEl().getAttribute(`data-${ARG_ATTRIBUTE_NAME}-align`),\n\t\t\t\t\t\tresize:\n\t\t\t\t\t\t\t(\n\t\t\t\t\t\t\t\tthis.triggerer\n\t\t\t\t\t\t\t\t&& this.triggerer.getAttribute(`data-${ARG_ATTRIBUTE_NAME}-resize`)\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t|| super.UIEl().getAttribute(`data-${ARG_ATTRIBUTE_NAME}-resize`),\n\t\t\t\t\t\t\n\t\t\t\t\t\tresizeClasses:\n\t\t\t\t\t\t\t(\n\t\t\t\t\t\t\t\tthis.triggerer\n\t\t\t\t\t\t\t\t&& this.triggerer.getAttribute(`data-${ARG_ATTRIBUTE_NAME}-resize-classes`)\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t|| super.UIEl().getAttribute(`data-${ARG_ATTRIBUTE_NAME}-resize-classes`),\n\n\t\t\t\t\t//custom specific\n\t\t\t\t\t\t// customMarkup: //halat weit\n\t\t\t\t}\n\t\t\t),\n\t\t\tModal.configDefaults\n\t\t);\n\t}\n\n\tstatic get DATA_KEY(){\n\t\treturn DATA_KEY;\n\t}\n\n\tcreate(elem){\n\t\tconst element = elem ?\n\t\t\tsuper.UIEl(elem)\n\t\t\t: super.UIEl();\n\n\t\tif(!element){\n\t\t\treturn;\n\t\t}\n\n\t\tFwEvent.trigger(element,EVENT_BEFORE_CREATE);\n\t\t\n\t\tif(element || !window.location.hash){\n\t\t\tthis.destroy();\n\t\t}\n\n\t\tFwEvent.trigger(element,EVENT_CREATE);\n\t\n\t\tconst id = this.UIElId || this.UIId;\n\n\t\tid !== `${this.UIId}` && this.args.changeHash && UIChangeHash(id);\n\n\n\t\tconst theUI = document.createElement('div');\n\t\tdocument.querySelector('body').appendChild(theUI);\n\t\ttheUI.className = `${UIPrefix(COMPONENT_CLASS)}  ${UIPrefix(COMPONENT_CLASS)}-mode-${this.mode} ${UIPrefix(COMPONENT_CLASS)}-component\n\t\t\t${this.args.align ? `${UIPrefix(COMPONENT_CLASS)}-align-${this.args.align}` : ''}\n\t\t\t${this.args.classes}`;\n\t\ttheUI.setAttribute('id', this.UIId);\n\n\t\ttheUI.innerHTML = this._markup;\n\n\n\t\tFwDom.moveContents(\n\t\t\telement,\n\t\t\tthis.UIContentBlock\n\t\t);\n\n\t\tthis.#current = {\n\t\t\telement: element,\n\t\t\targs: this.args\n\t\t\t\n\t\t}\n\n\t\tif (this.args.width) {\n\t\t\tthis.resize();\n\t\t}\n\n\t\tthis.update();\n\t\t\n\t\tif (this.args.callback) {\n\t\t\tthis._runFn(this.args.callback);\n\t\t}\n\n\t\ttheUI.classList.add(ACTIVATED_CLASS);\n\t\tdocument.body.classList.add(UIBodyClass.noScroll);\n\n\t\tFwEvent.trigger(element,EVENT_AFTER_CREATE);\n\t}\n\n\tdestroy(elem){\n\t\tif(!this.#current.element){\n\t\t\treturn;\n\t\t}\n\n\t\t// const element = elem ?\n\t\t// \tsuper.UIEl(elem)\n\t\t// \t: super.UIEl();\n\n\t\t// if(!element && this.mode){\n\t\t// \telement = Modal.current(this.mode).element;\n\t\t// }else if(!element && !this.mode){\n\t\t// \treturn\n\t\t// }\n\n\t\t// if(!this.#current.element){\n\t\t// \treturn;\n\t\t// }\n\t\t\n\n\t\tFwEvent.trigger(this.#current.element,EVENT_BEFORE_DESTROY);\n\t\tFwEvent.trigger(this.#current.element,EVENT_DESTROY);\n\t\t// removeHash = removeHash || false;\n\n\t\tlet canRemoveHash = false;\n\t\n\t\tif (\n\t\t\tthis.#current.element.hasAttribute('id')\n\t\t\t&& this.#current.element.getAttribute('id') == window.location.hash.replace('#','')\n\t\t) {\n\t\t\tcanRemoveHash = true;\n\t\t}\n\t\n\t\tif (this.UIRoot) {\n\t\t\tFwDom.moveContents(\n\t\t\t\tthis.UIContentBlock,\n\t\t\t\tthis.#current.element\n\t\t\t);\n\t\n\t\t\tthis.UIRoot.classList.remove('active');\n\t\t\tthis.UIRoot.parentNode.removeChild(this.UIRoot);\n\t\t}\n\t\n\t\t\n\t\n\t\tlet removeBodClass = true;\n\t\tif(\n\t\t\tdocument.getElementById(this.UIId)\n\t\t\t&& removeBodClass == true\n\t\t){\n\t\t\tremoveBodClass = false;\n\t\t}\n\t\n\t\tremoveBodClass && document.body.classList.remove(UIBodyClass.noScroll);\n\t\n\t\tcanRemoveHash && UIChangeHash('');\n\t\n\t\tFwEvent.trigger(this.#current.element,EVENT_AFTER_DESTROY);\n\n\t\tthis.#current = {\n\t\t\telement: false,\n\t\t\targs: false\n\t\t}\n\t}\n\n\tupdate(){\n\n\t\tconst element = this.element;\n\t\n\t\tif(!element) {\n\t\t\treturn\n\t\t}\n\t\n\t\tFwEvent.trigger(element,EVENT_BEFORE_UPDATE);\n\t\tFwEvent.trigger(element,EVENT_UPDATE);\n\n\t\t// buttons\n\t\t\t// resize\n\t\t\t\tconst currentWidth = this.UIRoot\n\t\t\t\t\t.querySelector(`.${UIPrefix(COMPONENT_CLASS)}-popup`).clientWidth;\n\t\t\t\t\t\n\t\t\t\tconst resizeBtn = this.UIRoot\n\t\t\t\t\t.querySelectorAll(`*[data-toggle-${this.modeToggle}-resize]`);\n\n\t\t\t\tif(resizeBtn && currentWidth < parseInt(this.args.width)){\n\t\t\t\t\tresizeBtn.forEach((butt) => {\n\t\t\t\t\t\tbutt.classList.add('disabled');\n\t\t\t\t\t});\n\t\t\t\t}else{\n\t\t\t\t\tresizeBtn.forEach((butt) => {\n\t\t\t\t\t\tbutt.classList.remove('disabled');\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\tFwEvent.trigger(element,EVENT_AFTER_UPDATE);\n\t}\n\n\tresize(width){\n\n\t\n\t\tif(!this.#current) {\n\t\t\treturn\n\t\t}\n\n\t\tconst args = args || this.args || this.#current.args || {};\n\t\twidth = width || args.width || null;\n\n\t\tif(this.UIRoot && parseInt(width) >= parseInt(args.width)){\n\n\t\t\tFwEvent.trigger(this.#current.element,EVENT_BEFORE_RESIZE);\n\t\t\tFwEvent.trigger(this.#current.element,EVENT_RESIZE);\n\n\t\t\t//all\n\t\t\tif(this.UIRoot.querySelector(`.${UIPrefix(COMPONENT_CLASS)}-popup`)){\n\t\t\t\tthis.UIRoot.\n\t\t\t\t\tquerySelector(`.${UIPrefix(COMPONENT_CLASS)}-popup`)\n\t\t\t\t\t\t.style.width = width;\n\t\t\t}\n\n\t\t\t//bboard\n\t\t\tif(this.UIRoot.querySelector(`.${UIPrefix(COMPONENT_CLASS)}-button-wrapper`)){\n\t\t\t\tthis.UIRoot.\n\t\t\t\t\tquerySelector(`.${UIPrefix(COMPONENT_CLASS)}-button-wrapper`)\n\t\t\t\t\t\t.style.width = width;\n\t\t\t}\n\n\t\t\tFwEvent.trigger(this.#current.element,EVENT_AFTER_RESIZE);\n\t\t}\n\t}\n\t\n\tget _markup(){\n\t\tlet html =\n\t\t\t`<div\n\t\t\t\tclass=\"\n\t\t\t\t\t${UIPrefix(COMPONENT_CLASS)}-wrapper\"\n\t\t\t>`;\n\t\n\t\t\t\t//overlay\n\t\t\t\thtml += `<a href=\"#\"\n\t\t\t\t\t\tclass=\"\n\t\t\t\t\t\t\t${UIPrefix(COMPONENT_CLASS)}-close-overlay\"\n\t\t\t\t\t\t\t${\n\t\t\t\t\t\t\t\tthis.args.disableOverlay == false\n\t\t\t\t\t\t\t\t? `data-toggle-${this.modeToggle}-close`\n\t\t\t\t\t\t\t\t: ''\n\t\t\t\t\t\t\t}\n\t\t\t\t\t></a>`;\n\t\n\t\t\t\t\tswitch (this.mode) {\n\t\t\t\t\t\tcase 'board':\n\t\t\t\t\t\t\thtml += `<div class=\"${UIPrefix(COMPONENT_CLASS)}-button-wrapper\">`;\n\t\t\t\t\t\t\t\tif (this.args.close !== false) {\n\t\t\t\t\t\t\t\t\thtml += `<a href=\"#\"\n\t\t\t\t\t\t\t\t\t\tclass=\"\n\t\t\t\t\t\t\t\t\t\t\t${UIPrefix(COMPONENT_CLASS)}-close ${UIPrefix(COMPONENT_CLASS)}-button\n\t\t\t\t\t\t\t\t\t\t\t${\n\t\t\t\t\t\t\t\t\t\t\t\tthis.args.closeClasses\n\t\t\t\t\t\t\t\t\t\t\t\t? this.args.closeClasses\n\t\t\t\t\t\t\t\t\t\t\t\t: `${UIPrefix(COMPONENT_CLASS)}-button-default`}\"\n\t\t\t\t\t\t\t\t\t\tdata-toggle-${ this.modeToggle }-close\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<i class=\"symbol symbol-close \"></i>\n\t\t\t\t\t\t\t\t\t</a>`;\n\t\t\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\t\t\tif (this.args.resize !== false && this.args.width) {\n\t\t\t\t\t\t\t\t\thtml += `<a\n\t\t\t\t\t\t\t\t\t\tclass=\"\n\t\t\t\t\t\t\t\t\t\t\t${UIPrefix(COMPONENT_CLASS)}-resize ${UIPrefix(COMPONENT_CLASS)}-button\n\t\t\t\t\t\t\t\t\t\t\t${\n\t\t\t\t\t\t\t\t\t\t\t\tthis.args.resizeClasses\n\t\t\t\t\t\t\t\t\t\t\t\t? this.args.resizeClasses\n\t\t\t\t\t\t\t\t\t\t\t\t: `${UIPrefix(COMPONENT_CLASS)}-button-default`}\"\n\t\t\t\t\t\t\t\t\t\tdata-toggle-${this.modeToggle}-resize\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<i class=\"symbol symbol-arrow-tail-left \"></i>\n\t\t\t\t\t\t\t\t\t\t<i class=\"symbol symbol-arrow-tail-right \"></i>\n\t\t\t\t\t\t\t\t\t</a>`;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\thtml += `</div>`;\n\t\n\t\t\t\t\t\t\thtml += `<div class=\"${UIPrefix(COMPONENT_CLASS)}-popup\">`;\n\t\n\t\t\t\t\t\t\t\tif (this.args.header) {\n\t\t\t\t\t\t\t\t\thtml += `<div class=\"${UIPrefix(COMPONENT_CLASS)}-header\">\n\t\t\t\t\t\t\t\t\t\t\t<h1 class=\"${UIPrefix(COMPONENT_CLASS)}-title\">${decodeURIComponent(this.args.header)}</h1>\n\t\t\t\t\t\t\t\t\t\t</div>`;\n\t\t\t\t\t\t\t\t}\n\t\n\t\t\t\t\t\t\t\thtml += `<div class=\"${UIPrefix(COMPONENT_CLASS)}-popup-content\"></div>`;\n\t\n\t\t\t\t\t\t\thtml += `</div>`;\n\t\n\t\t\t\t\t\t\tbreak;\n\t\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\thtml += `<div class=\"${UIPrefix(COMPONENT_CLASS)}-popup\">`;\n\t\n\t\t\t\t\t\t\t\tif (this.args.header) {\n\t\t\t\t\t\t\t\t\thtml += `<div class=\"${UIPrefix(COMPONENT_CLASS)}-header\">\n\t\t\t\t\t\t\t\t\t\t\t<h1 class=\"${UIPrefix(COMPONENT_CLASS)}-title\">${decodeURIComponent(this.args.header)}</h1>\n\t\t\t\t\t\t\t\t\t\t</div>`;\n\t\t\t\t\t\t\t\t}\n\t\t\n\t\t\t\t\t\t\t\tif (this.args.close !== false) {\n\t\t\t\t\t\t\t\t\thtml += `<a href=\"#\"\n\t\t\t\t\t\t\t\t\t\t\tclass=\"${UIPrefix(COMPONENT_CLASS)}-close ${this.args.closeClasses}\"\n\t\t\t\t\t\t\t\t\t\t\tdata-toggle-${this.modeToggle}-close\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<i class=\"symbol symbol-close\"></i>\n\t\t\t\t\t\t\t\t\t\t</a>`;\n\t\t\t\t\t\t\t\t}\n\t\t\n\t\t\t\t\t\t\t\thtml += `<div class=\"${UIPrefix(COMPONENT_CLASS)}-popup-content\"></div>`;\n\t\t\n\t\t\t\t\t\t\thtml += `</div>`;\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\thtml += '</div>';\n\n\t\treturn html;\n\n\t}\n\t\n\n\tstatic handleResize(mode) {\n\t\treturn (e) => {\n\t\t\tVALID_MODAL_MODES.forEach(mode=>{\n\t\t\t\tconst modal = new Modal(\n\t\t\t\t\tModal.current(mode).element,\n\t\t\t\t\tnull,\n\t\t\t\t\tModal.current(mode).args\n\t\t\t\t);\n\t\t\t\tmodal.resize();\n\t\t\t\tmodal.update();\n\t\t\t});\t\n\t\t}\n\t\t\n\t}\n\t\n\n\tstatic handleUniversal() {\n\t\treturn () => {\n\t\t\tif(Settings.get('initializeModal')){\n\n\t\t\t\tVALID_MODAL_MODES.forEach(mode=>{\n\t\t\t\t\tconst modal = new Modal(\n\t\t\t\t\t\tUIToggled(\n\t\t\t\t\t\t\tModal.#modeToggle(mode),\n\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\t`.${COMPONENT_CLASS}.${Modal.#modeClass(mode)}`\n\t\t\t\t\t\t)\n\t\t\t\t\t);\n\t\t\t\t\tmodal.create();\n\t\t\t\t});\t\t\t\t\n\n\t\t\t};\n\t\t}\n\t\t\n\t}\n\t\n\n\tstatic handleOpen(mode) {\n\t\treturn (e) => {\n\n\t\t\te.preventDefault();\n\n\t\t\tif (!FwComponent.isDisabled(e.target)) {\n\t\t\t\tconst modal = new Modal(\n\t\t\t\t\tUIToggled(\n\t\t\t\t\t\tModal.#modeToggle(mode),\n\t\t\t\t\t\te.target,\n\t\t\t\t\t\t`.${COMPONENT_CLASS}.${Modal.#modeClass(mode)}`\n\t\t\t\t\t),\n\t\t\t\t\te.target,\n\t\t\t\t);\n\t\t\t\tmodal.create();\n\t\t\t}\n\t\t}\n\t}\n\t\n\n\tstatic handleClose(mode) {\n\t\treturn (e) => {\n\n\t\t\te.preventDefault();\n\n\t\t\tif (!FwComponent.isDisabled(e.target)) {\n\t\t\t\tconst modal = new Modal(\n\t\t\t\t\tUIToggled(\n\t\t\t\t\t\tModal.#modeToggle(mode),\n\t\t\t\t\t\te.target,\n\t\t\t\t\t\t`.${COMPONENT_CLASS}.${Modal.#modeClass(mode)}`\n\t\t\t\t\t),\n\t\t\t\t\te.target,\n\t\t\t\t);\n\t\t\t\tmodal.destroy();\n\t\t\t}\n\t\t}\n\t}\n\t\n\n\tstatic initListeners() {\n\t\tVALID_MODAL_MODES.forEach(mode=>{\n\t\t\tconst modeToggle = Modal.#modeToggle(mode);\n\t\t\n\t\t\tFwEvent.addListener(\n\t\t\t\tdocument.documentElement,\n\t\t\t\tEVENT_CLICK,\n\t\t\t\t`*[data-toggle-${modeToggle}], *[data-toggle-${modeToggle}-open]`,\n\t\t\t\tModal.handleOpen(mode)\n\t\t\t);\n\t\t\t\n\t\t\tFwEvent.addListener(\n\t\t\t\tdocument.documentElement,\n\t\t\t\tEVENT_CLICK,\n\t\t\t\t`*[data-toggle-${modeToggle}-close]`,\n\t\t\t\tModal.handleClose(mode)\n\t\t\t);\n\t\t});\n\t\t\n\n\t\tFwEvent.addListener(\n\t\t\tnull,\n\t\t\tEVENT_HASHCHANGE,\n\t\t\twindow,\n\t\t\tModal.handleUniversal()\n\t\t);\n\n\t\tInitiator.Q.on_ready = Modal.handleUniversal();\n\t\tInitiator.Q.on_resize = Modal.handleResize();\n\n\t}\n}\n\nexport default Modal;\n\nModal.initListeners();","import Initiator from './core/initiator.js';\nimport Settings from './core/settings.js';\n\nimport FwEvent from './data-helper/event.js';\nimport FwDom from './data-helper/dom.js';\nimport FwString from './data-helper/string.js';\nimport FwArray from './data-helper/array.js';\n\nimport FwComponent from './classes/component.js';\nimport { BrTag,ValidateBr } from './util/breakpoint.js';\n\n\nconst NAME = 'moduleGrid';\nconst COMPONENT_CLASS = `${FwString.ToDashed(NAME)}`;\nconst COMPONENT_CHILDREN_CLASS = `module`;\n\nconst DATA_KEY = `${Settings.get('prefix')}.${NAME}`;\n\nconst EVENT_KEY = `.${DATA_KEY}`;\n\n\tconst EVENT_BEFORE_INIT = `before_init${EVENT_KEY}`;\n\tconst EVENT_INIT = `init${EVENT_KEY}`;\n\tconst EVENT_AFTER_INIT = `after_init${EVENT_KEY}`;\n\n\tconst EVENT_BEFORE_RENDER = `before_render${EVENT_KEY}`;\n\tconst EVENT_RENDER = `render${EVENT_KEY}`;\n\tconst EVENT_AFTER_RENDER = `after_render${EVENT_KEY}`;\n\n\tconst EVENT_BEFORE_RENDER_GRID = `before_render_grid${EVENT_KEY}`;\n\tconst EVENT_RENDER_GRID = `render_grid${EVENT_KEY}`;\n\tconst EVENT_AFTER_RENDER_GRID = `after_render_grid${EVENT_KEY}`;\n\n\tconst EVENT_BEFORE_RENDER_BLOCK = `before_render_block${EVENT_KEY}`;\n\tconst EVENT_RENDER_BLOCK = `render_block${EVENT_KEY}`;\n\tconst EVENT_AFTER_RENDER_BLOCK = `after_render_block${EVENT_KEY}`;\n\n\nconst PROPERTIES_WRAPPER = [\n\t\t'grid-template-columns',\n\t\t'grid-template-rows',\n\t\t'grid-template-areas',\n\t\t'grid-column-start',\n\t\t'grid-template-end',\n\t\t'grid-template',\n\t\t'grid-column-gap',\n\t\t'grid-row-gap',\n\t\t'justify-items',\n\t\t'align-items',\n\t\t'justify-content',\n\t\t'align-content',\n\t\t'place-content',\n\t\t'grid-auto-columns',\n\t\t'grid-auto-rows',\n\t\t'grid-auto-flow',\n\t\t'grid',\n\t];\n\nconst PROPERTIES_CHILDREN = [\n\t'grid-area',\n\t'grid-column',\n\t'grid-row',\n\t'grid-column-start',\n\t'grid-column-end',\n\t'grid-row-start',\n\t'grid-row-end',\n\t'justify-self',\n\t'align-self',\n\t'place-self',\n];\n\n\nclass ModuleGrid extends FwComponent {\n\n\tstatic get DATA_KEY(){\n\t\treturn DATA_KEY;\n\t}\n\n\tget UIChildren () {\n\t\treturn super.UIEl().querySelectorAll(`.${COMPONENT_CHILDREN_CLASS}`);\n\t}\n\n\t_loopProps(block,props){\n\t\tprops.forEach((prop) => {\n\t\t\tlet propsSet = false,\n\t\t\t\tpropSetBr = false,\n\t\t\t\tsmallestStyledBr = false;\n\n\t\t\t//check for breakpointz first\n\t\t\tFwArray.reverse(BrTag).forEach((br) => {\n\t\t\t\tif (\n\t\t\t\t\tblock.hasAttribute(`data-${prop}-${br}`)\n\t\t\t\t\t&& !propsSet\n\t\t\t\t) {\n\t\t\t\t\tsmallestStyledBr = br;\n\t\t\t\t\tif (ValidateBr(br, 'above')) {\n\t\t\t\t\t\tblock\n\t\t\t\t\t\t\t.style[FwString.ToCamelCase(prop)] = block.getAttribute(\n\t\t\t\t\t\t\t\t`data-${prop}-${br}`\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\tpropsSet = true;\n\t\t\t\t\t\tpropSetBr = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tif (\n\t\t\t\tblock.hasAttribute(`data-${prop}`)\n\t\t\t\t&& !propsSet\n\t\t\t) {\n\t\t\t\t//check for all breakpoint\n\t\t\t\tif (\n\t\t\t\t\t!propsSet\n\t\t\t\t\t&& !propSetBr\n\t\t\t\t) {\n\t\t\t\t\tblock\n\t\t\t\t\t\t.style[FwString.ToCamelCase(prop)] = block.getAttribute(\n\t\t\t\t\t\t\t`data-${prop}`\n\t\t\t\t\t\t);\n\t\t\t\t\tpropsSet = true;\n\t\t\t\t}\n\n\t\t\t} else {\n\t\t\t\tif (\n\t\t\t\t\tblock.style[FwString.ToCamelCase(prop)] !== null\n\t\t\t\t\t&& smallestStyledBr\n\t\t\t\t\t&& !ValidateBr(smallestStyledBr, 'above')\n\t\t\t\t) {\n\t\t\t\t\tblock.style[FwString.ToCamelCase(prop)] = null;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n\n\trenderGrid(elem){\n\t\tconst element = elem ?\n\t\t\tsuper.UIEl(elem)\n\t\t\t: super.UIEl();\n\n\t\t\tFwEvent.trigger(elem,EVENT_BEFORE_RENDER_GRID);\n\t\t\tFwEvent.trigger(elem,EVENT_RENDER_GRID);\n\n\t\t\tthis._loopProps(element,PROPERTIES_WRAPPER);\n\n\t\t\tFwEvent.trigger(elem,EVENT_AFTER_RENDER_GRID);\n\t}\n\n\trenderBlocks(){\n\n\t\tthis.UIChildren.forEach((child)=>{\n\n\t\t\tFwEvent.trigger(child,EVENT_BEFORE_RENDER_BLOCK);\n\t\t\tFwEvent.trigger(child,EVENT_RENDER_BLOCK);\n\n\t\t\tthis._loopProps(child,PROPERTIES_CHILDREN);\n\n\t\t\tFwEvent.trigger(child,EVENT_AFTER_RENDER_BLOCK);\n\t\t});\n\t}\n\n\trender(elem){\n\t\tconst element = elem ?\n\t\t\tsuper.UIEl(elem)\n\t\t\t: super.UIEl();\n\n\n\t\t\tFwEvent.trigger(elem,EVENT_BEFORE_RENDER);\n\t\t\tFwEvent.trigger(elem,EVENT_RENDER);\n\n\t\t\tthis.renderGrid(element);\n\t\t\tthis.renderBlocks();\n\t\t\n\t\t\tFwEvent.trigger(elem,EVENT_AFTER_RENDER);\n\t}\n\t\n\n\tstatic handleUniversal() {\n\t\treturn () => {\n\n\n\t\t\tFwEvent.trigger(document.documentElement,EVENT_BEFORE_INIT);\n\t\t\tFwEvent.trigger(document.documentElement,EVENT_INIT);\n\n\t\t\tconst grids = document.querySelectorAll(`.${COMPONENT_CLASS}`);\n\n\t\t\tgrids.forEach((grid)=>{\n\t\t\t\tconst moduleGrid = new ModuleGrid(grid);\n\t\t\t\tmoduleGrid.render();\n\t\t\t})\n\n\t\t\tFwEvent.trigger(document.documentElement,EVENT_AFTER_INIT);\n\t\t}\n\t\t\n\t}\n\n\tstatic initListeners(){\n\t\tInitiator.Q.on_ready = ModuleGrid.handleUniversal();\n\t\tInitiator.Q.on_resize = ModuleGrid.handleUniversal();\n\t}\n}\n\n\nexport default ModuleGrid;\nModuleGrid.initListeners();","import Initiator from './core/initiator.js';\nimport Settings from './core/settings.js';\n\nimport FwEvent from './data-helper/event.js';\nimport FwString from './data-helper/string.js';\nimport FwDom from './data-helper/dom.js';\n\nimport FwComponent from './classes/component.js';\nimport { UIToggled,UIPurge } from './util/ui.js';\n\n\nconst NAME = 'switch';\nconst TOGGLE_MODE = `${NAME}`;\nconst TOGGLE_MODE_ON = `${TOGGLE_MODE}-on`;\nconst TOGGLE_MODE_OFF = `${TOGGLE_MODE}-off`;\nconst COMPONENT_CLASS = `${FwString.ToDashed(NAME)}`;\n\tconst COMPONENT_CLASS_STATUS_OFF = `${COMPONENT_CLASS}-to-off`;\n\tconst COMPONENT_CLASS_STATUS_ON = `${COMPONENT_CLASS}-to-on`;\n\tconst COMPONENT_CLASS_IDLE = `${COMPONENT_CLASS}-idle`;\n\nconst DATA_KEY = `${Settings.get('prefix')}.${NAME}`;\n\nconst EVENT_KEY = `.${DATA_KEY}`;\nconst EVENT_CLICK = `click${EVENT_KEY}`;\n\tconst EVENT_CLICK_PURGE = `click${EVENT_KEY}.purge`;\n\nconst EVENT_BEFORE_INIT = `before_init${EVENT_KEY}`;\nconst EVENT_INIT = `init${EVENT_KEY}`;\nconst EVENT_AFTER_INIT = `after_init${EVENT_KEY}`;\n\nconst EVENT_BEFORE_ON = `before_on${EVENT_KEY}`;\nconst EVENT_ON = `on${EVENT_KEY}`;\nconst EVENT_AFTER_ON = `after_on${EVENT_KEY}`;\n\nconst EVENT_BEFORE_OFF = `before_off${EVENT_KEY}`;\nconst EVENT_OFF = `off${EVENT_KEY}`;\nconst EVENT_AFTER_OFF = `after_off${EVENT_KEY}`;\n\n\nclass Switch extends FwComponent {\n\n\tconstructor(element,triggerer){\n\t\telement = element || UIToggled(TOGGLE_MODE) || false;\n\n\t\tsuper(\n\t\t\telement,\n\t\t\t{\n\t\t\t\ttriggerer:(\n\t\t\t\t\ttriggerer\n\t\t\t\t\t\t? new FwDom(triggerer)\n\t\t\t\t\t: false\n\t\t\t\t)\n\t\t\t}\n\t\t);\n\t}\n\n\tdispose() {\n\t\tsuper.dispose();\n\t\tthis.triggerer = null;\n\t}\n\n\tstatic get DATA_KEY(){\n\t\treturn DATA_KEY;\n\t}\n\n\tisOff(elem){\n\t\tconst element = elem ?\n\t\t\tsuper.UIEl(elem)\n\t\t\t: super.UIEl();\n\t\t\treturn element.classList.contains(COMPONENT_CLASS_STATUS_OFF);\n\t}\n\n\n\tisOn(elem){\n\t\tconst element = elem ?\n\t\t\tsuper.UIEl(elem)\n\t\t\t: super.UIEl();\n\n\t\t\treturn element.classList.contains(COMPONENT_CLASS_STATUS_ON) || !this.isOff();\n\n\n\t}\n\t\n\tisIdle(elem){\n\t\tconst element = elem ?\n\t\t\tsuper.UIEl(elem)\n\t\t\t: super.UIEl();\n\t\t\t\n\t\t\telement.classList.contains(COMPONENT_CLASS_IDLE);\n\t}\n\n\t//catch bois that re not off\n\tinit(elem){\n\t\tconst element = elem ?\n\t\t\tsuper.UIEl(elem)\n\t\t\t: super.UIEl();\n\n\t\tif(!element.classList.contains(COMPONENT_CLASS_STATUS_ON) && !element.classList.contains(COMPONENT_CLASS_STATUS_OFF)){\n\t\t\telement.classList.add(COMPONENT_CLASS_STATUS_OFF);\n\t\t}\n\n\t}\n\n\tturnOff(elem){\n\t\tconst element = elem ?\n\t\t\tsuper.UIEl(elem)\n\t\t\t: super.UIEl();\n\t\t\tFwEvent.trigger(element,EVENT_BEFORE_OFF);\n\n\t\t\tFwEvent.trigger(element,EVENT_OFF);\n\t\t\telement.classList.remove(COMPONENT_CLASS_STATUS_ON);\n\t\t\telement.classList.add(COMPONENT_CLASS_STATUS_OFF);\n\n\t\t\tFwEvent.trigger(element,EVENT_AFTER_OFF);\n\t}\n\n\tturnOn(elem){\n\t\tconst element = elem ?\n\t\t\tsuper.UIEl(elem)\n\t\t\t: super.UIEl();\n\n\t\t\tFwEvent.trigger(element,EVENT_BEFORE_ON);\n\t\t\tFwEvent.trigger(element,EVENT_ON);\n\n\t\t\telement.classList.remove(COMPONENT_CLASS_STATUS_OFF);\n\t\t\telement.classList.add(COMPONENT_CLASS_STATUS_ON);\n\n\t\t\tFwEvent.trigger(element,EVENT_AFTER_ON);\n\t}\n\n\ttoggle(elem){\n\t\tconst element = elem ?\n\t\t\tsuper.UIEl(elem)\n\t\t\t: super.UIEl();\n\n\n\t\t\tif(this.isOff()){\n\t\t\t\tthis.turnOn();\n\t\t\t}else{\n\t\t\t\tthis.turnOff();\n\t\t\t}\n\t\t\n\t}\n\t\n\n\tstatic purge(exempted){\n\t\tUIPurge(\n\t\t\texempted,\n\t\t\t`.${COMPONENT_CLASS}:not(.${COMPONENT_CLASS_IDLE})`,\n\t\t\t(elem)=> {\n\t\t\t\tnew Switch(elem).turnOff();\n\t\t\t}\n\t\t);\n\t}\n\n\tstatic handleToggleOn() {\n\t\treturn (e) => {\n\t\t\te.preventDefault();\n\n\t\t\tif(!FwComponent.isDisabled(e.target)){\n\t\t\t\tconst switcher = new Switch(\n\t\t\t\t\tUIToggled(TOGGLE_MODE,e.target),\n\t\t\t\t\te.target\n\t\t\t\t);\n\t\t\t\tSwitch.purge(UIToggled(TOGGLE_MODE,e.target));\n\t\t\t\tswitcher.turnOn();\n\n\t\t\t}\n\t\t}\n\t}\n\n\tstatic handleToggleOff() {\n\t\treturn (e) => {\n\t\t\te.preventDefault();\n\n\t\t\tif(!FwComponent.isDisabled(e.target)){\n\t\t\t\tconst switcher = new Switch(\n\t\t\t\t\tUIToggled(TOGGLE_MODE,e.target),\n\t\t\t\t\te.target\n\t\t\t\t);\n\t\t\t\tswitcher.turnOff();\n\t\t\t\t\n\t\t\t}\n\t\t}\n\t}\n\n\tstatic handleInit(){\n\t\treturn () => {\n\t\tFwEvent.trigger(document.documentElement,EVENT_BEFORE_INIT);\n\t\tFwEvent.trigger(document.documentElement,EVENT_INIT);\n\n\t\t\tUIPurge(\n\t\t\t\tfalse,\n\t\t\t\t`.${COMPONENT_CLASS}`,\n\t\t\t\t(elem)=> {\n\t\t\t\t\tnew Switch(elem).init();\n\t\t\t\t}\n\t\t\t);\n\n\t\tFwEvent.trigger(document.documentElement,EVENT_AFTER_INIT);\n\t\t}\n\t}\n\n\tstatic handleUniversalPurge(){\n\t\treturn (e) => {\n\t\t\tif (FwComponent.isDisabled(e.target)) {\n\t\t\t\te.preventDefault();\n\t\t\t} else if(!FwComponent.isDynamic(e.target)) {\n\t\t\t\tif (\n\t\t\t\t\t!e.target.closest(`[data-toggle-${TOGGLE_MODE_ON}]`)\n\t\t\t\t\t&& !e.target.closest(`[data-toggle-${TOGGLE_MODE_OFF}]`)\n\t\t\t\t\t&& !e.target.closest(`.${COMPONENT_CLASS}`)\n\t\t\t\t){\n\t\t\t\t\tSwitch.purge();\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t}\n\t}\n\n\tstatic initListeners(){\n\n\t\tFwEvent.addListener(\n\t\t\tdocument.documentElement,\n\t\t\tEVENT_CLICK,\n\t\t\t`*[data-toggle-${TOGGLE_MODE_OFF}]`,\n\t\t\tSwitch.handleToggleOff()\n\t\t);\n\n\t\tFwEvent.addListener(\n\t\t\tdocument.documentElement,\n\t\t\tEVENT_CLICK,\n\t\t\t`*[data-toggle-${TOGGLE_MODE_ON}]`,\n\t\t\tSwitch.handleToggleOn()\n\t\t);\n\n\t\tFwEvent.addListener(\n\t\t\tdocument.documentElement,\n\t\t\tEVENT_CLICK_PURGE,\n\t\t\t`*`,\n\t\t\tSwitch.handleUniversalPurge()\n\t\t);\n\n\t\tInitiator.Q.on_ready = Switch.handleInit();\n\t}\n}\n\nexport default Switch;\n\nSwitch.initListeners();","import Settings from './core/settings.js';\n\nimport FwEvent from './data-helper/event.js';\nimport FwDom from './data-helper/dom.js';\nimport FwString from './data-helper/string.js';\n\nimport FwComponent from './classes/component.js';\n\n\nconst NAME = 'tabs';\nconst COMPONENT_CLASS = `${FwString.ToDashed(NAME)}`;\nconst COMPONENT_CHILDREN_CLASS = 'tab';\nconst COMPONENT_CHILDREN_TAG = 'li';\nconst ACTIVATED_CLASS = `active`;\n\nconst DATA_KEY = `${Settings.get('prefix')}.${NAME}`;\n\nconst EVENT_KEY = `.${DATA_KEY}`;\nconst EVENT_CLICK = `click${EVENT_KEY}`;\n\n\tconst EVENT_BEFORE_ACTIVATE = `before_activate${EVENT_KEY}`;\n\tconst EVENT_ACTIVATE = `activate${EVENT_KEY}`;\n\tconst EVENT_AFTER_ACTIVATE = `after_activate${EVENT_KEY}`;\n\nclass Tabs extends FwComponent {\n\n\tstatic get DATA_KEY(){\n\t\treturn DATA_KEY;\n\n\t}\n\n\tUIChildren(){\n\t\treturn super.UIEl().querySelectorAll(`.${COMPONENT_CHILDREN_CLASS}, ${COMPONENT_CHILDREN_TAG}`);\n\t}\n\n\tUIActive(){\n\t\treturn super.UIEl().querySelector(`.${COMPONENT_CHILDREN_CLASS}.${ACTIVATED_CLASS}, ${COMPONENT_CHILDREN_TAG}.${ACTIVATED_CLASS}`);\n\t}\n\n\ttarget(element){\n\t\tif(element) return new FwDom(element).closest(`.${COMPONENT_CHILDREN_CLASS}`);\n\t}\n\n\tactivate(target,elem){\n\t\tconst element = elem ?\n\t\t\tsuper.UIEl(elem)\n\t\t\t: super.UIEl();\n\t\t\t\n\t\tconst theTab = this.target(target);\n\n\t\tif(!theTab){\n\t\t\treturn false;\n\t\t}\n\n\t\tFwEvent.trigger(element,EVENT_BEFORE_ACTIVATE);\n\n\t\tif (!theTab.classList.contains(`${ACTIVATED_CLASS}`)) {\n\t\t\tFwEvent.trigger(element,EVENT_ACTIVATE);\n\t\t\tconst triggererSiblings = FwDom.getSiblings(\n\t\t\t\ttheTab\n\t\t\t);\n\t\t\ttriggererSiblings\n\t\t\t\t.filter((sibling) => {\n\t\t\t\t\treturn (\n\t\t\t\t\t\tsibling.matches(`.${COMPONENT_CHILDREN_CLASS}`)\n\t\t\t\t\t\t|| sibling.matches(`${COMPONENT_CHILDREN_TAG}`)\n\t\t\t\t\t);\n\t\t\t\t})\n\t\t\t\t.forEach((sibling) => {\n\t\t\t\t\tsibling.classList.remove(`${ACTIVATED_CLASS}`);\n\t\t\t\t});\n\n\t\t\ttheTab.classList.add(`${ACTIVATED_CLASS}`);\n\t\t}\n\n\t\tFwEvent.trigger(element,EVENT_AFTER_ACTIVATE);\n\n\t}\n\n\n\tstatic handleClick() {\n\t\treturn (e) => {\n\n\t\t\tif (FwComponent.isDisabled(e.target)) {\n\t\t\t\te.preventDefault();\n\n\t\t\t} else {\n\t\t\t\tconst tabs = new Tabs(e.target.closest('.tabs'));\n\t\t\t\ttabs.activate(e.target);\n\t\t\t}\n\t\t}\n\t}\n\n\tstatic initListeners(){\n\t\tFwEvent.addListener(\n\t\t\tdocument.documentElement,\n\t\t\tEVENT_CLICK,\n\t\t\t`.${COMPONENT_CLASS} > ${COMPONENT_CHILDREN_TAG} > *, .${COMPONENT_CHILDREN_CLASS}, .${COMPONENT_CHILDREN_CLASS} > *`,\n\t\t\tTabs.handleClick()\n\t\t);\n\t}\n\t\n}\n\nexport default Tabs;\n\nTabs.initListeners(); ","import Initiator from './core/initiator.js';\nimport Settings from './core/settings.js';\nimport {Palette} from './util/validation.js';\n\nimport FwEvent from './data-helper/event.js';\nimport FwString from './data-helper/string.js';\n\nimport FwComponent from './classes/component.js';\n\nconst NAME = 'tooltip';\nconst TOGGLE_MODE_CLICK = `${NAME}-click`;\nconst TOGGLE_MODE_HOVER = `${NAME}-hover`;\nconst COMPONENT_CLASS = `${FwString.ToDashed(NAME)}`;\nconst COMPONENT_CUSTOM_WIDTH_CLASS = `${COMPONENT_CLASS}-has-custom-width`;\nconst COMPONENT_PURGER_CLASS = `${COMPONENT_CLASS}-purger`;\nconst COMPONENT_ALLOW_INTERACTION_CLASS = `${COMPONENT_CLASS}-allow-interaction`;\nconst ACTIVATED_CLASS = `active`;\n\n\n\nconst DATA_KEY = `${Settings.get('prefix')}.${NAME}`;\n\nconst EVENT_KEY = `.${DATA_KEY}`;\nconst EVENT_CLICK = `click${EVENT_KEY}`;\n\tconst EVENT_CLICK_PURGE = `click${EVENT_KEY}.purge`;\nconst EVENT_MOUSEENTER = `mouseenter${EVENT_KEY}`;\nconst EVENT_MOUSELEAVE = `mouseleave${EVENT_KEY}`;\n\n\tconst EVENT_BEFORE_CREATE = `before_create${EVENT_KEY}`;\n\tconst EVENT_CREATE = `create${EVENT_KEY}`;\n\tconst EVENT_AFTER_CREATE = `after_create${EVENT_KEY}`;\n\n\tconst EVENT_BEFORE_DESTROY = `before_destroy${EVENT_KEY}`;\n\tconst EVENT_DESTROY = `destroy${EVENT_KEY}`;\n\tconst EVENT_AFTER_DESTROY = `after_destroy${EVENT_KEY}`;\n\n\tconst EVENT_BEFORE_POSITION = `before_position${EVENT_KEY}`;\n\tconst EVENT_POSITION = `position${EVENT_KEY}`;\n\tconst EVENT_AFTER_POSITION = `after_position${EVENT_KEY}`;\n\n\tconst CURRENT_TOOLTIP_INSTANCE = {\n\t\tUI: null,\n\t\ttriggerer:null,\n\t\targs: null\n\t}\n\nclass Tooltip extends FwComponent {\n\t\n\tconstructor(triggerElement,args){\n\n\t\ttriggerElement = triggerElement || Tooltip.current.triggerer || false;\n\n\t\tsuper(\n\t\t\ttriggerElement,\n\t\t\t{\n\t\t\t\t_customArgs: args\n\t\t\t\t\t|| false\n\t\t\t}\n\t\t);\n\t}\n\n\tdispose() {\n\t\tsuper.dispose();\n\t\tthis._customArgs = null;\n\t}\n\n\tstatic get current() {\n\t\treturn CURRENT_TOOLTIP_INSTANCE;\n\t}\n\n\tstatic set current(obj){\n\t\tCURRENT_TOOLTIP_INSTANCE.UI = obj.UI;\n\t\tCURRENT_TOOLTIP_INSTANCE.args = obj.args;\n\t\tCURRENT_TOOLTIP_INSTANCE.triggerer = obj.triggerer;\n\t}\n\n\tget UICurrent(){\n\t\treturn Tooltip.current.UI;\n\t}\n\n\tstatic get configDefaults(){\n\t\treturn {\n\t\t\tplacement: 'left',\n\t\t\tbadge: false,\n\t\t\tbadgeBg: 'primary',\n\t\t\tbadgeSize: '',\n\t\t\tclasses: '',\n\t\t\tinverse:false,\n\t\t\tsize: '',\n\t\t\tcontent: '<em class=\"color-neutral tooltip-placeholder\">No info...</em>',\n\t\t\tcenterX: false,\n\t\t\tcenterY: false,\n\t\t\tx: false,\n\t\t\ty: false,\n\t\t\twidth: null,\n\t\t\tallowInteraction: false\n\t\t}\n\t}\n\n\tget args () {\n\t\t\n\t\treturn FwComponent._parseArgs(\n\t\t\t(this._customArgs\n\t\t\t\t? this._customArgs\n\t\t\t\t: {\n\t\t\t\t\tplacement:\n\t\t\t\t\t\tsuper.UIEl().\n\t\t\t\t\t\t\tgetAttribute(`data-${NAME}-placement`),\n\t\t\t\t\tbadge:\n\t\t\t\t\t\tsuper.UIEl().\n\t\t\t\t\t\t\tgetAttribute(`data-${NAME}-badge`),\n\t\t\t\t\tbadgeBg:\n\t\t\t\t\t\tsuper.UIEl().\n\t\t\t\t\t\t\tgetAttribute(`data-${NAME}-badge-background`),\n\t\t\t\t\tbadgeSize:\n\t\t\t\t\t\tsuper.UIEl().\n\t\t\t\t\t\t\tgetAttribute(`data-${NAME}-badge-size`),\n\t\t\t\t\tclasses:\n\t\t\t\t\t\tsuper.UIEl().\n\t\t\t\t\t\t\tgetAttribute(`data-${NAME}-classes`),\n\t\t\t\t\tcontent:\n\t\t\t\t\t\tsuper.UIEl().\n\t\t\t\t\t\t\tgetAttribute(`data-${NAME}-content`),\n\t\t\t\t\tinverse:\n\t\t\t\t\t\tsuper.UIEl().\n\t\t\t\t\t\t\tgetAttribute(`data-${NAME}-inverse`),\n\t\t\t\t\tsize:\n\t\t\t\t\t\tsuper.UIEl().\n\t\t\t\t\t\t\tgetAttribute(`data-${NAME}-size`),\n\t\t\t\t\tcenterX:\n\t\t\t\t\t\tsuper.UIEl().\n\t\t\t\t\t\t\tgetAttribute(`data-${NAME}-center-x`),\n\t\t\t\t\tcenterY:\n\t\t\t\t\t\tsuper.UIEl().\n\t\t\t\t\t\t\tgetAttribute(`data-${NAME}-center-y`),\n\t\t\t\t\tx:\n\t\t\t\t\t\tsuper.UIEl().\n\t\t\t\t\t\t\tgetAttribute(`data-${NAME}-x`),\n\t\t\t\t\ty:\n\t\t\t\t\t\tsuper.UIEl().\n\t\t\t\t\t\t\tgetAttribute(`data-${NAME}-y`),\n\t\t\t\t\twidth:\n\t\t\t\t\t\tsuper.UIEl().\n\t\t\t\t\t\t\tgetAttribute(`data-${NAME}-width`),\n\t\t\t\t\tallowInteraction:\n\t\t\t\t\t\tsuper.UIEl().\n\t\t\t\t\t\t\tgetAttribute(`data-${NAME}-allow-interaction`)\n\t\t\t\t}\n\t\t\t),\n\t\t\tTooltip.configDefaults\n\t\t);\n\t}\n\n\tstatic get DATA_KEY(){\n\t\treturn DATA_KEY;\n\t}\n\n\t_markup(){\n\t\tlet html = '';\n\n\t\tif (this.args.badge) {\n\t\t\thtml += `<span class=\"badge ${NAME}-badge`;\n\t\t\t\tif (\n\t\t\t\t\tthis.args.badgeSize == 'small'\n\t\t\t\t\t|| this.args.badgeSize == 'large'\n\t\t\t\t) {\n\t\t\t\t\thtml += ` badge-${this.args.badgeSize}`;\n\t\t\t\t}\n\n\t\t\t\tif (Palette.includes(this.args.badgeBg)) {\n\t\t\t\t\thtml += ` badge-${this.args.badgeBg}`;\n\t\t\t\t} else {\n\t\t\t\t\thtml += `\" style=\"background-color:${this.args.badgeBg};`;\n\t\t\t\t}\n\t\t\thtml += `\"></span>`;\n\t\t}\n\n\t\thtml += `<div class=\"${NAME}-content ${this.args.classes}\">${this.args.content}</div></div>`;\n\n\t\treturn html;\n\t}\n\n\tget elementOffset(){\n\t\tconst element = super.UIEl();\n\n\t\treturn {\n\t\t\ttop:\n\t\t\t\telement.getBoundingClientRect().top + window.pageYOffset,\n\t\t\tleft:\n\t\t\t\telement.getBoundingClientRect().left + window.pageXOffset,\n\t\t\theight:\n\t\t\t\telement.getBoundingClientRect().height,\n\t\t\twidth:\n\t\t\t\telement.getBoundingClientRect().width,\n\t\t}\n\t}\n\n\tget _pointWidth(){\n\n\t\tlet toReturn = parseFloat(\n\t\t\twindow\n\t\t\t\t.getComputedStyle(Tooltip.current.UI, ':before')\n\t\t\t\t.getPropertyValue('width')\n\t\t);\n\t\t\t\n\t\t\ttoReturn = Math.sqrt(toReturn * toReturn * 2) * 0.5;\n\t\t\tisNaN(toReturn) && (toReturn = 15);\n\n\t\treturn toReturn;\n\t}\n\n\tget badge(){\n\t\tif(!this.UICurrent){\n\t\t\treturn\n\t\t}\n\t\treturn this.UICurrent.querySelector(`.${COMPONENT_CLASS}-badge`);\n\t}\n\n\tget width(){\n\t\treturn this.UICurrent.getBoundingClientRect().width;\n\t}\n\n\tget height(){\n\t\treturn this.UICurrent.getBoundingClientRect().height;\n\t}\n\n\tset width(val){\n\t\tthis.UICurrent.style.width = val;\n\t}\n\n\tset height(val){\n\t\tthis.UICurrent.style.height = val;\n\t}\n\n\tcreate(elem){\n\t\tconst element = elem ?\n\t\t\tsuper.UIEl(elem)\n\t\t\t: super.UIEl();\n\n\t\tif(!element){\n\t\t\treturn\n\t\t}\n\n\t\tFwEvent.trigger(element,EVENT_BEFORE_CREATE);\n\n\t\tthis.destroy();\n\n\t\tFwEvent.trigger(element,EVENT_CREATE);\n\t\t\n\t\tconst tip = document.createElement('div');\n\t\t\tdocument.body.appendChild(tip);\n\n\t\ttip.className = `${COMPONENT_CLASS} ${COMPONENT_CLASS}-${this.args.placement}\n\t\t\t${(this.args.width ? COMPONENT_CUSTOM_WIDTH_CLASS : '')}\n\t\t\t${(this.args.allowInteraction ? COMPONENT_ALLOW_INTERACTION_CLASS : '')}\n\t\t\t${(this.args.size ? `${COMPONENT_CLASS}-${this.args.size}` : '')}\n\t\t\t${(this.args.inverse ? 'theme-inverse' : '')}`;\n\n\t\tif (this.args.width) {\n\t\t\ttip.style.width = this.args.width;\n\t\t}\n\n\t\ttip.innerHTML += this._markup();\n\n\t\tTooltip.current = {\n\t\t\tUI: tip,\n\t\t\targs: this.args,\n\t\t\ttriggerer: element\n\t\t}\n\n\t\tif (this.args.width) {\n\t\t\tthis.width = this.args.width;\n\t\t}\n\n\t\ttip.classList.add(ACTIVATED_CLASS);\n\n\t\tthis.position();\n\n\t\tFwEvent.trigger(element,EVENT_AFTER_CREATE);\n\t\t\n\t}\n\n\tdestroy(){\n\t\tconst element = Tooltip.current.UI;\n\n\t\tFwEvent.trigger(element,EVENT_BEFORE_DESTROY);\n\n\t\tif(!element){\n\t\t\treturn;\n\t\t}\n\n\t\tFwEvent.trigger(element,EVENT_DESTROY);\n\n\t\telement\n\t\t\t.parentNode.removeChild(element);\n\t\n\t\tTooltip.current = {\n\t\t\tUI: false,\n\t\t\targs: false,\n\t\t\ttriggerer: false\n\t\t}\n\n\t\tFwEvent.trigger(element,EVENT_AFTER_DESTROY);\n\t}\n\n\tget UIOffset(){\n\t\t\n\t\tlet the_x = this.width * -0.5; //top and bottom\n\t\tlet badgeOffsetX = 0;\n\n\t\tswitch (this.args.placement) {\n\t\t\tcase 'right':\n\t\t\t\tthe_x = this._pointWidth;\n\t\t\t\tbreak;\n\t\t\tcase 'left':\n\t\t\t\tthe_x = -(this.width + this._pointWidth);\n\t\t\t\tbreak;\n\t\t}\n\n\t\tif (\n\t\t\tthis.badge\n\t\t\t&& (\n\t\t\t\tthis.args.placement == 'left'\n\t\t\t\t|| this.args.placement == 'right'\n\t\t\t)\n\t\t) {\n\t\t\tbadgeOffsetX =\n\t\t\t\tthis.args.placement == 'left'\n\t\t\t\t\t? this.badge.getBoundingClientRect()\n\t\t\t\t\t\t\t.width * -0.5\n\t\t\t\t\t: this.badge.getBoundingClientRect()\n\t\t\t\t\t\t\t.width * 0.5;\n\t\t}\n\n\t\tthe_x += badgeOffsetX;\n\n\n\t\tlet the_y = this.height * -0.5; // left and right\n\t\tlet badgeOffsetY = 0;\n\n\t\tswitch (this.args.placement) {\n\t\t\tcase 'bottom':\n\t\t\t\tthe_y = this._pointWidth;\n\t\t\t\tbreak;\n\t\t\tcase 'top':\n\t\t\t\tthe_y = -(this.height + this._pointWidth);\n\t\t\t\tbreak;\n\t\t}\n\n\t\tif (\n\t\t\tthis.badge\n\t\t\t&& (\n\t\t\t\tthis.args.placement == 'top'\n\t\t\t\t|| this.args.placement == 'bottom'\n\t\t\t)\n\t\t) {\n\t\t\tbadgeOffsetY =\n\t\t\t\tthis.args.placement == 'top'\n\t\t\t\t\t? this.badge.getBoundingClientRect()\n\t\t\t\t\t\t\t.height * -0.5\n\t\t\t\t\t: this.badge.getBoundingClientRect()\n\t\t\t\t\t\t\t.height * 0.5;\n\t\t}\n\n\t\tthe_y += badgeOffsetY;\n\n\t\treturn {\n\t\t\tx: the_x,\n\t\t\ty: the_y\n\t\t\t// x: 0,\n\t\t\t// y: 0\n\t\t};\n\t}\n\n\tposition(posX,posY){\n\t\tconst element = super.UIEl();\n\n\t\tFwEvent.trigger(element,EVENT_BEFORE_POSITION);\n\t\tif(!Tooltip.current.UI){\n\t\t\treturn;\n\t\t}\n\n\t\tFwEvent.trigger(element,EVENT_POSITION);\n\n\t\tconst toolTip = Tooltip.current.UI;\n\n\t\tposX = posX || this.elementOrigin.x;\n\t\tposY = posY || this.elementOrigin.y;\n\n\t\ttoolTip.style.left = posX + this.UIOffset.x + 'px';\n\t\ttoolTip.style.top = posY + this.UIOffset.y + 'px';\n\n\t\tFwEvent.trigger(element,EVENT_AFTER_POSITION);\n\t}\n\n\tget elementOrigin(){\n\t\n\t\tif(!Tooltip.current.UI){\n\t\t\treturn;\n\t\t}\n\n\t\tlet the_x =\n\t\t\tthis.elementOffset.left + this.elementOffset.width * 0.5; //top and bottom\n\n\t\tif (!this.args.x) {\n\t\t\tif (!this.args.centerX) {\n\t\t\t\tswitch (this.args.placement) {\n\t\t\t\t\tcase 'right':\n\t\t\t\t\t\tthe_x =\n\t\t\t\t\t\t\tthis.elementOffset.left +\n\t\t\t\t\t\t\tthis.elementOffset.width;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'left':\n\t\t\t\t\t\tthe_x = this.elementOffset.left;\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\n\t\t} else {\n\t\t\tthe_x = parseFloat(this.args.x);\n\t\t}\n\n\t\tlet the_y =\n\t\t\tthis.elementOffset.top + this.elementOffset.height * 0.5; // left and right\n\t\tif (!this.args.y) {\n\t\t\tif (!this.args.centerY) {\n\t\t\t\tswitch (this.args.placement) {\n\t\t\t\t\tcase 'bottom':\n\t\t\t\t\t\tthe_y =\n\t\t\t\t\t\t\tthis.elementOffset.top +\n\t\t\t\t\t\t\tthis.elementOffset.height;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'top':\n\t\t\t\t\t\tthe_y = this.elementOffset.top;\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\n\t\t} else {\n\t\t\tthe_y = parseFloat(this.args.y);\n\t\t}\n\t\t\n\t\treturn {\n\t\t\tx: the_x,\n\t\t\ty: the_y\n\t\t}\n\t}\n\n\tstatic handleToggleClickOn(){\n\t\treturn (e)=>{\n\t\t\te.preventDefault();\n\t\n\t\t\tif (!FwComponent.isDisabled(e.target)) {\n\t\t\t\tconst tooltip = new Tooltip(e.target);\n\t\t\t\ttooltip.create();\n\t\t\t}\n\t\t}\n\t}\n\n\tstatic handleUniversalPurge(){\n\t\treturn (e) => {\n\t\t\tif (FwComponent.isDisabled(e.target)) {\n\t\t\t\te.preventDefault();\n\t\t\t} else if(!FwComponent.isDynamic(e.target)) {\n\t\t\t\tif (\n\t\t\t\t\t!e.target.closest(`[data-toggle-${TOGGLE_MODE_CLICK}]`)\n\t\t\t\t\t&& !e.target.closest(`[data-toggle-${TOGGLE_MODE_HOVER}]`)\n\t\t\t\t\t&& !e.target.closest(`.${COMPONENT_CLASS}.${COMPONENT_ALLOW_INTERACTION_CLASS}`)\n\t\t\t\t){\n\t\t\t\t\tconst tooltip =  new Tooltip();\n\t\t\t\t\ttooltip.destroy();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tstatic handleToggleHoverOn(){\n\t\treturn (e)=>{\n\t\t\tif (FwComponent.isDisabled(e.target)) {\n\t\t\t\te.preventDefault();\n\t\t\t} else {\n\t\t\t\tconst tooltip = new Tooltip(e.target);\n\t\t\t\ttooltip.create();\n\t\t\t}\n\t\t}\n\t}\n\n\tstatic handleToggleHoverOff(){\n\t\treturn (e)=>{\n\t\t\tconst tooltip =  new Tooltip();\n\t\t\ttooltip.destroy();\n\t\t}\n\t}\n\n\t\n\n\tstatic handleResizeScroll() {\n\t\treturn () => {\n\t\t\tif(Tooltip.current.triggerer){\n\t\t\t\ttooltip = new Tooltip(Tooltip.current.triggerer);\n\n\t\t\t\ttooltip.position();\n\t\t\t}\n\t\t}\n\t}\n\t\n\n\tstatic initListeners() {\n\n\t\tFwEvent.addListener(\n\t\t\tdocument.documentElement,\n\t\t\tEVENT_MOUSEENTER,\n\t\t\t`*[data-toggle-${TOGGLE_MODE_HOVER}]`,\n\t\t\tTooltip.handleToggleHoverOn()\n\t\t);\n\t\t\n\t\tFwEvent.addListener(\n\t\t\tdocument.documentElement,\n\t\t\tEVENT_MOUSELEAVE,\n\t\t\t`*[data-toggle-${TOGGLE_MODE_HOVER}]`,\n\t\t\tTooltip.handleToggleHoverOff()\n\t\t);\n\n\t\tFwEvent.addListener(\n\t\t\tdocument.documentElement,\n\t\t\tEVENT_CLICK,\n\t\t\t`*[data-toggle-${TOGGLE_MODE_CLICK}]`,\n\t\t\tTooltip.handleToggleClickOn()\n\t\t);\n\t\t\n\t\tFwEvent.addListener(\n\t\t\tdocument.documentElement,\n\t\t\tEVENT_CLICK_PURGE,\n\t\t\t`*, *.${COMPONENT_PURGER_CLASS}`,\n\t\t\tTooltip.handleUniversalPurge()\n\t\t);\n\n\t\tInitiator.Q.on_ready = Tooltip.handleResizeScroll();\n\t\tInitiator.Q.on_resize = Tooltip.handleResizeScroll();\n\t\t\n\t}\n}\n\nexport default Tooltip;\n\nTooltip.initListeners();","import Settings from './core/settings.js';\n\nimport FwEvent from './data-helper/event.js';\nimport FwDom from './data-helper/dom.js';\nimport FwString from './data-helper/string.js';\n\nimport FwComponent from './classes/component.js';\n\n\nconst NAME = 'zone';\nconst COMPONENT_CLASS = `${FwString.ToDashed(NAME)}`;\n\tconst ACTIVATED_CLASS = `${COMPONENT_CLASS}-has-content`;\n\tconst COMPONENT_TEXT_CLASS = `${ACTIVATED_CLASS}-text`;\n\nconst DATA_KEY = `${Settings.get('prefix')}.${NAME}`;\n\nconst EVENT_KEY = `.${DATA_KEY}`;\nconst EVENT_CHANGE = `change${EVENT_KEY}`;\n\n\tconst EVENT_BEFORE_ACTIVATE = `before_activate${EVENT_KEY}`;\n\tconst EVENT_ACTIVATE = `activate${EVENT_KEY}`;\n\tconst EVENT_AFTER_ACTIVATE = `after_activate${EVENT_KEY}`;\n\n\tconst EVENT_BEFORE_DEACTIVATE = `before_deactivate${EVENT_KEY}`;\n\tconst EVENT_DEACTIVATE = `deactivate${EVENT_KEY}`;\n\tconst EVENT_AFTER_DEACTIVATE = `after_deactivate${EVENT_KEY}`;\n\nclass Zone extends FwComponent {\n\n\tconstructor(element,formControl){\n\t\telement = element || false;\n\n\t\tsuper(\n\t\t\telement,\n\t\t\t{\n\t\t\t\t_formControl:(\n\t\t\t\t\tformControl\n\t\t\t\t\t\t? new FwDom(formControl)\n\t\t\t\t\t: false\n\t\t\t\t)\n\t\t\t}\n\t\t);\n\t}\n\n\tstatic get DATA_KEY(){\n\t\treturn DATA_KEY;\n\n\t}\n\n\tget UIControl(){\n\t\treturn this._formControl;\n\t}\n\n\tget UIDyText(){\n\t\treturn super.UIEl().querySelector(`.${COMPONENT_TEXT_CLASS}`);\n\t}\n\n\t_killDyText(){\n\t\tthis.UIDyText && this.UIDyText.parentNode.removeChild(this.UIDyText);\n\t}\n\n\tactivate(elem){\n\t\tconst element = elem ?\n\t\t\tsuper.UIEl(elem)\n\t\t\t: super.UIEl();\n\n\t\t\tFwEvent.trigger(element,EVENT_BEFORE_ACTIVATE);\n\t\t\tFwEvent.trigger(element,EVENT_ACTIVATE);\n\n\t\t\tthis._killDyText();\n\n\t\t\telement.classList.add(ACTIVATED_CLASS);\n\t\t\telement.innerHTML += `<div class=\"${COMPONENT_TEXT_CLASS}\">\n\t\t\t\t\t<span>${this.UIControl.files.length} files selected.<br> Click or drag and drop to reselect</span>\n\t\t\t\t</div>`;\n\t\n\t\t\tFwEvent.trigger(element,EVENT_AFTER_ACTIVATE);\n\n\t}\n\n\tdeactivate(elem){\n\t\tconst element = elem ?\n\t\t\tsuper.UIEl(elem)\n\t\t\t: super.UIEl();\n\t\t\tFwEvent.trigger(element,EVENT_BEFORE_DEACTIVATE);\n\t\t\tFwEvent.trigger(element,EVENT_DEACTIVATE);\n\n\t\t\tthis._killDyText();\n\t\t\telement.classList.remove(ACTIVATED_CLASS);\n\t\t\tFwEvent.trigger(element,EVENT_AFTER_DEACTIVATE);\n\n\t}\n\n\ttoggle(elem){\n\t\tconst element = elem ?\n\t\t\tsuper.UIEl(elem)\n\t\t\t: super.UIEl();\n\n\t\tthis.UIDyText && this.UIDyText.parentNode.removeChild(this.UIDyText);\n\n\t\tif (this.UIControl.value && this.UIControl.files.length) {\n\t\t\tthis.activate();\n\t\t} else {\n\t\t\tthis.deactivate();\n\t\t}\n\t}\n\n\n\tstatic handleClick() {\n\t\treturn (e) => {\n\n\t\t\tif (!FwComponent.isDisabled(e.target)) {\n\t\t\t\tconst zone = new Zone(e.target.closest(`.${COMPONENT_CLASS}`),e.target);\n\t\t\t\tzone.toggle();\n\t\t\t}\n\t\t}\n\t}\n\n\tstatic initListeners(){\n\t\tFwEvent.addListener(\n\t\t\tdocument.documentElement,\n\t\t\tEVENT_CHANGE,\n\t\t\t`.${COMPONENT_CLASS}`,\n\t\t\tZone.handleClick()\n\t\t);\n\t}\n\t\n}\n\nexport default Zone;\n\nZone.initListeners(); ","// import FwArrayay from './src/data-helper/array.js';\n// import FwString from './src/data-helper/string.js';\n// import FwDate from './src/data-helper/date.js';\n// import FwDom from './src/data-helper/dom.js';\n\n\nimport Initiator from './imports/core/initiator.js';\nimport Settings from './imports/core/settings.js';\n\nimport Accordion from './imports/accordion.js';\nimport Alert from './imports/alert.js';\nimport Button from './imports/button.js';\nimport Dropdown from './imports/dropdown.js';\nimport Form from './imports/form.js';\nimport Lazy from './imports/lazy.js';\nimport ListGroup from './imports/list-group.js';\nimport Modal from './imports/modal.js';\nimport ModuleGrid from './imports/module-grid.js';\nimport Switch from './imports/switch.js';\nimport Tabs from './imports/tabs.js';\nimport Tooltip from './imports/tooltip.js';\nimport Zone from './imports/zone.js';\n\nconst FrameWork = {\n\tInitiator,\n\tSettings,\n\tAccordion,\n\tAlert,\n\tButton,\n\tDropdown,\n\tForm,\n\tLazy,\n\tListGroup,\n\tModal,\n\tModuleGrid,\n\tSwitch,\n\tTabs,\n\tTooltip,\n\tZone,\n};\nexport default FrameWork"],"names":["CORE_SETTINGS","prefix","lazyLoad","initializeModal","initializeAccordion","dynamicHash","uiClass","uiJsClass","replace","Settings","modify","key","value","hasOwnProperty","get","toReturn","DisableClasses","lookupResetToParentClass","lookupResetFromClosestComponent","lookupResetFromClosestComponentUi","DateTimePreset","HumanDate","placeholder","pattern","template","HumanTime24","HumanTime12","Value","ValueDateTimePreset","dayNames","dayNamesShort","dayNamesShorter","monthNames","monthNamesShort","Palette","FwDataHelper","data","dataParser","dat","_FwData","getData","FwDom","selection","document","querySelectorAll","length","querySelector","slideDown","elem","style","display","slideUp","getSiblings","Array","prototype","filter","call","parentNode","children","child","isDescendant","parent","node","getAncestors","selector","parents","firstChar","charAt","classList","contains","substr","push","id","hasAttribute","tagName","toLowerCase","moveContents","elementToMoveContentsTo","oldParent","newParent","childNodes","appendChild","scrollToElem","ToScrollTo","direction","methods","scrollOpts","getBoundingClientRect","scrollTo","RunFnForChildren","ancestorElem","parentSelector","fn","forEach","closest","isSameNode","FwString","GetFileExtension","str","toString","split","pop","ToCamelCase","word","index","toUpperCase","ToDashed","UIPrefix","componentName","UIDynamicClass","UIBodyClass","noScroll","onDrag","loading","loaded","UITriggerer","triggerer","isGroupable","UIToggled","toggleMode","componentClass","selectorToMatch","getAttribute","startsWith","matches","i","possibleSiblings","nextElementSibling","window","location","hash","UIChangeHash","idToGoTo","history","pushState","scrollV","scrollH","title","pathname","search","body","scrollTop","scrollLeft","UIToggleGroup","element","activatedClass","siblingSelector","resetterClass","noActiveClass","multipleClass","console","log","resetter","butt","remove","selectorSiblings","sibling","toggle","add","UIPurge","exempted","callback","FwQueue","_on_load","_on_ready","_on_resize","_on_scroll","_on_rightAway","_on_init","INITIATOR_QUEUE","is_started","Initiator","resizeTimerInternal","scrollTimerInternal","isDocReady","readyState","addEventListener","setState","mode","setTimeout","setLoadingState","setCompleteState","start","ini","isStarted","Q","on_init","restart","warn","val","fnsArray","on_rightAway","on_ready","on_load","clearTimeout","on_resize","on_scroll","NativeEvents","FwEvent","classNester","selArr","sel","addListener","evt","selectorOrParentFallback","handler","elemToAddTo","evtNoApi","isNative","includes","event","target","trigger","detail","nativeEvt","_selection","translateToNative","el","customEventOpts","createEvent","initEvent","CustomEvent","dispatchEvent","bubbles","cancelable","_dataobj","storage","_set","fwKeys","_get","keyProperties","_remove","DataHandler","set","elm","FwComponent","props","constructor","DATA_KEY","dispose","getInstance","UIEl","_resetUIEl","Error","_runFn","eval","exec","err","error","_setInitState","beforeEvent","happeningEvent","afterEvent","_parseArgs","arr","defaults","args","prop","undefined","parser","isDisabled","classString","isDynamic","BrValue","xxs","xs","parseFloat","getComputedStyle","documentElement","getPropertyValue","sm","md","lg","xl","BrTag","Object","keys","BrMobileMax","ValidateBr","breakpoint","currIndex","indexOf","clientWidth","NAME","ARG_ATTRIBUTE_NAME","TOGGLE_MODE","COMPONENT_CLASS","ACTIVATED_CLASS","EVENT_KEY","EVENT_CLICK","EVENT_HASHCHANGE","EVENT_BEFORE_CLOSE","EVENT_CLOSE","EVENT_AFTER_CLOSE","EVENT_BEFORE_OPEN","EVENT_OPEN","EVENT_AFTER_OPEN","Accordion","_customArgs","_siblicide","_isWithinGroupMultiple","UIGroot","accBbies","close","hashChangeOverride","changeHash","_isValidWithinQuery","_isWithinAllowNoActive","_probablyToggle","_id","open","handleToggler","e","preventDefault","accordion","handleHash","initListeners","configDefaults","Alert","removeChild","closeAll","instance","alertInstance","handleClose","alert","handleCloseAll","EVENT_BEFORE_TOGGLE","EVENT_TOGGLE","EVENT_AFTER_TOGGLE","Button","handleToggle","button","COMPONENT_PURGER_CLASS","NAV_ANCESTOR","EVENT_CLICK_PURGE","EVENT_FOCUS","EVENT_BLUR","Dropdown","setDimensions","UIElNavcestor","purge","width","maxHeight","exemptedDropdown","dropdown","handleFocusOpen","blur","handleBlurClose","handleUniversalPurge","isPurger","FwDate","toParsed","d","yr","mo","dy","hr","mn","dateArr","timeArr","getFullYear","getMonth","getDate","getHours","getMinutes","RegExp","isValid","test","DateTimePresetArr","parseInt","Date","toHuman","date","format","iFormat","output","literal","lookAhead","match","formatNumber","len","num","formatName","shortNames","longNames","getDay","Math","round","getTime","toVal","adjacentMonth","offsetByMonth","dateOverride","currMonth","currYear","newMonth","newYear","defOffset","setMonth","setFullYear","setDate","EVENT_KEYUP","EVENT_CHANGE","EVENT_BEFORE_INIT","EVENT_INIT","EVENT_AFTER_INIT","EVENT_BEFORE_RENDER","EVENT_RENDER","EVENT_AFTER_RENDER","EVENT_BEFORE_UPDATE","EVENT_UPDATE","EVENT_AFTER_UPDATE","Calendar","valueToRender","UIValue","_arrowHtml","buttonClass","symbolClass","arrowDate","disValid","arrowClass","_calendar","startDate","validates","year","month","htmlString","_blockHtml","customClass","update","newValue","theValue","uiValue","renderValue","_renderUI","UIRoot","UIDates","UIInput","UIInputValue","rangeOnly","checkAgainst","disabledDates","dateNow","setHours","max","min","theUI","container","createElement","insertBefore","setAttribute","inputWrapper","components","component","textInput","innerHTML","heading","butts","yearSkip","monthSkip","dropdownInit","dropdownLimit","yearSpan","listItemDate","dateForValidation","currClass","listItem","grid","append","days","daysHTML","dayToRetrieve","startDay","dates","freeGridSpacePrev","calendarPrevDayStart","prevDay","offset","prevDate","loopDatePrev","dateBlockPrev","lastDate","dateBlockCurr","currNextFirstDay","freeGridSpaceNext","loopDateNext","dateBlockNext","init","initAll","calendars","cal","calendar","handleChange","handleUpdateKeyup","uiInput","y","m","preParsedVal","handleUpdateClick","handleRenderClick","theRenderDate","renderDate","Modifiers","ctrl","shift","alt","meta","hasActive","shiftKey","ctrlKey","altKey","metaKey","FwArrayay","moveItem","oi","ni","k","splice","reverse","newArray","FOCUS_CLASS","EVENT_KEYDOWN","EVENT_PASTE","INPUT_STRING","Tags","_scrollToUIInput","multipleLines","offsetLeft","offsetWidth","toArr","returnsWithInput","isArray","reduce","acc","tag","__is","join","filterValue","custFn","fnToFilter","applyFilter","valueToFilter","filterFnName","noInputValueToFilter","UIInputIdx","allowFilter","inputText","focus","wrapper","input","contentEditable","onKeyUp","keyUpScript","oldTags","valArr","tagHtml","insertAdjacentElement","attributes","attr","specified","name","disableNative","self","tagsInputs","poot","tagsInput","handleEditablePaste","pasted","clipboardData","originalEvent","handleEditableFocus","handleEditableBlur","currValue","handleEditableKeydown","currUIValue","FwArray","handleDelete","tagToRemove","handleEdit","tagToEdit","newUIValue","innerText","renderTags","inputValue","Form","COMPONENT_CLASS_SVG","SVG_REPLACED_CLASS","COMPONENT_SELECTOR","BODY_LOADING_CLASS","BODY_LOADED_CLASS","EVENT_BEFORE_SVGCONVERSION","EVENT_SVGCONVERSION","EVENT_AFTER_SVGCONVERSION","EVENT_BEFORE_LAZYLOAD","EVENT_LAZYLOAD","EVENT_AFTER_LAZYLOAD","Lazy","_ogElement","readyLoaded","loadSVG","imgID","imgClass","fetch","theSrc","then","response","text","markup","DOMParser","dom","parseFromString","svg","removeAttribute","UIOriginal","replaceWith","load","theSrcSet","backgroundImage","setStatus","status","addClass","removeClass","loadAll","images","img","lazy","CHILD_CLASS","COMPONENT_TOGGLEGROUP_PREFIX","ListGroup","triggeredChild","_triggeredChild","triggd","UITriggeredChild","listGroup","TOGGLE_MODE_PREFIX","DEFAULT_NAME","BOARD_NAME","EVENT_BEFORE_CREATE","EVENT_CREATE","EVENT_AFTER_CREATE","EVENT_BEFORE_DESTROY","EVENT_DESTROY","EVENT_AFTER_DESTROY","EVENT_BEFORE_RESIZE","EVENT_RESIZE","EVENT_AFTER_RESIZE","CURRENT_MODAL_INSTANCE","VALID_MODAL_MODES","Modal","currMode","current","_mode","create","destroy","UIElId","UIId","className","align","classes","_markup","UIContentBlock","resize","canRemoveHash","removeBodClass","getElementById","currentWidth","resizeBtn","modeToggle","handleResize","modal","handleUniversal","handleOpen","header","disableOverlay","closeClasses","fullscreen","fullscreenClasses","resizeClasses","html","decodeURIComponent","obj","COMPONENT_CHILDREN_CLASS","EVENT_BEFORE_RENDER_GRID","EVENT_RENDER_GRID","EVENT_AFTER_RENDER_GRID","EVENT_BEFORE_RENDER_BLOCK","EVENT_RENDER_BLOCK","EVENT_AFTER_RENDER_BLOCK","PROPERTIES_WRAPPER","PROPERTIES_CHILDREN","ModuleGrid","_loopProps","block","propsSet","propSetBr","smallestStyledBr","br","renderGrid","renderBlocks","UIChildren","render","grids","moduleGrid","TOGGLE_MODE_ON","TOGGLE_MODE_OFF","COMPONENT_CLASS_STATUS_OFF","COMPONENT_CLASS_STATUS_ON","COMPONENT_CLASS_IDLE","EVENT_BEFORE_ON","EVENT_ON","EVENT_AFTER_ON","EVENT_BEFORE_OFF","EVENT_OFF","EVENT_AFTER_OFF","Switch","isOff","isOn","isIdle","turnOff","turnOn","handleToggleOn","switcher","handleToggleOff","handleInit","COMPONENT_CHILDREN_TAG","EVENT_BEFORE_ACTIVATE","EVENT_ACTIVATE","EVENT_AFTER_ACTIVATE","Tabs","UIActive","activate","theTab","triggererSiblings","handleClick","tabs","TOGGLE_MODE_CLICK","TOGGLE_MODE_HOVER","COMPONENT_CUSTOM_WIDTH_CLASS","COMPONENT_ALLOW_INTERACTION_CLASS","EVENT_MOUSEENTER","EVENT_MOUSELEAVE","EVENT_BEFORE_POSITION","EVENT_POSITION","EVENT_AFTER_POSITION","CURRENT_TOOLTIP_INSTANCE","UI","Tooltip","triggerElement","badge","badgeSize","badgeBg","content","tip","placement","allowInteraction","size","inverse","position","posX","posY","toolTip","elementOrigin","x","left","UIOffset","top","handleToggleClickOn","tooltip","handleToggleHoverOn","handleToggleHoverOff","handleResizeScroll","centerX","centerY","pageYOffset","pageXOffset","height","sqrt","isNaN","UICurrent","the_x","badgeOffsetX","_pointWidth","the_y","badgeOffsetY","elementOffset","COMPONENT_TEXT_CLASS","EVENT_BEFORE_DEACTIVATE","EVENT_DEACTIVATE","EVENT_AFTER_DEACTIVATE","Zone","formControl","_formControl","_killDyText","UIDyText","UIControl","files","deactivate","zone","FrameWork"],"mappings":"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"}